2016/01/18 11:08:58  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 11:08:58  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 11:08:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:08:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:16  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 11:10:16  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 11:10:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:21  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 11:10:21  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 11:10:21  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 11:10:21  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 11:10:21  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 11:10:21  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 11:10:21  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 11:10:22  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 11:10:22  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:10:22  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:10:22  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 11:10:22  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 11:10:22  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 11:10:22  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 11:10:22  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 11:10:22  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 11:10:22  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 11:10:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:24  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:10:24  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:10:24  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:10:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:10:24  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:10:24  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:10:24  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:10:24  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:10:24  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:10:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:10:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:10:27  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:10:27  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04018' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:10:27  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:10:27  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:10:27  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:10:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:32  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:10:32  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:10:32  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:10:33  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:33  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:10:33  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:10:33  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:10:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:10:36  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 11:10:36  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:10:36  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:10:36  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:10:36  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 11:10:36  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 11:10:36  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:10:36  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 11:10:36  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:36  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 11:10:36  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:10:36  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 11:10:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:10:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:10:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:51  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:10:51  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:10:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:54  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:10:54  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:10:54  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:10:54  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:10:54  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:10:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:55  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:10:55  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:10:55  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:10:55  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:10:55  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:10:56  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:10:56  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:10:56  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:10:56  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:10:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:10:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:10:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:10:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:10:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:10:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:10:59  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:10:59  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:10:59  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:10:59  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:10:59  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:11:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:00  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:11:00  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:11:00  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:11:00  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:11:00  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:11:02  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:11:02  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:11:02  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:11:02  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:11:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:05  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:11:05  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:11:05  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:11:05  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:11:05  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:11:05  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:11:05  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:11:05  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:11:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:06  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:11:06  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:11:06  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:11:06  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:11:06  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:11:06  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:11:06  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:11:06  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:11:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:11:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:11:07  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:11:07  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:07  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:11:07  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:11:07  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:11:08  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3388
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 80000
      [:TaxKin] 6400
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001003
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3388
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:11:08  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3388
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:11:08  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:11:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:11:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:11:08  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:11:08  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:11:08  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:11:08  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:08  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:11:08  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:08  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:11:08  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:11:08  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:11:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:11:09  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:11:09  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04031
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:11:09  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:11:09  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:11:09  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:11:09  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:11:09  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:11:09  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:11:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:11:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:11:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:11:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:10  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:11:10  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:11:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:11:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:11:11  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:11:11  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:11:11  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:11:11  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:11:11  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:11:11  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:11:11  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:11:11  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:11:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:11:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04031
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:11:12  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:11:12  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:11:12  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:11:12  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:11:12  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:11:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:11:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:11:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:14  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:11:14  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:11:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:11:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:11:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:11:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:11:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:11:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:11:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:11:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 11:11:34  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 11:11:34  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 11:11:34  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] EXA024
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 11:11:34  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 利用料[201601]
2016/01/18 11:11:34  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 付帯設備使用料[10001]
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetNotaxflg() START
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetNotaxflgInf() START
2016/01/18 11:11:34  TRACE> SqlEXTC0103.GeSqlNotaxflg() START
2016/01/18 11:11:34  TRACE> SqlEXTC0103.GeSqlNotaxflg() END
2016/01/18 11:11:34  DEBUG> LogicEXTC0103.GetNotaxflgInf() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT COALESCE(MAX(notax_flg),'0') 
FROM FBUNRUI_MST 
WHERE  SHISETU_KBN = '2' 
 AND   SHUKEI_GRP  = :SHUKEI_GRP 
 AND   :KIKAN_DT BETWEEN KIKAN_FROM AND KIKAN_TO 
   Parameters Data > 
      [SHUKEI_GRP] 10001
      [KIKAN_DT] 2016/01/13
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetNotaxflgInf() END
2016/01/18 11:11:34  TRACE> LogicEXTC0103.GetNotaxflg() END
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:08  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:12:08  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:12:08  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:12:08  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:12:08  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:12:08  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:12:08  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:08  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:08  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:12:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04031
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:12:10  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:12:10  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:12:10  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:12:10  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:12:10  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:12:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:12:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:12:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:29  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:12:29  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:12:29  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:12:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:12:29  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:12:29  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:12:29  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:29  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:29  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:12:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:31  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:12:31  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:12:31  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:12:31  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:31  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:12:32  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:12:32  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:12:32  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:12:32  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:12:32  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:32  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04031
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:12:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:12:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:12:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:12:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:12:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:12:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:12:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:34  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:12:34  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:12:34  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:12:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:12:34  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:12:34  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:12:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:12:34  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:12:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:35  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:12:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:12:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:12:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:12:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 575
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3389
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 80000
      [:TaxKin] 6400
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001003
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:12:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 576
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3389
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:12:35  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 576
      [:SeikyuIraiNo] E04031
      [:SeikyuIraiSeq] 3389
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:12:35  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:12:36  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:12:36  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:12:36  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:12:36  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:12:36  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:12:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:37  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:12:37  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:12:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:12:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:12:37  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:12:37  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:12:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:37  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:12:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:12:39  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:12:39  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:12:39  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:12:39  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:12:39  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:12:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:12:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:12:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:12:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:12:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:12:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:12:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:12:52  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:12:52  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:12:52  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:12:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:12:52  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:12:52  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:12:52  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:52  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:12:52  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:16:15  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 11:16:15  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 11:16:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:21  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 11:16:21  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 11:16:21  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 11:16:21  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 11:16:21  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 11:16:21  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 11:16:21  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 11:16:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 11:16:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:16:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:16:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 11:16:21  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 11:16:21  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 11:16:21  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 11:16:21  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 11:16:21  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 11:16:21  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 11:16:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:23  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:16:23  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:16:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:16:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:16:23  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:16:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:16:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:16:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:16:23  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:16:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:16:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:16:26  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:16:26  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04031' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:16:26  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:16:26  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:16:26  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:16:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:29  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:16:29  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:16:29  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:16:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:16:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:16:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:16:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:16:35  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 11:16:35  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:16:35  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:16:35  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:16:35  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 11:16:35  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 11:16:35  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:16:35  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 11:16:35  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:35  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 11:16:35  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160113
2016/01/18 11:16:35  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 11:16:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:39  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:16:39  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:16:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:43  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:16:43  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:16:43  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:16:43  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:16:43  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:16:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:44  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:16:44  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:16:44  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:16:44  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:16:44  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:16:45  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:16:45  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:16:45  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:16:45  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:16:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:16:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:16:48  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:16:48  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:16:48  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:16:48  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:16:48  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:16:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:49  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:16:49  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:16:49  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:16:49  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:16:49  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:16:50  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:16:50  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:16:50  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:16:50  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:16:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:53  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:16:53  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:16:53  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:16:53  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:16:53  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:16:53  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:16:53  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:16:53  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:16:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:16:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:16:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:16:55  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:16:55  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:16:55  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:16:55  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:16:55  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:16:55  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:16:55  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:16:55  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:16:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:16:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:16:55  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:16:55  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:16:55  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:16:55  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:16:55  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:16:55  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 11:16:55  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:17:05  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:17:05  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:17:05  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04032
      [:SeikyuIraiSeq] 3390
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 80000
      [:TaxKin] 6400
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001003
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:17:05  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:17:05  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04032
      [:SeikyuIraiSeq] 3390
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:17:05  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 
      [:SeikyuIraiNo] E04032
      [:SeikyuIraiSeq] 3390
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:Tekiyo2] ＥＸＡＳ連携テスト用
      [:ContentCd] IBNT001
      [:ContentUchiCd] CONT001001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:17:05  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:17:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:17:08  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:17:08  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:17:08  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:17:08  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:17:08  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:17:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:17:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:17:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 11:17:16  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 11:17:16  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 11:17:16  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] EXA024
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 11:17:16  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 利用料[201601]
2016/01/18 11:17:16  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 付帯設備使用料[10001]
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetNotaxflg() START
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetNotaxflgInf() START
2016/01/18 11:17:16  TRACE> SqlEXTC0103.GeSqlNotaxflg() START
2016/01/18 11:17:16  TRACE> SqlEXTC0103.GeSqlNotaxflg() END
2016/01/18 11:17:16  DEBUG> LogicEXTC0103.GetNotaxflgInf() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT COALESCE(MAX(notax_flg),'0') 
FROM FBUNRUI_MST 
WHERE  SHISETU_KBN = '2' 
 AND   SHUKEI_GRP  = :SHUKEI_GRP 
 AND   :KIKAN_DT BETWEEN KIKAN_FROM AND KIKAN_TO 
   Parameters Data > 
      [SHUKEI_GRP] 10001
      [KIKAN_DT] 2016/01/13
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetNotaxflgInf() END
2016/01/18 11:17:16  TRACE> LogicEXTC0103.GetNotaxflg() END
2016/01/18 11:17:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:30  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:17:30  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:17:30  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:17:30  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:17:30  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:17:30  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:17:30  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:17:30  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:17:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:31  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:17:31  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:31  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:17:31  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:17:31  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:17:31  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:31  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:17:32  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:17:42  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 3390
      [:SeikyuIraiNo] E04032
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 216500
      [:ChoseiKin] 0
      [:Shokei] 216500
      [:TaxKin] 17320
      [:SeikyuKin] 233820
      [:SeikyuNaiyo] 3
      [:AiteCd] EXA024
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:SeikyuTitle2] ＥＸＡＳ連携テスト用
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:17:42  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:17:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:17:45  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:17:45  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:17:45  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:17:45  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:17:45  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:17:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:17:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:46  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:17:46  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:17:46  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:17:46  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:17:46  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:17:46  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:17:46  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:17:46  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:17:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:17:48  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:17:48  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:17:48  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:17:48  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:17:48  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:17:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:17:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:17:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:17:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:17:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:17:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:17:52  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:17:52  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:17:52  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:17:52  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:17:52  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:17:52  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:17:52  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:17:52  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:17:53  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:17:53  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:17:53  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:17:53  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:17:53  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:17:53  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:17:53  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:17:55  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Seq] 3391
      [:SeikyuIraiNo] E04032
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 216500
      [:ChoseiKin] 0
      [:Shokei] 216500
      [:TaxKin] 17320
      [:SeikyuKin] 233820
      [:SeikyuNaiyo] 3
      [:AiteCd] EXA024
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月１３日〜１月１３日　付帯設備
      [:SeikyuTitle2] ＥＸＡＳ連携テスト用
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:17:55  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:18:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:18:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:18:02  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:18:02  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:18:02  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:18:02  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:18:02  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:18:02  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:18:02  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:18:02  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:18:02  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:18:03  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:18:03  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:18:03  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:18:03  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:18:03  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:18:03  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:18:03  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:18:03  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:18:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:18:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:18:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:04  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:18:04  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:18:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:18:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:18:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:18:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:18:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:18:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:18:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:18:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:18:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:18:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:18:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:18:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:18:13  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:18:13  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:18:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:18:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:18:13  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:18:13  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:18:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:18:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:18:13  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:35:09  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 11:35:09  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 11:35:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:35:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:35:19  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 11:35:19  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 11:35:19  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 11:35:19  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 11:35:19  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 11:35:19  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 11:35:19  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 11:35:19  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 11:35:19  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:35:19  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:35:19  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 11:35:19  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 11:35:19  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 11:35:19  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 11:35:19  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 11:35:19  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 11:35:19  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 11:35:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:35:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:35:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:35:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:35:21  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:35:21  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:35:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:35:21  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:35:21  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:35:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:35:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:35:21  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:35:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:35:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:35:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:35:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:35:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:35:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:35:44  TRACE> LogicEXTC0101.CheckSelectDateKariyoyaku() START
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:35:44  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and a.STUDIO_KBN IN(:STUDIO_KBN, '3')
  and a.YOYAKU_DT = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:YOYAKU_DT] 2016/01/27
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:35:44  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and STUDIO_KBN IN(:STUDIO_KBN, '3')
  and YOYAKU_DT= :YOYAKU_DT
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:YOYAKU_DT] 2016/01/27
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:35:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:35:44  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and STUDIO_KBN = :STUDIO_KBN
  and HOLMENT_DT = :HOLMENT_DT
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:HOLMENT_DT] 2016/01/27
2016/01/18 11:35:44  TRACE> LogicEXTC0101.CheckSelectDateKariyoyaku() END
2016/01/18 11:35:44  TRACE> LogicEXTC0101.SetInsertUketukeSeigyo() START
2016/01/18 11:35:44  DEBUG> LogicEXTC0101.SetInsertUketukeSeigyo() COMMIT!!
2016/01/18 11:35:45  TRACE> LogicEXTC0101.SetInsertUketukeSeigyo() END
2016/01/18 11:35:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:35:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:36:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:36:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:20  TRACE> LogicEXTM0201.InitSearch() START
2016/01/18 11:36:20  TRACE> SqlEXTM0201.SetSelectInit() START
2016/01/18 11:36:20  TRACE> SqlEXTM0201.SetSelectInit() END
2016/01/18 11:36:20  DEBUG> LogicEXTM0201.InitSearch() 初期検索
■SQL Data :
   Sql Command > SELECT   FALSE AS 選択,   t1.RIYOSHA_CD AS 利用名コード,  CASE t1.RIYO_LVL WHEN '1' THEN '一般'  WHEN '2' THEN '要注意' WHEN '3' THEN '利用不可' END AS 利用者レベル,  t1.RIYO_NM AS 利用者名,  t1.RIYO_KANA AS 利用者名カナ,  t3.LAST_USE_DAY AS 最終利用日,   t2.AITE_CD AS 相手先コード,   t2.AITE_NM AS 相手先名,   t1.RIYO_TEL11 || t1.RIYO_TEL12 || t1.RIYO_TEL13 AS 電話番号,  null AS 携帯,  t1.RIYO_FAX11 || t1.RIYO_FAX12 || t1.RIYO_FAX13 AS FAX,  t1.RIYO_YUBIN1 || RIYO_YUBIN2 AS 郵便番号,  t1.RIYO_TODO || t1.RIYO_SHIKU || t1.RIYO_BAN || COALESCE(t1.RIYO_BUILD,'') AS 住所,   TRUE AS 詳細  ,t1.RIYO_LVL     AS RIYO_LVL  ,t1.DAIHYO_NM    AS DAIHYO_NM  ,t1.RIYO_TEL11   AS RIYO_TEL11  ,t1.RIYO_TEL12   AS RIYO_TEL12  ,t1.RIYO_TEL13   AS RIYO_TEL13  ,t1.RIYO_NAISEN  AS RIYO_NAISEN  ,t1.RIYO_FAX11   AS RIYO_FAX11  ,t1.RIYO_FAX12   AS RIYO_FAX12  ,t1.RIYO_FAX13   AS RIYO_FAX13  ,t1.RIYO_YUBIN1  AS RIYO_YUBIN1  ,t1.RIYO_YUBIN2  AS RIYO_YUBIN2  ,t1.RIYO_TODO    AS RIYO_TODO  ,t1.RIYO_SHIKU   AS RIYO_SHIKU  ,t1.RIYO_BAN     AS RIYO_BAN  ,t1.RIYO_BUILD   AS RIYO_BUILD FROM RIYOSHA_MST t1  LEFT JOIN AITESAKI_MST t2         ON  t1.AITE_CD = t2.AITE_CD  LEFT JOIN      (SELECT           MAX(YOYAKU_DT) LAST_USE_DAY,          t3a.RIYOSHA_CD       FROM YOYAKU_TBL t3a        LEFT JOIN YDT_TBL t3b               ON t3a.YOYAKU_NO = t3b.YOYAKU_NO       GROUP BY          t3a.RIYOSHA_CD      ) t3        ON  t1.RIYOSHA_CD = t3.RIYOSHA_CD WHERE t1.RIYO_LVL = '1' ORDER BY t1.RIYOSHA_CD 
   Parameters Data > 
2016/01/18 11:36:20  TRACE> LogicEXTM0201.InitSearch() END
2016/01/18 11:36:20  TRACE> LogicEXTM0201.ViewRow() START
2016/01/18 11:36:20  TRACE> LogicEXTM0201.ViewRow() END
2016/01/18 11:36:23  TRACE> LogicEXTM0201.ClickVwCellMain() START
2016/01/18 11:36:23  TRACE> LogicEXTM0201.SetCheckAsRadio() START
2016/01/18 11:36:23  TRACE> LogicEXTM0201.SetCheckAsRadio() END
2016/01/18 11:36:23  TRACE> LogicEXTM0201.ClickVwCellMain() END
2016/01/18 11:36:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:24  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:36:24  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:36:24  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:36:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:27  TRACE> EXTC0102.inputCheckMain() Chk_START
2016/01/18 11:36:27  TRACE> EXTC0102.inputCheckMain() Chk_END
2016/01/18 11:36:27  TRACE> EXTC0102.inputCheckCondition() Chk_START
2016/01/18 11:36:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:36:27  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:36:27  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:36:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:36:27  TRACE> EXTC0102.inputCheckCondition() Chk_END
2016/01/18 11:36:28  TRACE> LogicEXTC0102.RegYoyakuInfo() START
2016/01/18 11:36:28  TRACE> LogicEXTC0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > insert into YOYAKU_TBL 
( 
YOYAKU_NO, KARIUKE_DT, KARI_USERCD, KAKUTEI_DT, KAKU_USERCD, YOYAKU_STS, SHISETU_KBN, 
STUDIO_KBN, SAIJI_NM, SHUTSUEN_NM, KASHI_KIND, RIYO_TYPE, DRINK_FLG, SAIJI_BUNRUI, TEIIN, ONKYO_OPE_FLG,
RIYOSHA_CD, RIYO_NM, RIYO_KANA, SEKININ_BUSHO_NM, SEKININ_NM, SEKININ_MAIL, DAIHYO_NM, RIYO_TEL11, 
RIYO_TEL12, RIYO_TEL13, RIYO_TEL21, RIYO_TEL22, RIYO_TEL23, RIYO_NAISEN, RIYO_FAX11, RIYO_FAX12, 
RIYO_FAX13, RIYO_YUBIN1, RIYO_YUBIN2, RIYO_TODO, RIYO_SHIKU, RIYO_BAN, RIYO_BUILD, RIYO_LVL, AITE_CD, 
ONKYO_NM, ONKYO_TANTO_NM, ONKYO_TEL11, ONKYO_TEL12, ONKYO_TEL13, ONKYO_NAISEN, ONKYO_FAX11, ONKYO_FAX12, 
ONKYO_FAX13, ONKYO_MAIL, TOTAL_RIYO_KIN, SEND_KBN, SEND_STS, SEND_DT, HENSO_DT, BIKO, RIYO_COM, 
TICKET_ENTER_KBN, TICKET_DRINK_KBN, HP_KEISAI, JOHO_KOKAI_DT, JOHO_KOKAI_TIME, KOKAI_DT, KOKAI_TIME, 
FINPUT_STS, ADD_DT, ADD_USER_CD, UP_DT, UP_USER_CD 
) values ( 
'S' || to_char(nextval('YOYAKU_TBL_S2'), 'FM00000'), 
:KariukeDt, 
:KariUsercd, 
:KakuteiDt, 
:KakuUsercd, 
:YoyakuSts, 
:ShisetuKbn, 
:StudioKbn, 
:SaijiNm, 
:ShutsuenNm, 
:KashiKind, 
:RiyoType, 
:DrinkFlg, 
:SaijiBunrui, 
:Teiin, 
:OnkyoOpeFlg, 
:RiyoshaCd, 
:RiyoNm, 
:RiyoKana, 
:SekininBushoNm, 
:SekininNm, 
:SekininMail, 
:DaihyoNm, 
:RiyoTel11, 
:RiyoTel12, 
:RiyoTel13, 
:RiyoTel21, 
:RiyoTel22, 
:RiyoTel23, 
:RiyoNaisen, 
:RiyoFax11, 
:RiyoFax12, 
:RiyoFax13, 
:RiyoYubin1, 
:RiyoYubin2, 
:RiyoTodo, 
:RiyoShiku, 
:RiyoBan, 
:RiyoBuild, 
:RiyoLvl, 
:AiteCd, 
:OnkyoNm, 
:OnkyoTantoNm, 
:OnkyoTel11, 
:OnkyoTel12, 
:OnkyoTel13, 
:OnkyoNaisen, 
:OnkyoFax11, 
:OnkyoFax12, 
:OnkyoFax13, 
:OnkyoMail, 
:TotalRiyoKin, 
:SendKbn, 
:SendSts, 
:SendDt, 
:HensoDt, 
:Biko, 
:RiyoCom, 
:TicketEnterKbn, 
:TicketDrinkKbn, 
:HpKeisai, 
:JohoKokaiDt, 
:JohoKokaiTime, 
:KokaiDt, 
:KokaiTime, 
:FinputSts, 
current_timestamp, 
:AddUserCd, 
current_timestamp, 
:UpUserCd 
) RETURNING YOYAKU_NO 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正ＥＸＡＳ請求確認用その１
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:36:28  TRACE> LogicEXTC0102.RegYoyakuInfo() 登録予約番号:S00137
■SQL Data :
   Sql Command > insert into YOYAKU_TBL 
( 
YOYAKU_NO, KARIUKE_DT, KARI_USERCD, KAKUTEI_DT, KAKU_USERCD, YOYAKU_STS, SHISETU_KBN, 
STUDIO_KBN, SAIJI_NM, SHUTSUEN_NM, KASHI_KIND, RIYO_TYPE, DRINK_FLG, SAIJI_BUNRUI, TEIIN, ONKYO_OPE_FLG,
RIYOSHA_CD, RIYO_NM, RIYO_KANA, SEKININ_BUSHO_NM, SEKININ_NM, SEKININ_MAIL, DAIHYO_NM, RIYO_TEL11, 
RIYO_TEL12, RIYO_TEL13, RIYO_TEL21, RIYO_TEL22, RIYO_TEL23, RIYO_NAISEN, RIYO_FAX11, RIYO_FAX12, 
RIYO_FAX13, RIYO_YUBIN1, RIYO_YUBIN2, RIYO_TODO, RIYO_SHIKU, RIYO_BAN, RIYO_BUILD, RIYO_LVL, AITE_CD, 
ONKYO_NM, ONKYO_TANTO_NM, ONKYO_TEL11, ONKYO_TEL12, ONKYO_TEL13, ONKYO_NAISEN, ONKYO_FAX11, ONKYO_FAX12, 
ONKYO_FAX13, ONKYO_MAIL, TOTAL_RIYO_KIN, SEND_KBN, SEND_STS, SEND_DT, HENSO_DT, BIKO, RIYO_COM, 
TICKET_ENTER_KBN, TICKET_DRINK_KBN, HP_KEISAI, JOHO_KOKAI_DT, JOHO_KOKAI_TIME, KOKAI_DT, KOKAI_TIME, 
FINPUT_STS, ADD_DT, ADD_USER_CD, UP_DT, UP_USER_CD 
) values ( 
'S' || to_char(nextval('YOYAKU_TBL_S2'), 'FM00000'), 
:KariukeDt, 
:KariUsercd, 
:KakuteiDt, 
:KakuUsercd, 
:YoyakuSts, 
:ShisetuKbn, 
:StudioKbn, 
:SaijiNm, 
:ShutsuenNm, 
:KashiKind, 
:RiyoType, 
:DrinkFlg, 
:SaijiBunrui, 
:Teiin, 
:OnkyoOpeFlg, 
:RiyoshaCd, 
:RiyoNm, 
:RiyoKana, 
:SekininBushoNm, 
:SekininNm, 
:SekininMail, 
:DaihyoNm, 
:RiyoTel11, 
:RiyoTel12, 
:RiyoTel13, 
:RiyoTel21, 
:RiyoTel22, 
:RiyoTel23, 
:RiyoNaisen, 
:RiyoFax11, 
:RiyoFax12, 
:RiyoFax13, 
:RiyoYubin1, 
:RiyoYubin2, 
:RiyoTodo, 
:RiyoShiku, 
:RiyoBan, 
:RiyoBuild, 
:RiyoLvl, 
:AiteCd, 
:OnkyoNm, 
:OnkyoTantoNm, 
:OnkyoTel11, 
:OnkyoTel12, 
:OnkyoTel13, 
:OnkyoNaisen, 
:OnkyoFax11, 
:OnkyoFax12, 
:OnkyoFax13, 
:OnkyoMail, 
:TotalRiyoKin, 
:SendKbn, 
:SendSts, 
:SendDt, 
:HensoDt, 
:Biko, 
:RiyoCom, 
:TicketEnterKbn, 
:TicketDrinkKbn, 
:HpKeisai, 
:JohoKokaiDt, 
:JohoKokaiTime, 
:KokaiDt, 
:KokaiTime, 
:FinputSts, 
current_timestamp, 
:AddUserCd, 
current_timestamp, 
:UpUserCd 
) RETURNING YOYAKU_NO 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正ＥＸＡＳ請求確認用その１
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:36:28  TRACE> LogicEXTC0102.RegYoyakuInfo() END
2016/01/18 11:36:28  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:36:28  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:36:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:36:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:36:28  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:36:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:36:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:36:29  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:36:29  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:36:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:36:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:36:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:30  TRACE> EXTC0102.inputCheckMain() Chk_START
2016/01/18 11:36:30  TRACE> EXTC0102.inputCheckMain() Chk_END
2016/01/18 11:36:30  TRACE> EXTC0102.inputCheckCondition() Chk_START
2016/01/18 11:36:30  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:36:30  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:36:30  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:36:30  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:36:30  TRACE> EXTC0102.inputCheckCondition() Chk_END
2016/01/18 11:36:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:36:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:36:31  TRACE> LogicEXTC0102.RegYoyakuInfo() START
2016/01/18 11:36:31  TRACE> LogicEXTC0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正ＥＸＡＳ請求確認用その１
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0102.RegYoyakuInfo() 登録予約番号:
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正ＥＸＡＳ請求確認用その１
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0102.RegYoyakuInfo() END
2016/01/18 11:36:31  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:36:31  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:36:31  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:36:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:36:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:36:31  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:36:31  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:36:31  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:36:31  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    CAST(m1.tanka AS INT8) as futai_shokei, 
    0 as futai_chosei, 
    CAST(m1.tanka AS INT8) as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:36:31  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 11:36:31  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:36:31  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:36:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:36:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:36:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:36:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:36:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:36:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:36:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:36:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:36:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:36:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:36:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:36:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:36:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:36:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:36:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:36:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:36:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GetRyokinBairituMst() START
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GetRyokinMst() START
2016/01/18 11:36:34  TRACE> SqlEXTC0103.GeSqlRyokinMst() START
2016/01/18 11:36:34  TRACE> SqlEXTC0103.GeSqlRyokinMst() END
2016/01/18 11:36:34  DEBUG> LogicEXTC0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2016/01/27
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GetRyokinMst() END
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GeBairituMst() START
2016/01/18 11:36:34  TRACE> SqlEXTC0103.GeSqlBairituMst() START
2016/01/18 11:36:34  TRACE> SqlEXTC0103.GeSqlBairituMst() END
2016/01/18 11:36:34  DEBUG> LogicEXTC0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2016/01/27
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GeBairituMst() END
2016/01/18 11:36:34  TRACE> LogicEXTC0103.GetRyokinBairituMst() END
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetBunrui() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectBunrui() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectBunrui() END
2016/01/18 11:36:34  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetBunrui() END
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetRyokin() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectRyokin() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectRyokin() END
2016/01/18 11:36:34  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:BunruiCd] 20
      [:Riyobi] 2016/01/27
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetRyokin() END
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetBairitu() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectBairitu() START
2016/01/18 11:36:34  TRACE> SqlEXTZ0212.selectBairitu() END
2016/01/18 11:36:34  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
2016/01/18 11:36:34  TRACE> LogicEXTZ0212.GetBairitu() END
2016/01/18 11:36:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:36:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:36:36  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2016/01/18 11:36:36  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2016/01/18 11:36:36  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2016/01/18 11:36:36  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2016/01/18 11:36:38  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2016/01/18 11:36:38  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2016/01/18 11:36:38  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2016/01/18 11:36:38  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2016/01/18 11:36:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:36:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:36:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:36:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:36:48  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 11:36:48  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 11:36:48  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:36:48  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 11:36:48  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 11:36:48  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:36:48  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 11:36:48  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:36:48  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:36:48  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:36:48  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:38:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:09  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:38:09  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:38:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:38:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:38:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:38:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:38:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:38:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:38:12  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:38:12  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:38:12  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:38:12  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:38:12  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:38:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:13  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:38:13  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:38:13  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:38:13  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:38:13  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:38:14  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:38:14  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:38:14  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:38:14  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:38:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:38:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:38:16  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:38:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:38:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:38:17  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:38:17  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:38:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:38:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:38:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:38:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:38:19  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:38:19  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:38:19  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:38:19  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:38:19  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:38:21  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:38:21  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:38:21  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:38:21  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:39:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:39:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:39:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:39:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:39:04  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:39:04  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:39:04  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:39:04  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:39:04  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:39:04  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:39:04  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:39:04  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:39:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:39:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:39:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:39:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:39:22  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:39:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:39:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:39:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:39:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:39:46  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:39:46  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:39:46  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:39:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:39:46  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:39:46  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:39:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:39:46  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:40:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:40:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:40:23  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:40:23  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:40:23  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:40:23  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:40:23  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:40:23  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04043
      [:SeikyuIraiSeq] 3399
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT002
      [:ContentUchiCd] CONT002001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:40:23  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04043
      [:SeikyuIraiSeq] 3399
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT003
      [:ContentUchiCd] CONT003001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:40:24  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04043
      [:SeikyuIraiSeq] 3399
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT003
      [:ContentUchiCd] CONT003001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:40:24  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:41:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:41:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:41:04  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:41:04  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:41:04  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:41:04  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:41:04  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:41:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:41:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:41:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:18  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:41:18  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:41:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:41:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:41:18  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:41:18  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:41:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:41:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:41:18  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:41:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:41:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:41:39  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:41:39  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:41:39  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:41:39  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:41:39  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:41:39  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:39  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:41:39  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:41:39  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:41:39  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:41:39  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:39  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:41:39  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:41:39  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:41:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:41:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:41:40  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:41:40  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:41:40  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:41:40  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:41:40  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:41:40  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:41:40  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:41:40  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:41:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:41:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:41:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:54  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:41:54  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:41:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:41:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:41:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:41:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:41:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:41:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:41:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:41:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:42:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:42:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:42:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:42:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:42:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:43:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:43:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:43:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:43:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:43:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 11:43:40  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 11:43:40  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 11:43:40  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] A00001
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 11:43:40  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 利用料[201601]
2016/01/18 11:43:40  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 付帯設備使用料[10001]
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetNotaxflg() START
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetNotaxflgInf() START
2016/01/18 11:43:40  TRACE> SqlEXTC0103.GeSqlNotaxflg() START
2016/01/18 11:43:40  TRACE> SqlEXTC0103.GeSqlNotaxflg() END
2016/01/18 11:43:40  DEBUG> LogicEXTC0103.GetNotaxflgInf() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT COALESCE(MAX(notax_flg),'0') 
FROM FBUNRUI_MST 
WHERE  SHISETU_KBN = '2' 
 AND   SHUKEI_GRP  = :SHUKEI_GRP 
 AND   :KIKAN_DT BETWEEN KIKAN_FROM AND KIKAN_TO 
   Parameters Data > 
      [SHUKEI_GRP] 10001
      [KIKAN_DT] 2016/01/27
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetNotaxflgInf() END
2016/01/18 11:43:40  TRACE> LogicEXTC0103.GetNotaxflg() END
2016/01/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:45:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:45:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:45:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:45:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:45:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:45:53  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:45:53  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:45:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:45:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:45:53  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:45:53  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:45:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:45:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:45:53  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:45:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:45:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:45:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:45:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:45:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:45:55  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:45:55  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:45:55  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:45:55  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:45:55  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:45:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:45:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:45:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:45:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:45:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:45:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:45:59  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:45:59  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:45:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:45:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:02  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:46:02  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:46:02  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:46:02  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:46:02  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:46:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 11:46:15  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 11:46:15  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 11:46:15  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] A00001
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 11:46:15  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 利用料[201601]
2016/01/18 11:46:15  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 付帯設備使用料[10001]
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetNotaxflg() START
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetNotaxflgInf() START
2016/01/18 11:46:15  TRACE> SqlEXTC0103.GeSqlNotaxflg() START
2016/01/18 11:46:15  TRACE> SqlEXTC0103.GeSqlNotaxflg() END
2016/01/18 11:46:15  DEBUG> LogicEXTC0103.GetNotaxflgInf() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT COALESCE(MAX(notax_flg),'0') 
FROM FBUNRUI_MST 
WHERE  SHISETU_KBN = '2' 
 AND   SHUKEI_GRP  = :SHUKEI_GRP 
 AND   :KIKAN_DT BETWEEN KIKAN_FROM AND KIKAN_TO 
   Parameters Data > 
      [SHUKEI_GRP] 10001
      [KIKAN_DT] 2016/01/27
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetNotaxflgInf() END
2016/01/18 11:46:15  TRACE> LogicEXTC0103.GetNotaxflg() END
2016/01/18 11:46:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:17  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:46:17  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:46:17  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:46:17  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:46:17  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:46:17  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:46:17  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:46:17  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:46:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:18  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:46:18  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:18  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:46:18  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:46:18  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:46:18  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:46:18  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:46:18  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 3399
      [:SeikyuIraiNo] E04043
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 226500
      [:ChoseiKin] 0
      [:Shokei] 226500
      [:TaxKin] 18120
      [:SeikyuKin] 244620
      [:SeikyuNaiyo] 3
      [:AiteCd] A00001
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正ＥＸＡＳ請求確認用その１
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:46:18  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:46:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:46:19  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:46:19  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:46:19  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:46:19  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:46:19  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:46:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:46:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:46:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:27  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:46:27  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:46:27  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:46:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:46:27  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:46:27  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:46:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:46:27  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:46:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:29  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:46:29  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:29  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:46:29  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:46:29  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:46:29  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:46:29  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 3400
      [:SeikyuIraiNo] E04043
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 226500
      [:ChoseiKin] 0
      [:Shokei] 226500
      [:TaxKin] 18120
      [:SeikyuKin] 244620
      [:SeikyuNaiyo] 3
      [:AiteCd] A00001
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正ＥＸＡＳ請求確認用その１
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:46:29  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:46:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:46:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:46:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:46:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:46:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:46:29  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:29  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:46:29  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:46:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:46:29  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:46:29  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:46:29  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:46:30  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:46:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:46:30  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:46:30  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:46:30  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:46:30  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:46:30  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:46:30  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:46:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:31  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:46:31  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:46:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:46:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:46:31  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:46:31  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:46:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:31  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:46:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:46:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:46:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:46:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:46:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:46:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:46:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:46:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:46:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:40  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:46:40  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:46:40  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:46:40  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:46:40  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:46:40  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:46:40  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:46:40  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:46:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:41  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:46:41  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:41  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:46:41  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:46:41  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:46:41  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:46:41  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:46:41  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 3401
      [:SeikyuIraiNo] E04043
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 226500
      [:ChoseiKin] 0
      [:Shokei] 226500
      [:TaxKin] 18120
      [:SeikyuKin] 244620
      [:SeikyuNaiyo] 3
      [:AiteCd] A00001
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正ＥＸＡＳ請求確認用その１
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:46:41  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:46:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:46:42  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:46:42  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:46:42  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:46:42  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:46:42  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:46:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:44  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:46:44  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:46:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:46:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:46:44  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:46:44  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:46:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:44  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:46:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:46:45  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:46:45  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 11:46:45  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:46:45  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:46:45  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:46:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:46:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:46:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:46:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:46:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:51  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:46:51  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:46:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:46:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:46:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:51  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:46:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:46:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:46:52  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:46:52  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:46:52  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:46:52  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:46:52  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:52  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:46:52  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:46:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:46:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:46:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:46:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:46:55  TRACE> LogicEXTC0101.CheckSelectDateKariyoyaku() START
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:46:55  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and a.STUDIO_KBN IN(:STUDIO_KBN, '3')
  and a.YOYAKU_DT = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:YOYAKU_DT] 2016/01/27
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:46:55  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and STUDIO_KBN IN(:STUDIO_KBN, '3')
  and YOYAKU_DT= :YOYAKU_DT
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:YOYAKU_DT] 2016/01/27
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:46:55  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:46:55  DEBUG> LogicEXTC0101.CheckSelectDateKariyoyaku() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and STUDIO_KBN = :STUDIO_KBN
  and HOLMENT_DT = :HOLMENT_DT
   Parameters Data > 
      [:STUDIO_KBN] 2
      [:HOLMENT_DT] 2016/01/27
2016/01/18 11:46:55  TRACE> LogicEXTC0101.CheckSelectDateKariyoyaku() END
2016/01/18 11:46:55  TRACE> LogicEXTC0101.SetInsertUketukeSeigyo() START
2016/01/18 11:46:55  DEBUG> LogicEXTC0101.SetInsertUketukeSeigyo() COMMIT!!
2016/01/18 11:46:55  TRACE> LogicEXTC0101.SetInsertUketukeSeigyo() END
2016/01/18 11:46:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:46:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:47:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:47:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:19  TRACE> LogicEXTM0201.InitSearch() START
2016/01/18 11:47:19  TRACE> SqlEXTM0201.SetSelectInit() START
2016/01/18 11:47:19  TRACE> SqlEXTM0201.SetSelectInit() END
2016/01/18 11:47:19  DEBUG> LogicEXTM0201.InitSearch() 初期検索
■SQL Data :
   Sql Command > SELECT   FALSE AS 選択,   t1.RIYOSHA_CD AS 利用名コード,  CASE t1.RIYO_LVL WHEN '1' THEN '一般'  WHEN '2' THEN '要注意' WHEN '3' THEN '利用不可' END AS 利用者レベル,  t1.RIYO_NM AS 利用者名,  t1.RIYO_KANA AS 利用者名カナ,  t3.LAST_USE_DAY AS 最終利用日,   t2.AITE_CD AS 相手先コード,   t2.AITE_NM AS 相手先名,   t1.RIYO_TEL11 || t1.RIYO_TEL12 || t1.RIYO_TEL13 AS 電話番号,  null AS 携帯,  t1.RIYO_FAX11 || t1.RIYO_FAX12 || t1.RIYO_FAX13 AS FAX,  t1.RIYO_YUBIN1 || RIYO_YUBIN2 AS 郵便番号,  t1.RIYO_TODO || t1.RIYO_SHIKU || t1.RIYO_BAN || COALESCE(t1.RIYO_BUILD,'') AS 住所,   TRUE AS 詳細  ,t1.RIYO_LVL     AS RIYO_LVL  ,t1.DAIHYO_NM    AS DAIHYO_NM  ,t1.RIYO_TEL11   AS RIYO_TEL11  ,t1.RIYO_TEL12   AS RIYO_TEL12  ,t1.RIYO_TEL13   AS RIYO_TEL13  ,t1.RIYO_NAISEN  AS RIYO_NAISEN  ,t1.RIYO_FAX11   AS RIYO_FAX11  ,t1.RIYO_FAX12   AS RIYO_FAX12  ,t1.RIYO_FAX13   AS RIYO_FAX13  ,t1.RIYO_YUBIN1  AS RIYO_YUBIN1  ,t1.RIYO_YUBIN2  AS RIYO_YUBIN2  ,t1.RIYO_TODO    AS RIYO_TODO  ,t1.RIYO_SHIKU   AS RIYO_SHIKU  ,t1.RIYO_BAN     AS RIYO_BAN  ,t1.RIYO_BUILD   AS RIYO_BUILD FROM RIYOSHA_MST t1  LEFT JOIN AITESAKI_MST t2         ON  t1.AITE_CD = t2.AITE_CD  LEFT JOIN      (SELECT           MAX(YOYAKU_DT) LAST_USE_DAY,          t3a.RIYOSHA_CD       FROM YOYAKU_TBL t3a        LEFT JOIN YDT_TBL t3b               ON t3a.YOYAKU_NO = t3b.YOYAKU_NO       GROUP BY          t3a.RIYOSHA_CD      ) t3        ON  t1.RIYOSHA_CD = t3.RIYOSHA_CD WHERE t1.RIYO_LVL = '1' ORDER BY t1.RIYOSHA_CD 
   Parameters Data > 
2016/01/18 11:47:19  TRACE> LogicEXTM0201.InitSearch() END
2016/01/18 11:47:19  TRACE> LogicEXTM0201.ViewRow() START
2016/01/18 11:47:19  TRACE> LogicEXTM0201.ViewRow() END
2016/01/18 11:47:21  TRACE> LogicEXTM0201.ClickVwCellMain() START
2016/01/18 11:47:21  TRACE> LogicEXTM0201.SetCheckAsRadio() START
2016/01/18 11:47:21  TRACE> LogicEXTM0201.SetCheckAsRadio() END
2016/01/18 11:47:21  TRACE> LogicEXTM0201.ClickVwCellMain() END
2016/01/18 11:47:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:22  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:47:22  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:47:22  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:47:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:29  TRACE> EXTC0102.inputCheckMain() Chk_START
2016/01/18 11:47:29  TRACE> EXTC0102.inputCheckMain() Chk_END
2016/01/18 11:47:29  TRACE> EXTC0102.inputCheckCondition() Chk_START
2016/01/18 11:47:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:47:29  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:47:29  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:47:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:47:29  TRACE> EXTC0102.inputCheckCondition() Chk_END
2016/01/18 11:47:30  TRACE> LogicEXTC0102.RegYoyakuInfo() START
2016/01/18 11:47:30  TRACE> LogicEXTC0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > insert into YOYAKU_TBL 
( 
YOYAKU_NO, KARIUKE_DT, KARI_USERCD, KAKUTEI_DT, KAKU_USERCD, YOYAKU_STS, SHISETU_KBN, 
STUDIO_KBN, SAIJI_NM, SHUTSUEN_NM, KASHI_KIND, RIYO_TYPE, DRINK_FLG, SAIJI_BUNRUI, TEIIN, ONKYO_OPE_FLG,
RIYOSHA_CD, RIYO_NM, RIYO_KANA, SEKININ_BUSHO_NM, SEKININ_NM, SEKININ_MAIL, DAIHYO_NM, RIYO_TEL11, 
RIYO_TEL12, RIYO_TEL13, RIYO_TEL21, RIYO_TEL22, RIYO_TEL23, RIYO_NAISEN, RIYO_FAX11, RIYO_FAX12, 
RIYO_FAX13, RIYO_YUBIN1, RIYO_YUBIN2, RIYO_TODO, RIYO_SHIKU, RIYO_BAN, RIYO_BUILD, RIYO_LVL, AITE_CD, 
ONKYO_NM, ONKYO_TANTO_NM, ONKYO_TEL11, ONKYO_TEL12, ONKYO_TEL13, ONKYO_NAISEN, ONKYO_FAX11, ONKYO_FAX12, 
ONKYO_FAX13, ONKYO_MAIL, TOTAL_RIYO_KIN, SEND_KBN, SEND_STS, SEND_DT, HENSO_DT, BIKO, RIYO_COM, 
TICKET_ENTER_KBN, TICKET_DRINK_KBN, HP_KEISAI, JOHO_KOKAI_DT, JOHO_KOKAI_TIME, KOKAI_DT, KOKAI_TIME, 
FINPUT_STS, ADD_DT, ADD_USER_CD, UP_DT, UP_USER_CD 
) values ( 
'S' || to_char(nextval('YOYAKU_TBL_S2'), 'FM00000'), 
:KariukeDt, 
:KariUsercd, 
:KakuteiDt, 
:KakuUsercd, 
:YoyakuSts, 
:ShisetuKbn, 
:StudioKbn, 
:SaijiNm, 
:ShutsuenNm, 
:KashiKind, 
:RiyoType, 
:DrinkFlg, 
:SaijiBunrui, 
:Teiin, 
:OnkyoOpeFlg, 
:RiyoshaCd, 
:RiyoNm, 
:RiyoKana, 
:SekininBushoNm, 
:SekininNm, 
:SekininMail, 
:DaihyoNm, 
:RiyoTel11, 
:RiyoTel12, 
:RiyoTel13, 
:RiyoTel21, 
:RiyoTel22, 
:RiyoTel23, 
:RiyoNaisen, 
:RiyoFax11, 
:RiyoFax12, 
:RiyoFax13, 
:RiyoYubin1, 
:RiyoYubin2, 
:RiyoTodo, 
:RiyoShiku, 
:RiyoBan, 
:RiyoBuild, 
:RiyoLvl, 
:AiteCd, 
:OnkyoNm, 
:OnkyoTantoNm, 
:OnkyoTel11, 
:OnkyoTel12, 
:OnkyoTel13, 
:OnkyoNaisen, 
:OnkyoFax11, 
:OnkyoFax12, 
:OnkyoFax13, 
:OnkyoMail, 
:TotalRiyoKin, 
:SendKbn, 
:SendSts, 
:SendDt, 
:HensoDt, 
:Biko, 
:RiyoCom, 
:TicketEnterKbn, 
:TicketDrinkKbn, 
:HpKeisai, 
:JohoKokaiDt, 
:JohoKokaiTime, 
:KokaiDt, 
:KokaiTime, 
:FinputSts, 
current_timestamp, 
:AddUserCd, 
current_timestamp, 
:UpUserCd 
) RETURNING YOYAKU_NO 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正２ＥＸＡＳ請求確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00078
      [:RiyoNm] ＸＹＺプロダクション
      [:RiyoKana] エックスワイジープロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] 代表　次郎
      [:RiyoTel11] 044
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 044
      [:RiyoFax12] 2222
      [:RiyoFax13] 2223
      [:RiyoYubin1] 122
      [:RiyoYubin2] 1222
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横浜市横浜区
      [:RiyoBan] ４−５−４５
      [:RiyoBuild] 横浜ビル１５階
      [:RiyoLvl] 1
      [:AiteCd] EXA003
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:47:30  TRACE> LogicEXTC0102.RegYoyakuInfo() 登録予約番号:S00138
■SQL Data :
   Sql Command > insert into YOYAKU_TBL 
( 
YOYAKU_NO, KARIUKE_DT, KARI_USERCD, KAKUTEI_DT, KAKU_USERCD, YOYAKU_STS, SHISETU_KBN, 
STUDIO_KBN, SAIJI_NM, SHUTSUEN_NM, KASHI_KIND, RIYO_TYPE, DRINK_FLG, SAIJI_BUNRUI, TEIIN, ONKYO_OPE_FLG,
RIYOSHA_CD, RIYO_NM, RIYO_KANA, SEKININ_BUSHO_NM, SEKININ_NM, SEKININ_MAIL, DAIHYO_NM, RIYO_TEL11, 
RIYO_TEL12, RIYO_TEL13, RIYO_TEL21, RIYO_TEL22, RIYO_TEL23, RIYO_NAISEN, RIYO_FAX11, RIYO_FAX12, 
RIYO_FAX13, RIYO_YUBIN1, RIYO_YUBIN2, RIYO_TODO, RIYO_SHIKU, RIYO_BAN, RIYO_BUILD, RIYO_LVL, AITE_CD, 
ONKYO_NM, ONKYO_TANTO_NM, ONKYO_TEL11, ONKYO_TEL12, ONKYO_TEL13, ONKYO_NAISEN, ONKYO_FAX11, ONKYO_FAX12, 
ONKYO_FAX13, ONKYO_MAIL, TOTAL_RIYO_KIN, SEND_KBN, SEND_STS, SEND_DT, HENSO_DT, BIKO, RIYO_COM, 
TICKET_ENTER_KBN, TICKET_DRINK_KBN, HP_KEISAI, JOHO_KOKAI_DT, JOHO_KOKAI_TIME, KOKAI_DT, KOKAI_TIME, 
FINPUT_STS, ADD_DT, ADD_USER_CD, UP_DT, UP_USER_CD 
) values ( 
'S' || to_char(nextval('YOYAKU_TBL_S2'), 'FM00000'), 
:KariukeDt, 
:KariUsercd, 
:KakuteiDt, 
:KakuUsercd, 
:YoyakuSts, 
:ShisetuKbn, 
:StudioKbn, 
:SaijiNm, 
:ShutsuenNm, 
:KashiKind, 
:RiyoType, 
:DrinkFlg, 
:SaijiBunrui, 
:Teiin, 
:OnkyoOpeFlg, 
:RiyoshaCd, 
:RiyoNm, 
:RiyoKana, 
:SekininBushoNm, 
:SekininNm, 
:SekininMail, 
:DaihyoNm, 
:RiyoTel11, 
:RiyoTel12, 
:RiyoTel13, 
:RiyoTel21, 
:RiyoTel22, 
:RiyoTel23, 
:RiyoNaisen, 
:RiyoFax11, 
:RiyoFax12, 
:RiyoFax13, 
:RiyoYubin1, 
:RiyoYubin2, 
:RiyoTodo, 
:RiyoShiku, 
:RiyoBan, 
:RiyoBuild, 
:RiyoLvl, 
:AiteCd, 
:OnkyoNm, 
:OnkyoTantoNm, 
:OnkyoTel11, 
:OnkyoTel12, 
:OnkyoTel13, 
:OnkyoNaisen, 
:OnkyoFax11, 
:OnkyoFax12, 
:OnkyoFax13, 
:OnkyoMail, 
:TotalRiyoKin, 
:SendKbn, 
:SendSts, 
:SendDt, 
:HensoDt, 
:Biko, 
:RiyoCom, 
:TicketEnterKbn, 
:TicketDrinkKbn, 
:HpKeisai, 
:JohoKokaiDt, 
:JohoKokaiTime, 
:KokaiDt, 
:KokaiTime, 
:FinputSts, 
current_timestamp, 
:AddUserCd, 
current_timestamp, 
:UpUserCd 
) RETURNING YOYAKU_NO 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正２ＥＸＡＳ請求確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00078
      [:RiyoNm] ＸＹＺプロダクション
      [:RiyoKana] エックスワイジープロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] 代表　次郎
      [:RiyoTel11] 044
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 044
      [:RiyoFax12] 2222
      [:RiyoFax13] 2223
      [:RiyoYubin1] 122
      [:RiyoYubin2] 1222
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横浜市横浜区
      [:RiyoBan] ４−５−４５
      [:RiyoBuild] 横浜ビル１５階
      [:RiyoLvl] 1
      [:AiteCd] EXA003
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:47:30  TRACE> LogicEXTC0102.RegYoyakuInfo() END
2016/01/18 11:47:30  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:47:30  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:47:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:47:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:47:30  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:47:30  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:47:30  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:47:30  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:47:31  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:47:31  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:47:31  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:47:31  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:47:31  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:47:31  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:47:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:47:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:47:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:33  TRACE> EXTC0102.inputCheckMain() Chk_START
2016/01/18 11:47:33  TRACE> EXTC0102.inputCheckMain() Chk_END
2016/01/18 11:47:33  TRACE> EXTC0102.inputCheckCondition() Chk_START
2016/01/18 11:47:33  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:47:33  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:47:33  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:47:33  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:47:33  TRACE> EXTC0102.inputCheckCondition() Chk_END
2016/01/18 11:47:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:47:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:47:34  TRACE> LogicEXTC0102.RegYoyakuInfo() START
2016/01/18 11:47:34  TRACE> LogicEXTC0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正２ＥＸＡＳ請求確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00078
      [:RiyoNm] ＸＹＺプロダクション
      [:RiyoKana] エックスワイジープロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] 代表　次郎
      [:RiyoTel11] 044
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 044
      [:RiyoFax12] 2222
      [:RiyoFax13] 2223
      [:RiyoYubin1] 122
      [:RiyoYubin2] 1222
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横浜市横浜区
      [:RiyoBan] ４−５−４５
      [:RiyoBuild] 横浜ビル１５階
      [:RiyoLvl] 1
      [:AiteCd] EXA003
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0102.RegYoyakuInfo() 登録予約番号:
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2016/01/17
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 2
      [:SaijiNm] 
      [:ShutsuenNm] 修正２ＥＸＡＳ請求確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 1
      [:RiyoshaCd] C00078
      [:RiyoNm] ＸＹＺプロダクション
      [:RiyoKana] エックスワイジープロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] 代表　次郎
      [:RiyoTel11] 044
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 044
      [:RiyoFax12] 2222
      [:RiyoFax13] 2223
      [:RiyoYubin1] 122
      [:RiyoYubin2] 1222
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横浜市横浜区
      [:RiyoBan] ４−５−４５
      [:RiyoBuild] 横浜ビル１５階
      [:RiyoLvl] 1
      [:AiteCd] EXA003
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0102.RegYoyakuInfo() END
2016/01/18 11:47:34  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:47:34  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:47:34  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:47:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:47:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    CAST(m1.tanka AS INT8) as futai_shokei, 
    0 as futai_chosei, 
    CAST(m1.tanka AS INT8) as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:47:34  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:47:34  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:47:34  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:47:34  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:47:34  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:47:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:47:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:47:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GetRyokinBairituMst() START
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GetRyokinMst() START
2016/01/18 11:47:36  TRACE> SqlEXTC0103.GeSqlRyokinMst() START
2016/01/18 11:47:36  TRACE> SqlEXTC0103.GeSqlRyokinMst() END
2016/01/18 11:47:36  DEBUG> LogicEXTC0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2016/01/27
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GetRyokinMst() END
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GeBairituMst() START
2016/01/18 11:47:36  TRACE> SqlEXTC0103.GeSqlBairituMst() START
2016/01/18 11:47:36  TRACE> SqlEXTC0103.GeSqlBairituMst() END
2016/01/18 11:47:36  DEBUG> LogicEXTC0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2016/01/27
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GeBairituMst() END
2016/01/18 11:47:36  TRACE> LogicEXTC0103.GetRyokinBairituMst() END
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetBunrui() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectBunrui() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectBunrui() END
2016/01/18 11:47:36  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetBunrui() END
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetRyokin() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectRyokin() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectRyokin() END
2016/01/18 11:47:36  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:BunruiCd] 20
      [:Riyobi] 2016/01/27
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetRyokin() END
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetBairitu() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectBairitu() START
2016/01/18 11:47:36  TRACE> SqlEXTZ0212.selectBairitu() END
2016/01/18 11:47:36  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
2016/01/18 11:47:36  TRACE> LogicEXTZ0212.GetBairitu() END
2016/01/18 11:47:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:47:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:47:37  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2016/01/18 11:47:37  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2016/01/18 11:47:37  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2016/01/18 11:47:37  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2016/01/18 11:47:38  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2016/01/18 11:47:38  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2016/01/18 11:47:38  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2016/01/18 11:47:38  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2016/01/18 11:47:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:47:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:47:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:47:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:47:50  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 11:47:50  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 11:47:50  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 11:47:50  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 11:47:50  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 11:47:50  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:47:50  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 11:47:50  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:47:50  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:47:50  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:47:50  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:48:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:14  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:48:14  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:48:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:48:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:48:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:48:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:48:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:48:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:48:16  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:48:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:48:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:48:16  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:48:16  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:48:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:18  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:48:18  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:48:18  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:48:18  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:48:18  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:48:19  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:48:19  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:48:19  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:48:19  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:48:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:48:59  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:48:59  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:48:59  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:48:59  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:48:59  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:48:59  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:48:59  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:48:59  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:48:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:48:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:48:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:48:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:49:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:49:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:49:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:49:12  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:49:12  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:49:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:49:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:49:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:49:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:49:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:49:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:49:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:49:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:49:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:49:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:49:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:49:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:49:14  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:49:14  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:49:14  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:49:14  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:49:14  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:49:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:49:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:49:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:49:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:49:16  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:49:16  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:49:16  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:49:16  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:49:16  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:49:20  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:49:20  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:49:20  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:49:20  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:49:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:49:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:50:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:50:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:50:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:50:01  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:50:01  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:50:01  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:50:01  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:50:01  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:50:01  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:50:01  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:50:01  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:50:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:50:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:50:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:50:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:50:35  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:50:35  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:50:35  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:50:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:50:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:50:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:50:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:50:35  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:50:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:50:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:50:35  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:50:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:50:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:50:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:50:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:50:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:50:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:50:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:50:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3403
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:50:36  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:50:36  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3404
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:50:36  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3404
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:50:36  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:50:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:50:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:50:40  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:50:40  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:50:40  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:50:40  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:40  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:50:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:50:40  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:50:40  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:50:41  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:50:41  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:50:41  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:50:41  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:50:41  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:50:41  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:50:41  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:50:41  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:50:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:50:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:50:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:50:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:50:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:50:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:50:41  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:50:41  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:50:42  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:50:42  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:50:42  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:50:42  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:50:42  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:50:42  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:52:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:52:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:52:53  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:52:53  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:52:53  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:52:53  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:52:53  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:52:53  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 585
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3405
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:52:53  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 586
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3406
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:52:53  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 586
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3406
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:52:53  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:53:30  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:53:30  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:53:30  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:53:30  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:53:30  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:53:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:53:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:53:30  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:53:31  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:53:31  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:53:31  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:53:31  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:53:31  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:53:31  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:53:31  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:53:31  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:53:31  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:53:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:53:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:53:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:53:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:53:47  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:53:47  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:53:47  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:53:47  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:53:47  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:53:47  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:53:47  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:53:47  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:53:47  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:54:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:54:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:54:05  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:54:05  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:54:05  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:54:05  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:54:05  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:54:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:54:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:54:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:22  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:54:22  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:54:22  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:54:22  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:22  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:54:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:23  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:54:23  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:54:23  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:54:23  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:23  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:54:26  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:54:26  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:54:26  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:54:26  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:54:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:38  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:54:38  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:54:38  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:54:39  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:54:39  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:54:39  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:54:39  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:54:39  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:54:39  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:54:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:54:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:54:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:44  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:54:44  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:54:44  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:54:44  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:44  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:54:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:46  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:54:46  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:54:46  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:54:46  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:46  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:54:47  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:54:47  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:54:47  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:54:47  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:54:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:50  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:54:50  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:54:50  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:54:50  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:54:50  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:54:50  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:54:50  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:54:50  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:54:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:51  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:54:51  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:54:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:54:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:54:54  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:54:54  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:54:54  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:54:54  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:54  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:54:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:54:55  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:54:55  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:54:55  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:54:55  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:54:55  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:54:56  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:54:57  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:54:57  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:54:57  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:54:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:54:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:54:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:54:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:00  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:55:00  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:55:00  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:55:00  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:55:00  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:55:00  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:55:00  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:55:00  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:55:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:04  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:55:04  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:55:04  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:55:04  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:55:04  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:55:04  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:55:04  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:55:04  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:55:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:05  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:55:05  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:05  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:55:05  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:55:05  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:55:05  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3407
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:55:05  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3408
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:05  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3408
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:05  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:55:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:06  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:06  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:55:06  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:55:06  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:55:06  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:55:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:07  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:55:07  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:55:07  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:55:07  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:55:07  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:55:07  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:55:07  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:07  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:07  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:55:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:08  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:08  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:55:08  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:55:08  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:55:08  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:55:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:11  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:55:11  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:55:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:55:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:55:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:34  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:55:34  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:55:34  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:55:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:55:34  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:55:34  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:55:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:55:34  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:55:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:34  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:55:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:55:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:55:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 587
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3409
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 588
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3410
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:35  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 588
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3410
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:55:35  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:55:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:55:35  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:55:35  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:55:35  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:55:35  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:35  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:55:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:55:35  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:55:35  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:55:36  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:36  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:55:36  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:55:36  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:55:36  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:55:36  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:36  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:36  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:55:36  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:55:36  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:55:36  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:55:36  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:55:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:37  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:55:37  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:55:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:55:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:55:37  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:55:37  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:55:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:37  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:55:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:55:38  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:55:38  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:55:38  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:55:38  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:55:38  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:55:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:40  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:55:40  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:55:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:55:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:55:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:55:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:55:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:55:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:55:54  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:55:54  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:55:54  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:55:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:55:54  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:55:54  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:55:54  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:54  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:55:54  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:56:56  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 11:56:56  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 11:56:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:56:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:01  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 11:57:01  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 11:57:01  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 11:57:01  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 11:57:01  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 11:57:01  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 11:57:01  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 11:57:01  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 11:57:01  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:57:01  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 11:57:01  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 11:57:01  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 11:57:01  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 11:57:01  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 11:57:01  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 11:57:01  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 11:57:01  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 11:57:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:03  TRACE> LogicEXTB0101.MakeSpread() START
2016/01/18 11:57:03  TRACE> LogicEXTB0101.MakeSpread() END
2016/01/18 11:57:03  TRACE> LogicEXTB0101.GetSpreadData() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/01/18 11:57:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/01/18 11:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:57:03  TRACE> LogicEXTB0101.GetSpreadData() END
2016/01/18 11:57:03  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/01/18 11:57:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/01/18 11:57:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/01/18 11:57:03  TRACE> LogicEXTB0101.MakeSpread() END
2016/01/18 11:57:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:05  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:57:05  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:57:05  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:57:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:57:05  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:57:05  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:57:05  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:57:05  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:57:05  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:57:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:57:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:57:06  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:57:06  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:57:06  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:57:06  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:06  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:57:06  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:57:06  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:57:06  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:57:06  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:57:06  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:07  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:57:07  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:57:07  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:57:07  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:57:10  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:57:10  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:57:10  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:57:10  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:57:10  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:57:10  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:57:10  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:57:10  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:57:10  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:57:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:15  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:57:15  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:57:15  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:57:15  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 11:57:15  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 11:57:15  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 11:57:16  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:57:16  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 11:57:19  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:57:19  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 11:57:19  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:57:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:21  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:57:21  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:57:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:25  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:57:25  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:57:25  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:57:25  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:57:25  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:57:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:26  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:57:26  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:57:26  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:57:26  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:57:26  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:57:27  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:57:27  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:57:27  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:57:27  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:57:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:30  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:57:30  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:57:31  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:57:31  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:57:31  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:57:31  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:57:31  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:57:31  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:57:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:31  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 11:57:31  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 11:57:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:34  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 11:57:34  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 11:57:34  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 11:57:34  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:57:34  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 11:57:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:35  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 11:57:35  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 11:57:35  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 11:57:35  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 11:57:35  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 11:57:36  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 11:57:36  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 11:57:36  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 11:57:36  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 11:57:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:39  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 11:57:39  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 11:57:39  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 11:57:39  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 11:57:39  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 11:57:39  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 11:57:39  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 11:57:39  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 11:57:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:41  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 11:57:41  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 11:57:41  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 11:57:41  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 11:57:41  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 11:57:41  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 11:57:41  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 11:57:41  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 11:57:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:57:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:57:42  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 11:57:42  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:42  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 11:57:42  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 11:57:42  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 11:57:42  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3411
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 11:57:42  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3412
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:57:42  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3412
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 11:57:42  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 11:57:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:57:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:57:43  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:57:43  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:57:43  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:57:43  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:43  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:57:43  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:57:43  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:57:43  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:57:51  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:57:51  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:57:51  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:57:51  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:57:51  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:57:51  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:57:51  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:57:51  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:57:51  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:57:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:57:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:57:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:57:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:57:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:57:58  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 11:57:58  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 11:57:58  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 11:57:58  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 11:57:58  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 11:57:58  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 11:57:58  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:57:58  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 11:57:58  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 11:57:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 11:57:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 11:58:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:58:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 11:58:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 11:58:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 11:58:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 11:58:00  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 11:58:00  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 11:58:00  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 11:58:00  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:58:00  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 11:58:00  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 11:58:00  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 11:58:00  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 11:58:47  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 11:58:52  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 11:59:22  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 11:59:23  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 11:59:24  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 11:59:29  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 11:59:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:59:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:59:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 11:59:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 11:59:29  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 11:59:29  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 11:59:33  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 11:59:33  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 11:59:33  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 11:59:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 11:59:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:01:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:01:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:01:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:01:09  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:01:09  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:01:09  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:01:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:01:09  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:01:09  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:01:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:01:09  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:01:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:01:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:01:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:01:11  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:01:11  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:01:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:01:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:01:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:01:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:01:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:01:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:01:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:01:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:01:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:01:15  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:01:15  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:01:15  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:01:15  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:01:15  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:01:15  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:01:15  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:01:16  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:01:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:01:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:01:17  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:01:17  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:17  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:01:17  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:01:17  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:01:17  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:01:17  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:01:28  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 589
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3413
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:01:28  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:01:28  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:01:28  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:01:34  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 590
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3414
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:01:34  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 590
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3414
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:01:34  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:01:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:01:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:01:37  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:01:37  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:01:37  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:01:37  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:37  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:01:37  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:01:37  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:01:37  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:04:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:04:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:04:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:04:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:04:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:04:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:04:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:04:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:04:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:04:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:04:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:04:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:04:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:04:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:04:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:04:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:04:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:04:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:04:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:04:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:04:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:04:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:04:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:41  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:04:41  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:04:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:04:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:04:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:04:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:04:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:04:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:04:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:04:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:04:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:04:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:04:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:05:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:05:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:05:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:05:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:05:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:05:12  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:05:12  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:05:12  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:05:12  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:05:12  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:05:12  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:05:13  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:05:13  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:05:15  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:05:15  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:05:15  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:09:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:09:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:09:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:09:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:09:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:09:28  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:09:28  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:09:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:09:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:09:28  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:09:28  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:09:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:09:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:09:28  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:11:42  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:11:42  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:11:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:48  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:11:48  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:11:48  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:11:48  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:11:48  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:11:48  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:11:48  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:11:48  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:11:48  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:11:48  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:11:48  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:11:48  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:11:48  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:11:48  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:11:48  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:11:48  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:11:48  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:11:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:51  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:11:51  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:11:51  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:11:51  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:11:51  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:11:51  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:11:51  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:11:51  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:11:51  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:11:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:11:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:11:53  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:11:53  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:11:53  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:11:53  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:11:53  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:11:53  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:11:53  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:11:54  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:11:54  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:11:54  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:11:54  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:11:54  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:11:54  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:11:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:56  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:11:56  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:11:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:11:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:11:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:11:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:11:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:11:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:11:59  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:11:59  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:11:59  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:11:59  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:11:59  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:12:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:00  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:12:00  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:12:00  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:12:00  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:12:00  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:12:01  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:12:01  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:12:01  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:12:01  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:12:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:05  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:12:05  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:12:05  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:12:05  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:12:05  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:12:05  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:12:05  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:12:05  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:12:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:06  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:12:06  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:12:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:09  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:12:09  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:12:09  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:12:09  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:12:09  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:12:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:10  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:12:10  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:12:10  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:12:10  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:12:10  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:12:11  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:12:11  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:12:11  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:12:11  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:12:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:15  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:12:15  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:12:15  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:12:15  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:12:15  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:12:15  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:12:15  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:12:15  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:12:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:29  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:12:29  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:12:29  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:12:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:12:29  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:12:29  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:12:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:12:29  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:12:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:30  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:12:30  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:30  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:12:30  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:12:30  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:12:30  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:12:30  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:12:30  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 3414
      [:SeikyuIraiNo] E04045
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] EXA003
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正２ＥＸＡＳ請求確認
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 0
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:12:30  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:12:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:12:31  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:12:31  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:12:31  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:12:31  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:12:31  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:12:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:33  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:12:33  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:12:33  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:12:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:12:33  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:12:33  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:12:33  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:12:33  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:12:33  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:12:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:12:35  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:12:35  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:12:35  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:12:35  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:12:35  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:12:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:36  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:12:36  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:12:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:12:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:12:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:12:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:12:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:12:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:12:59  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:12:59  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:12:59  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:12:59  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:12:59  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:12:59  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:12:59  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:12:59  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:12:59  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:15:42  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:15:42  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:15:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:15:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:15:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:15:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:15:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:15:48  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:15:48  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:15:48  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:15:48  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:15:48  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:15:48  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:15:48  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:15:48  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:15:48  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:15:48  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:15:48  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:15:48  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:15:48  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:15:48  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:15:48  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:15:48  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:15:48  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:15:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:15:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:15:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:15:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:15:50  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:15:50  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:15:50  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:15:50  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:15:50  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:15:50  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:15:50  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:15:50  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:15:50  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:15:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:15:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:15:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:15:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:15:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:15:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:15:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:15:52  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:15:52  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:15:52  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:15:52  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:15:52  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:15:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:15:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:15:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:15:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:15:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:15:57  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:15:57  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:15:57  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:15:57  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:15:57  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:15:57  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:15:58  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:15:58  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:15:58  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:15:58  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:15:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:15:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:15:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:15:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:15:59  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:15:59  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:15:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:15:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:01  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:16:01  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:16:01  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:16:01  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:16:01  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:16:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:02  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:16:02  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:16:02  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:16:02  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:16:02  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:16:04  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:16:04  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:16:04  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:16:04  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:16:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:07  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:16:07  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:16:07  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:16:07  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:16:07  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:16:07  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:16:07  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:16:07  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:16:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:08  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:16:08  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:16:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:10  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:16:10  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:16:10  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:16:10  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:16:10  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:16:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:11  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:16:11  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:16:11  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:16:11  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:16:11  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:16:12  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:16:12  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:16:12  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:16:12  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:16:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:15  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:16:15  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:16:15  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:16:15  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:16:15  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:16:15  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:16:15  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:16:15  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:16:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:16  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:16:16  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:16:16  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:16:16  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:16:16  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:16:16  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:16:16  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:16:16  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:16:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:17  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:16:17  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:16:17  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:16:17  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3417
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3418
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:17  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3418
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:17  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:16:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:17  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:17  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:16:17  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:16:17  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:16:17  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:16:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:19  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:16:19  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:16:19  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:16:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:16:19  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:16:19  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:16:19  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:16:19  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:16:19  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:16:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:20  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:20  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:16:20  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:16:20  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:16:20  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:16:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:22  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:16:22  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:16:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:27  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:16:27  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:16:27  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:16:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:16:27  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:16:27  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:16:27  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:16:27  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:16:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:28  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:16:28  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:28  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:16:28  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:16:28  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:16:28  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 591
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3419
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:16:28  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 592
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3420
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:28  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 592
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3420
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:16:28  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:16:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:29  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:16:29  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:16:29  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:16:29  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:16:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:30  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:16:30  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:16:30  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:16:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:16:30  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:16:30  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:16:30  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:16:30  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:16:30  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:16:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:16:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:16:32  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:16:32  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:16:32  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:16:32  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:32  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:16:33  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:16:33  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:16:33  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:16:33  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:16:33  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:33  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:16:33  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:16:33  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:16:33  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:16:33  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:16:33  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:16:33  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:16:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:16:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:16:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:16:56  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:16:56  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:16:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:16:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:16:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:16:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:16:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:16:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:01  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:17:01  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:17:01  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:17:01  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:17:01  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:17:01  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:17:02  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:17:02  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:17:02  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:17:02  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:17:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:03  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:17:03  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:17:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:06  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:17:06  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:17:06  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:17:06  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:17:06  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:17:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:07  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:17:07  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:17:07  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:17:07  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:17:07  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:17:09  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:17:09  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:17:09  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:17:09  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:17:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:12  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:17:12  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:17:12  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:17:12  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:17:12  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:17:12  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:17:12  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:17:12  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:12  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:17:12  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:17:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:15  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:17:15  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:17:15  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:17:15  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:17:15  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:17:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:16  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:17:16  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:17:16  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:17:16  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:17:16  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:17:18  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:17:18  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:17:18  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:17:18  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:17:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:21  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:17:21  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:17:21  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:17:21  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:17:21  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:17:21  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:17:21  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:17:21  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:17:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:23  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:17:23  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:17:23  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:17:23  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:17:23  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:17:23  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:17:23  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:17:23  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:17:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:17:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:17:24  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:17:24  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:24  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:17:24  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:17:24  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:17:24  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3421
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:17:24  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3422
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:17:24  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04045
      [:SeikyuIraiSeq] 3422
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:17:24  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:17:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:17:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:17:24  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:17:24  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:17:24  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:17:24  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:17:25  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:17:25  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:17:25  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:17:25  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:17:25  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:17:25  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:17:25  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:17:25  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:17:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:17:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:17:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:26  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:17:26  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:17:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:17:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:17:26  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:17:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:17:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:17:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:17:26  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:17:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:17:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:17:28  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:17:28  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:17:28  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:17:28  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:17:28  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:17:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:30  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:17:30  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:17:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:17:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:17:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:17:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:17:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:17:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:18:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:18:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:18:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:18:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:18:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:18:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:18:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:18:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:18:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:18:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:18:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:18:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:18:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:18:09  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:18:09  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:18:09  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:18:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:18:09  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:18:09  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:18:09  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:18:09  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:18:09  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:18:23  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:18:23  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:18:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:18:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:27  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:21:27  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:21:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:35  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:21:35  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:21:35  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:21:35  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:21:35  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:21:35  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:21:35  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:21:35  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:21:35  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:21:35  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:21:35  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:21:35  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:21:35  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:21:35  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:21:35  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:21:35  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:21:35  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:21:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:37  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:21:37  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:21:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:21:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:21:37  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:21:37  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:21:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:21:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:21:37  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:21:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:21:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:21:39  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:21:39  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:21:39  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:21:39  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:21:39  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:21:39  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:21:39  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:21:39  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:21:40  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:21:40  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:21:40  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:21:40  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:21:40  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:21:40  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:21:40  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:21:40  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:21:40  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:21:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:21:42  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:21:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:54  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:21:54  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:21:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:21:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:21:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:21:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:21:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:21:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:21:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:22:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:22:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:22:33  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:22:33  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:22:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:22:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:22:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:22:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:23:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:23:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:23:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:23:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:23:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:23:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:23:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:23:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:23:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:23:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:24:11  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 12:24:11  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 12:24:12  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] EXA003
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 12:24:12  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 利用料[201601]
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesakiInf() START
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesaki() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlAitesaki() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlAitesaki() END
2016/01/18 12:24:12  DEBUG> LogicEXTC0103.GetAitesaki() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT  POST_BANGO , ADD1 , ADD2 , AITE_NM 
FROM AITESAKI_MST 
WHERE  AITE_CD = :AITE_CD 
   Parameters Data > 
      [AITE_CD] EXA003
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesaki() END
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetAitesakiInf() END
2016/01/18 12:24:12  TRACE> EXTC0103.btnPrintExas_Click() EXAS請求依頼 付帯設備使用料[10001]
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetNotaxflg() START
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetNotaxflgInf() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlNotaxflg() START
2016/01/18 12:24:12  TRACE> SqlEXTC0103.GeSqlNotaxflg() END
2016/01/18 12:24:12  DEBUG> LogicEXTC0103.GetNotaxflgInf() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT COALESCE(MAX(notax_flg),'0') 
FROM FBUNRUI_MST 
WHERE  SHISETU_KBN = '2' 
 AND   SHUKEI_GRP  = :SHUKEI_GRP 
 AND   :KIKAN_DT BETWEEN KIKAN_FROM AND KIKAN_TO 
   Parameters Data > 
      [SHUKEI_GRP] 10001
      [KIKAN_DT] 2016/01/27
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetNotaxflgInf() END
2016/01/18 12:24:12  TRACE> LogicEXTC0103.GetNotaxflg() END
2016/01/18 12:24:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:24:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:24:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:24:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:24:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:24:57  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:24:57  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:24:57  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:24:57  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:24:57  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:24:57  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:24:57  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:24:57  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:24:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:24:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:24:58  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:24:58  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:58  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:24:58  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:24:58  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:24:58  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:24:58  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:24:58  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 3422
      [:SeikyuIraiNo] E04045
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] EXA003
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正２ＥＸＡＳ請求確認
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:24:58  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:24:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:24:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:24:59  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:24:59  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:24:59  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:24:59  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:24:59  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:24:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:24:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:01  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:25:01  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:25:01  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:25:01  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:25:01  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:25:01  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:25:01  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:01  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:01  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:25:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:02  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:02  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:25:02  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:25:02  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:25:02  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:25:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:03  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:25:03  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:25:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:09  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:25:09  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:25:09  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:25:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:25:09  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:25:09  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:25:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:25:09  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:25:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:10  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:25:10  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:10  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:25:10  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:25:10  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:25:10  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:25:10  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:25:11  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 3424
      [:SeikyuIraiNo] E04045
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] EXA003
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正２ＥＸＡＳ請求確認
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:25:11  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:25:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:12  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:12  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:25:12  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:25:12  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:25:12  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:25:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:13  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:25:13  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:25:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:25:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:25:13  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:25:13  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:25:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:13  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:25:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:25:15  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:25:15  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:25:15  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:25:15  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:25:15  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:25:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:16  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:25:16  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:25:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:25:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:25:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:25:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:25:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:25:22  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:25:22  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:25:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:25:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:25:22  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:25:22  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:25:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:25:22  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:26:55  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:26:55  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:26:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:26:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:00  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:27:00  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:27:00  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:27:00  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:27:00  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:27:00  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:27:00  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:27:00  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:27:00  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:27:00  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:27:00  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:27:00  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:27:00  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:27:00  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:27:00  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:27:00  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:27:00  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:27:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:02  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:02  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:02  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:02  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:27:02  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:02  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:02  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:02  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:02  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:04  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:04  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:27:04  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:27:04  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:27:04  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:27:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:06  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:06  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:06  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:27:06  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:06  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:06  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:06  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:06  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:10  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:10  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:27:10  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:27:10  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:27:10  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:27:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:12  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:12  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:12  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:12  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:27:12  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:12  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:12  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:12  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:12  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00136
      [:Riyobi] 2016/01/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00136
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/14
      [:SYANAI] 1
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160114
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160114
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:13  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:13  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00136' 
AND seikyu_irai_no = 'E04020' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:27:13  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:27:13  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:27:13  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:27:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:15  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:15  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:15  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:27:15  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:15  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:15  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:15  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:15  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:22  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:22  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/02
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/02
2016/01/18 12:27:22  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:22  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:22  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:25  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:25  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:27:25  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:25  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:25  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:26  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:27:26  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:27:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:27:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2016/01/18 12:27:26  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:27:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:27:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:27:26  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:27:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:27:31  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:27:31  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:27:31  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:27:31  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:27:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:35  TRACE> EXTC0102.inputCheckMain() Chk_START
2016/01/18 12:27:35  TRACE> EXTC0102.inputCheckMain() Chk_END
2016/01/18 12:27:35  TRACE> EXTC0102.inputCheckCondition() Chk_START
2016/01/18 12:27:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:27:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:27:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:27:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:27:35  TRACE> EXTC0102.inputCheckCondition() Chk_END
2016/01/18 12:27:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:36  TRACE> LogicEXTC0102.RegYoyakuInfo() START
2016/01/18 12:27:36  TRACE> LogicEXTC0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/12/09
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 1
      [:SaijiNm] 
      [:ShutsuenNm] EXASプロジェクト表示確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 2
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00130
2016/01/18 12:27:36  TRACE> LogicEXTC0102.RegYoyakuInfo() 登録予約番号:
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/12/09
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 2
      [:StudioKbn] 1
      [:SaijiNm] 
      [:ShutsuenNm] EXASプロジェクト表示確認
      [:KashiKind] 1
      [:RiyoType] 
      [:DrinkFlg] 
      [:SaijiBunrui] 
      [:Teiin] 
      [:OnkyoOpeFlg] 2
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] S00130
2016/01/18 12:27:36  TRACE> LogicEXTC0102.RegYoyakuInfo() END
2016/01/18 12:27:36  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:27:36  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:36  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:27:37  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:27:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Riyobi] 2015/12/15
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    CAST(m1.tanka AS INT8) as futai_shokei, 
    0 as futai_chosei, 
    CAST(m1.tanka AS INT8) as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/15
      [:SYANAI] 1
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:37  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:37  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:27:37  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:27:37  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:27:37  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:27:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:39  TRACE> LogicEXTC0103.GetRyokinBairituMst() START
2016/01/18 12:27:39  TRACE> LogicEXTC0103.GetRyokinMst() START
2016/01/18 12:27:39  TRACE> SqlEXTC0103.GeSqlRyokinMst() START
2016/01/18 12:27:39  TRACE> SqlEXTC0103.GeSqlRyokinMst() END
2016/01/18 12:27:39  DEBUG> LogicEXTC0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2015/12/15
2016/01/18 12:27:39  TRACE> LogicEXTC0103.GetRyokinMst() END
2016/01/18 12:27:39  TRACE> LogicEXTC0103.GeBairituMst() START
2016/01/18 12:27:39  TRACE> SqlEXTC0103.GeSqlBairituMst() START
2016/01/18 12:27:39  TRACE> SqlEXTC0103.GeSqlBairituMst() END
2016/01/18 12:27:39  DEBUG> LogicEXTC0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '2' 
   Parameters Data > 
      [RIYOUBI] 2015/12/15
2016/01/18 12:27:40  TRACE> LogicEXTC0103.GeBairituMst() END
2016/01/18 12:27:40  TRACE> LogicEXTC0103.GetRyokinBairituMst() END
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetBunrui() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectBunrui() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectBunrui() END
2016/01/18 12:27:40  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/15
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetBunrui() END
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetRyokin() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectRyokin() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectRyokin() END
2016/01/18 12:27:40  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:BunruiCd] 20
      [:Riyobi] 2015/12/15
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetRyokin() END
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetBairitu() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectBairitu() START
2016/01/18 12:27:40  TRACE> SqlEXTZ0212.selectBairitu() END
2016/01/18 12:27:40  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/15
2016/01/18 12:27:40  TRACE> LogicEXTZ0212.GetBairitu() END
2016/01/18 12:27:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:27:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:27:41  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2016/01/18 12:27:41  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2016/01/18 12:27:41  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2016/01/18 12:27:41  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2016/01/18 12:27:42  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2016/01/18 12:27:42  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2016/01/18 12:27:42  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2016/01/18 12:27:42  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2016/01/18 12:27:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:48  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 12:27:48  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 12:27:48  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:27:48  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 12:27:48  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 12:27:48  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:27:48  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 12:27:48  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:27:48  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:27:48  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:27:48  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:27:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:51  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:27:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:27:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:27:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:27:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:27:54  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:27:54  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:27:54  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:27:54  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:27:54  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:27:54  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:27:54  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:27:54  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:27:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:27:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:27:55  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:27:55  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:27:55  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:27:55  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:27:55  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:27:55  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:27:55  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:27:58  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:27:59  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 
      [:SeikyuIraiNo] 
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] A00001
      [:NyukinKbn] 
      [:SeikyuTitle1] ２０１５年１２月１５日〜１２月１５日　付帯設備
      [:SeikyuTitle2] 
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 0
      [:SeikyuIraiFlg] 0
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:27:59  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:28:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:28:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151215
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:28:01  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:28:01  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:28:01  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:28:01  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:28:01  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:28:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:28:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:04  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:28:04  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:28:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:28:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:28:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:18  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:28:18  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:28:18  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:28:18  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:28:18  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:28:18  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:28:18  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:28:18  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:28:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:19  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:28:19  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:28:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:28:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:28:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:29  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:28:29  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:28:29  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:28:29  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:28:29  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:28:29  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:28:29  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:28:29  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:28:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:28:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:28:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:28:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:28:34  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:28:34  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:28:34  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:28:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:28:34  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:28:34  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:28:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:28:34  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:28:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:28:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:28:35  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:28:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:28:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:28:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:28:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:28:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:28:50  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 
      [:SeikyuIraiNo] E04046
      [:SeikyuIraiSeq] 3429
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201512
      [:KeijoKin] 60000
      [:TaxKin] 4800
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　利用料
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:28:54  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:28:54  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 
      [:SeikyuIraiNo] E04047
      [:SeikyuIraiSeq] 3430
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201512
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　付帯設備
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:28:54  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 
      [:SeikyuIraiNo] E04047
      [:SeikyuIraiSeq] 3430
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201512
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　付帯設備
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:28:54  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:SeikyuIraiNo] E04047
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:28:57  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:28:57  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00130' 
AND seikyu_irai_no = 'E04047' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:28:57  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:28:57  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:28:57  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:28:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:28:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:29:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:29:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:29:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:29:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:29:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:29:20  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:29:20  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:29:20  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:29:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:29:20  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:29:20  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:29:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:29:20  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:29:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:29:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:29:21  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:29:21  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:29:21  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:29:21  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:29:21  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:29:21  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:29:21  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:29:21  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:29:21  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:29:21  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:21  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:29:22  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:29:36  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:29:47  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:30:21  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 595
      [:SeikyuIraiNo] E04046
      [:SeikyuIraiSeq] 3431
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201512
      [:KeijoKin] 60000
      [:TaxKin] 4800
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　利用料
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:30:32  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:30:38  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:30:41  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:31:01  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 596
      [:SeikyuIraiNo] E04047
      [:SeikyuIraiSeq] 3432
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201512
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　付帯設備
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:31:06  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00130
      [:Seq] 596
      [:SeikyuIraiNo] E04047
      [:SeikyuIraiSeq] 3432
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201512
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１５年１２月１５日〜１２月１５日　付帯設備
      [:Tekiyo2] プロジェクト表示確認
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:31:07  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:31:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:31:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:31:27  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:31:27  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:31:27  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:31:27  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:31:27  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:31:27  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:31:27  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:31:28  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:31:28  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:31:28  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:31:28  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:31:28  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:31:29  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:31:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:31:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:31:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:31:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:31:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:31:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00130
2016/01/18 12:31:29  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:31:31  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:31:31  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:31:31  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:31:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:31:31  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:31:31  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:31:31  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:31:32  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:34:46  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:34:46  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:34:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:34:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:34:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:51  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:34:51  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:34:51  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:34:51  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:34:51  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:34:51  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:34:51  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:34:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:34:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:34:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:34:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:34:51  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:34:51  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:34:51  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:34:51  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:34:51  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:34:51  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:34:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:34:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:34:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:53  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:34:53  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:34:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:34:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:34:53  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:34:53  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:34:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:34:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:34:53  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:34:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:34:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:34:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:34:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:34:54  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:34:54  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:34:54  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:34:54  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:34:54  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:34:54  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:34:54  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:34:54  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:34:55  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:34:55  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:34:55  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:34:55  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:34:55  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:34:55  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:34:55  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:34:55  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:34:55  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:34:55  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:34:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:34:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:34:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:34:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:56  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:34:56  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:34:56  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:34:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:34:56  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:34:56  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:34:56  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:34:56  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:34:56  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:34:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:34:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:34:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:34:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:34:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:34:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04043
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:34:57  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:34:57  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04043' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:34:57  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:34:57  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:34:57  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:34:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:34:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:01  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:35:02  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:35:02  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:35:03  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:03  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:35:03  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:35:03  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:35:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:05  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:35:05  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:35:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:12  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:35:12  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:35:12  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:35:12  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:35:12  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:35:12  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:35:12  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:35:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:35:14  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 12:35:14  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:35:14  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:35:14  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:35:14  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 12:35:14  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 12:35:14  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:35:14  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 12:35:14  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:14  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 12:35:14  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:35:14  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 12:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:19  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:35:19  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:35:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:23  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:35:23  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:35:23  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:35:23  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:35:23  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:35:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:24  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:35:24  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:35:24  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:35:24  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:35:24  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:35:26  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:35:26  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:35:26  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:35:26  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:35:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:28  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:35:28  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:35:28  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:35:28  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:35:28  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:35:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:29  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:35:29  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:35:29  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:35:29  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:35:29  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:35:30  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:35:30  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:35:30  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:35:30  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:35:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:33  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:35:33  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:35:33  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:35:33  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:35:33  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:35:33  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:35:33  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:35:33  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:35:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:34  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:35:34  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:35:34  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:35:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:35:34  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:35:34  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:35:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:35:34  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:35:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:35  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:35:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:35:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:35:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:35:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3433
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:35:35  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3433
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:35:35  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3433
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:35:35  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:35:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04048
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:35:36  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:35:36  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:35:36  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:35:36  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:35:36  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:35:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:38  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:35:38  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:35:38  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:35:38  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:35:38  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:35:38  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:35:38  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:35:38  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:35:38  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:35:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:35:39  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:35:39  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:35:39  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:35:39  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:35:39  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:35:39  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:39  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:35:39  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:35:39  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:35:39  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:35:39  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:39  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:35:39  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:35:39  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:39  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:35:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:35:40  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:35:40  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:35:40  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04048
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:35:40  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:35:40  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:35:40  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:35:40  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:35:40  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:35:40  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:35:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:41  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:35:41  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:35:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:35:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:35:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:35:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:35:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:35:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:35:47  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:35:47  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:35:47  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:35:47  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:35:47  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:35:47  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:35:47  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:35:47  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:35:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:35:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:35:48  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:35:48  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:35:48  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:35:48  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:35:48  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:35:48  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:35:48  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:35:48  ERROR> SqlEXTC0103.deleteExasProject() ERROR: 42601: "("またはその近辺で構文エラー
Npgsql.NpgsqlException:
"("またはその近辺で構文エラー
Severity: ERROR
Code: 42601
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteScalar()
   場所 EXTC.SqlEXTC0103.deleteExasProject(NpgsqlCommand& Cmd, NpgsqlConnection& Cn, String YoyakuNo, String SeikyuIraiNo, DataTable PrjDt) 場所 C:\dev\EXT\EXTC\Sql\SqlEXTC0103.vb:行 2967
■SQL Data :
   Sql Command > DELETE FROM PROJECT_TBL WHERE yoyaku_no = :YoyakuNo AND seikyu_irai_no = :SeikyuIraiNo (597)
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04048
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:35:48  ERROR> SqlEXTC0103.registerExasProject() ERROR: 25P02: 現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Npgsql.NpgsqlException:
現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Severity: ERROR
Code: 25P02
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteScalar()
   場所 EXTC.SqlEXTC0103.registerExasProject(NpgsqlCommand& Cmd, NpgsqlConnection& Cn, String YoyakuNo, DataRow& PrjRow) 場所 C:\dev\EXT\EXTC\Sql\SqlEXTC0103.vb:行 3060
2016/01/18 12:35:48  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:35:48  ERROR> SqlEXTC0103.registerExasProject() ERROR: 25P02: 現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Npgsql.NpgsqlException:
現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Severity: ERROR
Code: 25P02
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteScalar()
   場所 EXTC.SqlEXTC0103.registerExasProject(NpgsqlCommand& Cmd, NpgsqlConnection& Cn, String YoyakuNo, DataRow& PrjRow) 場所 C:\dev\EXT\EXTC\Sql\SqlEXTC0103.vb:行 3060
2016/01/18 12:35:48  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 598
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3434
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:35:48  ERROR> LogicEXTC0103.RegYoyakuDetail() ERROR: 25P02: 現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Npgsql.NpgsqlException:
現在のトランザクションがアボートしました。トランザクションブロックが終わるまでコマンドは無視されます
Severity: ERROR
Code: 25P02
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.NpgsqlState.ProcessAndDiscardBackendResponses(NpgsqlConnector context)
   場所 Npgsql.NpgsqlConnector.ProcessAndDiscardBackendResponses()
   場所 Npgsql.NpgsqlCommand.ExecuteSetStatementTimeoutBlind(NpgsqlConnector connector, Int32 timeout)
   場所 Npgsql.NpgsqlConnector.SetBackendCommandTimeout(Int32 timeout)
   場所 Npgsql.NpgsqlCommand.ExecuteBlind(NpgsqlConnector connector, NpgsqlQuery query)
   場所 Npgsql.NpgsqlTransaction.Commit()
   場所 EXTC.LogicEXTC0103.RegYoyakuDetail(DataEXTC0102& dataEXTC0102) 場所 C:\dev\EXT\EXTC\Logic\LogicEXTC0103.vb:行 145
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 598
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3434
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:36:14  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:36:14  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:36:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:24  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:36:24  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:36:24  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:36:24  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:36:24  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:36:24  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:36:24  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:36:24  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:36:24  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:36:24  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:36:24  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:36:24  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:36:24  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:36:24  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:36:24  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:36:24  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:36:24  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:36:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:26  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:36:26  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:36:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:36:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:36:26  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:36:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:36:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:26  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:36:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:36:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:36:29  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:36:29  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:36:29  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:36:29  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:36:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:33  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:36:33  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:36:33  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:36:33  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:36:33  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:36:33  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:36:33  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:33  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:33  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:36:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00136
      [:Riyobi] 2016/01/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00136
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/14
      [:SYANAI] 1
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00136
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160114
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160114
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:36:35  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:36:35  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00136' 
AND seikyu_irai_no = 'E04020' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:36:35  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:36:35  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:36:35  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:36:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:37  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:36:37  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:36:37  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:36:37  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:36:37  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:36:37  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:36:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:37  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:37  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:36:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:36:38  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:36:38  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:36:38  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:36:38  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:36:38  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:36:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:43  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:36:43  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:36:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:36:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:36:43  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:36:43  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:36:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:36:43  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:36:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04048
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:36:44  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:36:44  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:36:44  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:36:44  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:36:44  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:36:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:36:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:36:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:36:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:36:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:36:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:36:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:36:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:36:52  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:36:52  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:36:52  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:36:52  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:36:52  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:36:52  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:36:52  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:36:52  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:36:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:36:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:36:53  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:36:53  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:36:53  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:36:53  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:36:53  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:36:53  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:36:53  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:37:05  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:38:18  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:38:18  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:38:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:23  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:38:23  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:38:23  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:38:23  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:38:23  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:38:23  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:38:23  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:38:23  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:38:23  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:38:23  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:38:23  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:38:23  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:38:23  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:38:23  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:38:23  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:38:23  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:38:23  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:38:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:25  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:38:25  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:38:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:38:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:38:25  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:38:25  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:38:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:38:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:38:25  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:38:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04048
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:38:27  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:38:27  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:38:27  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:38:27  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:38:27  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:38:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:30  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:38:30  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:38:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:34  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:38:34  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:38:34  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:38:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:38:34  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:38:34  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:38:34  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:38:34  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:38:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:35  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:38:35  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:35  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:38:35  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:38:35  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:38:35  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:38:35  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:38:39  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:38:39  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:38:39  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 597
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3436
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:38:39  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:38:39  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 598
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3436
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:38:39  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 598
      [:SeikyuIraiNo] E04048
      [:SeikyuIraiSeq] 3436
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:38:39  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:38:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:38:41  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:38:41  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:38:41  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:38:41  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:41  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:38:41  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:38:41  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:38:41  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:38:42  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:38:42  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:38:42  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:38:42  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:38:42  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:38:42  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:38:42  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:38:42  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:38:42  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:38:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:43  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:38:43  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:38:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:38:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:38:43  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:38:43  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:38:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:38:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:38:43  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:38:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:38:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:38:44  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:38:44  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:38:44  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:38:44  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:38:44  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:38:44  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:44  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:38:44  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:38:44  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:38:44  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:38:44  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:44  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:38:44  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:38:44  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:38:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:38:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:38:45  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:38:45  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:38:45  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:38:45  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:38:45  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:38:45  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:38:45  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:38:45  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:38:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:46  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:38:46  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:38:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:38:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:38:55  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:38:55  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:38:55  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:38:55  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:38:55  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:38:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:38:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:38:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:38:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:38:56  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:38:56  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:38:56  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:38:56  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:38:56  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:38:57  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:38:57  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:38:57  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:38:57  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:39:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:39:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:39:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:39:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:39:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:05  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:39:05  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:39:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:39:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:39:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:39:05  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:39:05  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:39:06  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:39:06  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:39:06  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:39:06  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:39:06  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:39:06  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:39:06  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:39:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:39:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:39:07  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:39:07  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:39:07  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:39:07  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:39:07  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:39:07  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:39:07  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:39:07  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:39:08  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:39:08  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:39:08  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:39:08  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:39:08  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:39:08  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:39:08  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:39:08  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:39:08  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:39:08  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:39:08  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:39:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:39:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:39:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:09  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:39:09  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:39:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:39:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:39:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:39:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:39:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:39:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:39:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:39:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:39:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:39:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:39:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:39:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:39:26  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:39:26  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:39:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:39:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:39:26  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:39:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:39:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:39:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:39:26  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:42:10  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:42:10  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:42:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:21  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:42:21  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:42:21  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:42:21  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:42:21  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:42:21  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:42:21  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:42:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:42:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:42:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:42:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:42:21  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:42:21  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:42:21  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:42:21  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:42:21  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:42:21  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:42:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:25  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:42:25  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:42:25  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:42:25  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:42:25  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:42:25  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:42:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:42:25  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:42:25  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:42:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/13
      [:SYANAI] 1
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00135
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00135
      [:SeikyuIraiNo] E04032
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:42:29  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:42:29  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00135' 
AND seikyu_irai_no = 'E04032' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:42:29  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:42:29  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:42:29  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:42:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:31  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:42:31  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:42:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:42:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:42:31  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:42:31  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:42:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:42:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:42:31  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:42:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:42:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:42:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04048' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:42:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:42:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:42:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:42:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:36  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:42:36  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:42:36  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:42:37  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:37  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:42:37  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:42:37  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:42:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:42:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:42:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:41  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:42:41  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:42:41  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:42:41  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:42:41  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:42:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:42:47  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 12:42:47  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:42:47  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:42:47  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:42:47  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 12:42:47  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 12:42:47  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:42:47  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 12:42:47  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:47  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 12:42:47  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:47  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 12:42:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:48  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:42:48  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:42:48  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:42:48  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:42:48  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:42:48  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:42:48  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:42:48  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:42:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:49  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:42:49  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:49  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:42:49  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:42:49  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:42:49  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:42:49  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:42:49  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] 
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] A00001
      [:NyukinKbn] 
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 0
      [:SeikyuIraiFlg] 0
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:42:49  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:42:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:42:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:42:50  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:42:50  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 12:42:50  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:42:50  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:42:50  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:42:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:53  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:42:53  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:42:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:42:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:42:56  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:42:56  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:42:56  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:42:56  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:42:56  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:42:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:42:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:42:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:42:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:42:57  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:42:57  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:42:57  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:42:57  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:42:57  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:42:59  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:42:59  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:42:59  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:42:59  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:43:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:43:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:43:01  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:43:01  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:43:01  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:43:01  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:43:01  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:43:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:02  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:43:02  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:43:02  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:43:02  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:43:02  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:43:05  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:43:05  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:43:05  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:43:05  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:43:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:08  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:43:08  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:43:08  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:43:08  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:43:08  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:43:08  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:43:08  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:43:08  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:43:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:11  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:43:11  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:43:11  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:43:11  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:43:11  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:43:11  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:43:11  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:43:11  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:43:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:12  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:43:12  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:12  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:43:12  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:43:12  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:43:12  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3439
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:43:12  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:43:12  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3439
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:43:12  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3439
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:43:12  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04049
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:43:13  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:43:13  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04049' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:43:13  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:43:13  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:43:13  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:43:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:43:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:15  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:43:15  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:43:15  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:43:15  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:43:15  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:43:15  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:43:15  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:43:15  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:43:15  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:43:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04049
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:43:17  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:43:17  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04049' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:43:17  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:43:17  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:43:17  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:43:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:43:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:43:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:18  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:43:18  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:43:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:43:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:43:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:43:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:43:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:43:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:43:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:43:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:43:32  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:43:32  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:43:32  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:43:32  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:43:32  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:43:32  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:43:32  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:43:32  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:43:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:43:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:43:34  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:43:34  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:43:34  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:43:34  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:43:34  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:43:34  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:43:34  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:43:47  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:43:50  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:43:50  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 599
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3440
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:43:54  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:44:07  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:44:07  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 600
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3440
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:44:11  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 600
      [:SeikyuIraiNo] E04049
      [:SeikyuIraiSeq] 3440
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:44:12  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:44:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:44:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:44:17  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:44:17  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04049' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:44:17  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:44:17  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:44:17  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:44:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:44:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:44:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:18  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:44:18  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:44:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:44:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:44:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:44:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:44:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:44:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:44:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:44:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:44:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:44:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:44:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:44:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:44:31  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:44:31  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:44:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:44:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:44:31  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:44:31  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:44:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:44:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:44:31  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:53:16  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 12:53:16  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 12:53:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:21  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 12:53:21  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 12:53:21  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 12:53:21  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 12:53:21  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 12:53:21  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 12:53:21  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 12:53:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 12:53:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:53:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 12:53:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 12:53:21  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 12:53:21  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 12:53:21  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 12:53:21  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 12:53:21  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 12:53:21  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 12:53:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:23  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:53:23  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:53:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:53:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:53:23  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:53:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:53:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:53:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:53:23  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:53:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:53:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:53:24  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:53:24  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04049' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:53:24  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:53:24  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:53:24  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:53:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:27  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:53:27  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:53:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:34  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:53:34  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:53:34  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:53:37  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:37  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:53:37  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:53:37  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:53:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:53:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:53:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:53:44  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 12:53:44  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:53:44  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:53:44  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:53:45  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:53:45  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:53:45  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 12:53:45  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 12:53:45  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:53:45  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 12:53:45  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:45  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 12:53:45  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:53:45  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 12:53:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:53:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:53:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:51  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:53:51  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:53:51  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:53:51  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:53:51  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:53:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:52  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:53:52  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:53:52  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:53:52  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:53:52  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:53:54  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:53:54  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:53:54  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:53:54  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:53:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:53:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:53:55  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:53:55  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:53:55  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:53:55  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:53:55  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:53:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:53:56  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:53:56  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:53:56  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:53:56  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:53:56  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:53:57  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:53:57  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:53:57  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:53:57  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:53:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:53:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:53:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:53:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:00  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:54:00  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:54:00  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:54:00  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:54:00  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:54:00  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:54:00  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:54:00  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:54:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:02  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:54:02  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:54:02  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:54:02  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:54:02  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:54:02  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:54:02  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:54:02  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:54:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:04  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:54:04  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:04  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:54:04  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:54:04  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:54:04  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3441
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:54:04  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3441
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:04  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3441
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:04  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:54:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04050
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:54:08  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:54:08  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04050' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:54:08  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:54:08  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:54:08  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:54:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:10  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:54:10  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:54:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:30  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:54:30  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:54:30  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:54:30  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:54:30  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:54:30  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:54:30  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:54:30  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:54:30  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:54:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04050
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:54:32  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:54:32  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04050' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:54:32  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:54:32  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:54:32  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:54:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:54:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:54:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:41  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:54:41  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:54:41  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:54:41  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:54:41  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:54:41  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:54:41  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:54:41  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:54:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:42  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:54:42  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:42  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:54:42  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:54:42  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:54:42  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 601
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3442
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:54:42  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 602
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3442
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:42  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 602
      [:SeikyuIraiNo] E04050
      [:SeikyuIraiSeq] 3442
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:54:42  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:54:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:54:46  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:54:46  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04050' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:54:46  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:54:46  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:54:46  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:54:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:54:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:54:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:54:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:54:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:54:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:54:48  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:54:48  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:54:48  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:54:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:54:48  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:54:48  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:54:48  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:54:48  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:54:48  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:55:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:21  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:55:21  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:55:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:55:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:55:21  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:55:21  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:55:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:55:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:55:21  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:55:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:55:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:55:23  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:55:23  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04050' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:55:23  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:55:23  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:55:23  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:55:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:27  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 12:55:27  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 12:55:27  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 12:55:28  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:28  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:55:28  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:55:28  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:55:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:55:30  TRACE> LogicEXTC0103.WeekDayCheck() START
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetSelectHoliday() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.GetHolidayMst() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.GetHolidayMst() END
2016/01/18 12:55:30  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:55:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:55:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:55:30  TRACE> LogicEXTC0103.UpFutai() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2016/01/18 12:55:30  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2016/01/18 12:55:30  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2016/01/18 12:55:30  TRACE> LogicEXTC0103.UpFutai() END
2016/01/18 12:55:30  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:30  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2016/01/18 12:55:30  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:55:30  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2016/01/18 12:55:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:32  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:55:32  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:55:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:35  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:55:35  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:55:35  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:55:35  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:55:35  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:55:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:36  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:55:36  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:55:36  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:55:36  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:55:36  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:55:38  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:55:38  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:55:38  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:55:38  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:55:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:55:40  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 12:55:40  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 12:55:40  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 12:55:40  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:55:40  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 12:55:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:40  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 12:55:40  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 12:55:40  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 12:55:40  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 12:55:41  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 12:55:41  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 12:55:41  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 12:55:41  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 12:55:41  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 12:55:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:44  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 12:55:44  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 12:55:44  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 12:55:44  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 12:55:44  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 12:55:44  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 12:55:44  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 12:55:44  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 12:55:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:55:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:55:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:55:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:55:46  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:55:46  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:55:46  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:55:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:55:46  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:55:46  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:55:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:55:46  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:55:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:55:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:55:46  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:55:46  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:55:46  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:55:46  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:55:46  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:55:46  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.nextValSeikyuIraiNo() START
2016/01/18 12:55:46  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:55:47  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:55:47  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:55:59  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3443
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:56:03  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:56:11  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3443
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:56:11  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3443
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:56:11  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:56:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:56:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04051
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:56:13  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:56:13  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04051' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:56:13  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:56:13  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:56:13  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:56:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:56:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:56:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:56:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:56:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:56:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:56:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:56:14  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 12:56:14  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 12:56:14  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 12:56:14  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 12:56:14  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 12:56:14  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 12:56:14  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:56:14  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 12:56:14  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 12:57:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:57:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:57:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:57:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:SeikyuIraiNo] E04051
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:57:06  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:57:06  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04051' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:57:06  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:57:06  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:57:06  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:57:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:57:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:57:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:57:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:57:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:57:07  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:57:07  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:57:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:57:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:57:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:57:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:57:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:57:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:57:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:57:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:57:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:57:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:57:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:57:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:57:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:57:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:57:14  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 12:57:14  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 12:57:14  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 12:57:14  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 12:57:14  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 12:57:14  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 12:57:14  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 12:57:14  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 12:57:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:57:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:57:16  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 12:57:16  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:57:16  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 12:57:16  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 12:57:16  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 12:57:16  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 12:57:16  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:57:32  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 603
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3444
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 90000
      [:TaxKin] 7200
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:57:52  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 12:58:08  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 604
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3444
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:58:21  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Seq] 604
      [:SeikyuIraiNo] E04051
      [:SeikyuIraiSeq] 3444
      [:SeikyuNaiyo] 2
      [:RiyoYm] 201601
      [:KeijoKin] 136500
      [:TaxKin] 10920
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:Tekiyo2] 修正ＥＸＡＳ請求確認用その１
      [:ContentCd] IBNT005
      [:ContentUchiCd] CONT005002
      [:ShukeiGrp] 10001
      [:KamokuCd] 221126
      [:SaimokuCd] 120
      [:UchiCd] 1220
      [:ShosaiCd] 2211250220
      [:KarikamokuCd] 221126
      [:KariSaimokuCd] 120
      [:KariUchiCd] 1210
      [:KariShosaiCd] 2211250220
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 12:58:23  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 12:59:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 12:59:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 12:59:19  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 12:59:19  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 12:59:19  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 12:59:20  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 12:59:20  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 12:59:20  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 12:59:20  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04051' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 12:59:20  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 12:59:20  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 12:59:20  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 12:59:20  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 12:59:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:59:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:59:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:59:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:59:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:59:29  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 12:59:29  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 12:59:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:59:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:59:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:59:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:59:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 12:59:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 12:59:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 12:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 12:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 12:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 12:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:00:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:00:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:00:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:00:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:00:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:00:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:00:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:00:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:00:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:00:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:00:28  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:00:28  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:00:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:00:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:00:28  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:00:28  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:00:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:00:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:00:28  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:02:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:09  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:09  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:02:09  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:02:09  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:02:09  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:02:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:14  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 13:02:14  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 13:02:14  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 13:02:15  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:02:15  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:02:15  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 13:02:15  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 13:02:16  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:02:16  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:02:16  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:02:16  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:02:16  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:02:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:02:17  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:02:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:27  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:02:27  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:02:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:29  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 13:02:29  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 13:02:29  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 13:02:29  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 13:02:29  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 13:02:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:31  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 13:02:31  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 13:02:31  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 13:02:31  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 13:02:31  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 13:02:32  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 13:02:32  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 13:02:32  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 13:02:32  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 13:02:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:35  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 13:02:35  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 13:02:35  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 13:02:35  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 13:02:35  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 13:02:35  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 13:02:35  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 13:02:35  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 13:02:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:36  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 13:02:36  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 13:02:36  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 13:02:36  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 13:02:36  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 13:02:36  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 13:02:36  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 13:02:36  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 13:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:37  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 13:02:37  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:37  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 13:02:37  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 13:02:37  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 13:02:37  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:37  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 13:02:38  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 13:02:40  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3445
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT004
      [:ContentUchiCd] CONT004001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 13:02:40  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 13:02:40  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 3426
      [:SeikyuIraiNo] E04045
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] EXA003
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正２ＥＸＡＳ請求確認
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 13:02:40  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 13:02:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:02:42  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:02:42  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:02:42  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:02:42  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:02:42  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:02:42  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:42  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:02:42  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:02:42  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:02:42  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:42  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:02:42  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:02:42  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:02:42  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:02:43  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:02:43  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:02:43  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:43  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:43  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:02:43  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:02:43  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:02:43  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:02:43  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:02:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:44  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:02:44  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:02:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:02:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:02:44  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:02:44  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:02:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:02:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:02:44  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:02:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:02:45  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:02:45  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:02:45  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:02:45  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:45  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:02:45  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:02:45  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:02:45  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:02:46  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:46  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:46  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:02:46  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:02:46  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:02:46  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:02:46  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:02:46  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:02:46  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:02:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:02:47  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:02:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:02:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:02:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:02:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:02:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:02:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:02:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:02:56  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:02:56  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:02:56  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:02:56  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:02:56  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:02:56  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:02:56  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:02:56  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:02:56  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:04:00  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 13:04:00  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 13:04:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:04:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:04:47  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 13:04:47  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 13:04:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:04:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:09  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/01/18 13:05:09  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/01/18 13:05:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:20  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/01/18 13:05:20  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/01/18 13:05:20  TRACE> LogicEXTA0101.GetLoginData() START
2016/01/18 13:05:20  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/01/18 13:05:20  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/01/18 13:05:20  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2016/01/18 13:05:20  TRACE> LogicEXTA0101.GetLoginData() END
2016/01/18 13:05:20  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/01/18 13:05:20  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 13:05:20  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2016/01/18 13:05:20  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/01/18 13:05:20  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/01/18 13:05:20  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/01/18 13:05:20  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/01/18 13:05:20  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/01/18 13:05:20  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/01/18 13:05:20  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2016/01/18 13:05:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:22  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:05:22  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:05:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:05:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:05:22  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:05:22  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:05:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:22  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:05:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:05:24  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:05:24  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04051' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 13:05:24  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:05:24  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:05:24  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:05:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:26  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:05:26  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:05:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:05:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:05:26  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:05:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:05:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:26  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:05:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00137
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00137
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:05:28  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:05:28  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00137' 
AND seikyu_irai_no = 'E04051' 

   Parameters Data > 
      [:LineNo] 0
2016/01/18 13:05:28  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:05:28  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:05:28  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:05:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:29  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:05:29  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:05:29  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:05:29  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:05:29  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:05:29  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:05:29  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:29  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:05:29  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:05:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:05:30  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:05:30  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:05:30  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:05:30  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:05:30  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:05:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:35  TRACE> LogicEXTC0103.CancellSeikyu() START
2016/01/18 13:05:35  TRACE> SqlEXTC0103.updateCancellSeikyu() START
2016/01/18 13:05:35  TRACE> LogicEXTC0103.CancellSeikyu() END
2016/01/18 13:05:37  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selecContents() START
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年１月
      [:Riyobi] 20160127
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:05:37  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:05:37  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:05:37  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:05:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:05:38  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:05:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:40  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 13:05:40  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 13:05:40  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 13:05:40  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 13:05:40  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 13:05:40  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 13:05:40  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 13:05:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:43  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 13:05:43  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 13:05:43  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 13:05:43  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 13:05:43  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 13:05:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:44  TRACE> LogicEXTZ0205.GetProject() START
2016/01/18 13:05:44  TRACE> SqlEXTZ0205.searchProject() START
2016/01/18 13:05:44  TRACE> SqlEXTZ0205.searchProject() END
2016/01/18 13:05:44  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 13:05:44  TRACE> LogicEXTZ0205.GetProject() END
2016/01/18 13:05:46  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2016/01/18 13:05:46  TRACE> LogicEXTZ0205.SetCheck() START
2016/01/18 13:05:46  TRACE> LogicEXTZ0205.SetCheck() END
2016/01/18 13:05:46  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2016/01/18 13:05:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:05:49  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:05:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:05:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:05:52  TRACE> LogicEXTZ0205.InitSearch() START
2016/01/18 13:05:52  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2016/01/18 13:05:52  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2016/01/18 13:05:52  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20160118
2016/01/18 13:05:52  TRACE> LogicEXTZ0205.InitSearch() END
2016/01/18 13:05:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:56  TRACE> EXTZ0203.inputCheckMain() Chk_START
2016/01/18 13:05:56  TRACE> LogicEXTZ0203.WeekDayCheck() START
2016/01/18 13:05:56  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2016/01/18 13:05:56  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2016/01/18 13:05:56  TRACE> SqlEXTZ0203.GetHolidayMst() START
2016/01/18 13:05:56  TRACE> SqlEXTZ0203.GetHolidayMst() END
2016/01/18 13:05:56  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/02/29
2016/01/18 13:05:56  TRACE> EXTZ0203.inputCheckMain() Chk_END
2016/01/18 13:05:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:05:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:05:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:05:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:05:57  TRACE> EXTC0103.inputCheckMain() Chk_START
2016/01/18 13:05:57  TRACE> EXTC0103.inputCheckMain() Chk_END
2016/01/18 13:05:57  TRACE> EXTC0103.inputCheckCondition() Chk_START
2016/01/18 13:05:57  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2016/01/18 13:05:57  TRACE> SqlEXTZ0202.cntRiyobi() START
2016/01/18 13:05:57  TRACE> SqlEXTZ0202.cntRiyobi() END
2016/01/18 13:05:57  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2016/01/18 13:05:57  TRACE> EXTC0103.inputCheckCondition() Chk_END
2016/01/18 13:05:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:05:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:05:58  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2016/01/18 13:05:58  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:05:58  TRACE> LogicEXTC0102.InsertYoyakuList() START
2016/01/18 13:05:58  TRACE> LogicEXTC0102.InsertYoyakuList() END
2016/01/18 13:05:58  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.deleteFutai() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutai() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutai() END
2016/01/18 13:05:58  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerFutaiDetail() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.deleteBillPay() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.deleteExasProject() START
2016/01/18 13:05:58  TRACE> SqlEXTC0103.registerExasProject() START
2016/01/18 13:06:01  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > INSERT INTO 
    PROJECT_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_irai_seq, seikyu_naiyo, riyo_ym, keijo_kin, tax_kin, tekiyo1, tekiyo2,
    content_cd, content_uchi_cd, shukei_grp, kamoku_cd, saimoku_cd, uchi_cd, shosai_cd, karikamoku_cd, kari_saimoku_cd,
    kari_uchi_cd, kari_shosai_cd, add_dt, add_user_cd, up_dt, up_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    nextval('PROJECT_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuIraiSeq, 
    :SeikyuNaiyo, 
    :RiyoYm, 
    :KeijoKin, 
    :TaxKin, 
    :Tekiyo1, 
    :Tekiyo2, 
    :ContentCd, 
    :ContentUchiCd, 
    :ShukeiGrp, 
    :KamokuCd, 
    :SaimokuCd, 
    :UchiCd, 
    :ShosaiCd, 
    :KarikamokuCd, 
    :KariSaimokuCd, 
    :KariUchiCd, 
    :KariShosaiCd, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 
      [:SeikyuIraiNo] E04044
      [:SeikyuIraiSeq] 3447
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201601
      [:KeijoKin] 85000
      [:TaxKin] 6800
      [:Tekiyo1] ２０１６年１月２７日〜１月２７日　利用料
      [:Tekiyo2] 修正２ＥＸＡＳ請求確認
      [:ContentCd] IBNT002
      [:ContentUchiCd] CONT002001
      [:ShukeiGrp] 000000
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 13:06:01  TRACE> SqlEXTC0103.registerBillPay() START
2016/01/18 13:06:01  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Seq] 3446
      [:SeikyuIraiNo] E04045
      [:SeikyuDt] 2016/01/18
      [:NyukinYoteiDt] 2016/02/29
      [:KakuteiKin] 136500
      [:ChoseiKin] 0
      [:Shokei] 136500
      [:TaxKin] 10920
      [:SeikyuKin] 147420
      [:SeikyuNaiyo] 2
      [:AiteCd] EXA003
      [:NyukinKbn] 1
      [:SeikyuTitle1] ２０１６年１月２７日〜１月２７日　付帯設備
      [:SeikyuTitle2] 修正２ＥＸＡＳ請求確認
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 1
      [:SeikyuIraiFlg] 1
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2016/01/18 13:06:01  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2016/01/18 13:06:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:06:03  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:06:03  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:06:03  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:06:03  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:06:03  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:06:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:06:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:06:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:05  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:06:05  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:06:05  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:06:05  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:06:05  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:06:05  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:06:05  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:06:05  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:06:05  TRACE> LogicEXTC0101.MakeSpread() END
2016/01/18 13:06:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetApproval() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetApproval() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetFutai() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:Riyobi] 2016/01/27
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:ShisetuKbn] 2
      [:Riyobi] 2016/01/27
      [:SYANAI] 1
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetFutai() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetTax() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectTax() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectTax() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetTax() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetBillReq() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectBillReq() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectBillReq() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00138
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetBillReq() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectExasFutai() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectExasFutai() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00138
      [:SeikyuIraiNo] E04045
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetNyukin() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectNyukin() START
2016/01/18 13:06:06  TRACE> SqlEXTC0103.selectNyukin() END
2016/01/18 13:06:06  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00138' 
AND seikyu_irai_no = 'E04045' 

   Parameters Data > 
      [:LineNo] 1
2016/01/18 13:06:06  TRACE> LogicEXTC0103.GetNyukin() END
2016/01/18 13:06:06  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/01/18 13:06:06  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/01/18 13:06:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:06:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:06:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:08  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/01/18 13:06:08  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2016/01/18 13:06:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:06:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:06:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/01/18 13:06:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/01/18 13:06:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/01/18 13:06:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/01/18 13:06:13  TRACE> LogicEXTC0101.MakeSpread() START
2016/01/18 13:06:13  TRACE> LogicEXTC0101.GetSpreadData() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/01/18 13:06:13  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/01/18 13:06:13  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2016/01/18 13:06:13  TRACE> LogicEXTC0101.GetSpreadData() END
2016/01/18 13:06:13  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/01/18 13:06:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:06:13  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/01/18 13:06:13  TRACE> LogicEXTC0101.MakeSpread() END
