2017/04/17 11:19:13  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 11:19:13  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 11:19:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:19:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:19:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:19:23  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:19:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:19:26  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 11:19:26  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 11:19:26  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 11:19:26  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 11:19:26  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 11:19:26  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 11:19:26  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 11:19:26  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 11:19:26  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 11:19:26  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 11:19:26  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 11:19:26  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 11:19:26  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 11:19:26  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 11:19:26  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 11:19:26  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 11:19:26  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 11:19:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:19:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:24:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:24:06  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:24:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:24:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:24:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:24:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:24:25  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:24:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:24:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:24:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:24:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:24:27  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:24:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:24:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:24:27  TRACE> LogicEXTM0201.InitSearch() START
2017/04/17 11:24:27  TRACE> SqlEXTM0201.SetSelectInit() START
2017/04/17 11:24:27  TRACE> SqlEXTM0201.SetSelectInit() END
2017/04/17 11:24:27  DEBUG> LogicEXTM0201.InitSearch() 初期検索
■SQL Data :
   Sql Command > SELECT   FALSE AS 選択,   t1.RIYOSHA_CD AS 利用名コード,  CASE t1.RIYO_LVL WHEN '1' THEN '一般'  WHEN '2' THEN '要注意' WHEN '3' THEN '利用不可' END AS 利用者レベル,  t1.RIYO_NM AS 利用者名,  t1.RIYO_KANA AS 利用者名カナ,  t3.LAST_USE_DAY AS 最終利用日,   t2.AITE_CD AS 相手先コード,   t2.AITE_NM AS 相手先名,   t1.RIYO_TEL11 || t1.RIYO_TEL12 || t1.RIYO_TEL13 AS 電話番号,  null AS 携帯,  t1.RIYO_FAX11 || t1.RIYO_FAX12 || t1.RIYO_FAX13 AS FAX,  t1.RIYO_YUBIN1 || RIYO_YUBIN2 AS 郵便番号,  t1.RIYO_TODO || t1.RIYO_SHIKU || t1.RIYO_BAN || COALESCE(t1.RIYO_BUILD,'') AS 住所,   TRUE AS 詳細  ,t1.RIYO_LVL     AS RIYO_LVL  ,t1.DAIHYO_NM    AS DAIHYO_NM  ,t1.RIYO_TEL11   AS RIYO_TEL11  ,t1.RIYO_TEL12   AS RIYO_TEL12  ,t1.RIYO_TEL13   AS RIYO_TEL13  ,t1.RIYO_NAISEN  AS RIYO_NAISEN  ,t1.RIYO_FAX11   AS RIYO_FAX11  ,t1.RIYO_FAX12   AS RIYO_FAX12  ,t1.RIYO_FAX13   AS RIYO_FAX13  ,t1.RIYO_YUBIN1  AS RIYO_YUBIN1  ,t1.RIYO_YUBIN2  AS RIYO_YUBIN2  ,t1.RIYO_TODO    AS RIYO_TODO  ,t1.RIYO_SHIKU   AS RIYO_SHIKU  ,t1.RIYO_BAN     AS RIYO_BAN  ,t1.RIYO_BUILD   AS RIYO_BUILD FROM RIYOSHA_MST t1  LEFT JOIN AITESAKI_MST t2         ON  t1.AITE_CD = t2.AITE_CD  LEFT JOIN      (SELECT           MAX(YOYAKU_DT) LAST_USE_DAY,          t3a.RIYOSHA_CD       FROM YOYAKU_TBL t3a        LEFT JOIN YDT_TBL t3b               ON t3a.YOYAKU_NO = t3b.YOYAKU_NO       GROUP BY          t3a.RIYOSHA_CD      ) t3        ON  t1.RIYOSHA_CD = t3.RIYOSHA_CD WHERE t1.RIYO_LVL = '1' ORDER BY t1.RIYOSHA_CD 
   Parameters Data > 
2017/04/17 11:24:28  TRACE> LogicEXTM0201.InitSearch() END
2017/04/17 11:24:28  TRACE> LogicEXTM0201.ViewRow() START
2017/04/17 11:24:28  TRACE> LogicEXTM0201.ViewRow() END
2017/04/17 11:34:57  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 11:34:57  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 11:34:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:34:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:35:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:35:05  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:35:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:35:07  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 11:35:07  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 11:35:07  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 11:35:07  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 11:35:07  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 11:35:07  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 11:35:07  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 11:35:07  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 11:35:07  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 11:35:07  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 11:35:07  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 11:35:07  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 11:35:07  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 11:35:07  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 11:35:07  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 11:35:07  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 11:35:07  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 11:35:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:35:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:35:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:35:12  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:35:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:35:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:35:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:35:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:35:57  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:35:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:35:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:35:58  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 11:35:58  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 11:35:58  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 11:35:58  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 11:35:58  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SHUTSUEN_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
    END KASHI_KIND,
    CASE t1.STUDIO_KBN
        WHEN '1' THEN '201st'
        WHEN '2' THEN '202st'
        WHEN '3' THEN 'house lock'
    END STUDIO_KBN,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '2'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 11:35:59  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 11:35:59  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 11:35:59  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SHUTSUEN_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
    END KASHI_KIND,
    CASE t1.STUDIO_KBN
        WHEN '1' THEN '201st'
        WHEN '2' THEN '202st'
        WHEN '3' THEN 'house lock'
    END STUDIO_KBN,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '2'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 11:35:59  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 11:36:00  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 11:36:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:36:46  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:36:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:36:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:36:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:36:47  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 11:36:47  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 11:36:47  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 11:36:47  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 11:36:47  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN 'スタンディング'
        WHEN '2' THEN '着席'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 11:36:47  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 11:36:47  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 11:36:47  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN 'スタンディング'
        WHEN '2' THEN '着席'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 11:36:47  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 11:36:49  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 11:50:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:50:18  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:50:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:50:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:50:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:50:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:50:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:50:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:50:23  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:50:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:50:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:50:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:50:23  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 11:50:23  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 11:50:23  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 11:50:23  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 11:50:23  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 11:50:23  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 11:50:24  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 11:51:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:04  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:51:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:51:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:09  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:10  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 11:51:10  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 11:51:10  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 11:51:10  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 11:51:10  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 11:51:10  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 11:51:10  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 11:51:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:19  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:20  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:51:20  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:51:20  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:51:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:51:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:51:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/04
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/04
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:51:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:51:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/04
2017/04/17 11:51:21  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:51:21  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:51:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:51:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:51:21  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:51:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:51:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:51:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:36  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:51:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:51:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:39  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:40  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 11:51:40  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 11:51:40  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 11:51:40  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 11:51:40  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 11:51:40  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 11:51:40  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 11:51:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:51:55  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:51:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:51:57  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:51:57  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:51:57  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/04
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/04
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:51:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/04
2017/04/17 11:51:57  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:51:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:51:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:51:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:51:57  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:51:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:51:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:52:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:52:39  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:52:40  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:52:40  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:40  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/05
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/05
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/05
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/05
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/05
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/05
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/05
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/05
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:52:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:52:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/05
2017/04/17 11:52:41  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:52:41  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:52:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:41  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:52:43  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:52:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:52:43  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:52:43  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:43  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/06
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/06
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/06
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/06
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/06
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:52:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/06
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/06
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/06
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/06
2017/04/17 11:52:44  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:52:44  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:52:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:52:44  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/07
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/07
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:52:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:52:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/07
2017/04/17 11:52:44  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:52:44  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:52:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:52:46  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:52:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:52:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetYoyakuData() START
2017/04/17 11:52:47  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2017/04/17 11:52:47  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2017/04/17 11:52:47  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00169
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetYoyakuData() END
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetRiyobiData() START
2017/04/17 11:52:47  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2017/04/17 11:52:47  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2017/04/17 11:52:47  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00169
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetRiyobiData() END
2017/04/17 11:52:47  TRACE> LogicEXTB0102.GetSekininshaList() START
2017/04/17 11:52:48  TRACE> SqlEXTB0102.setSelectSekininName() START
2017/04/17 11:52:48  TRACE> SqlEXTB0102.setSelectSekininName() END
2017/04/17 11:52:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:52:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:53:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:53:02  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:53:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:53:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 11:53:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 11:53:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:53:03  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:53:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 11:53:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 11:53:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:53:05  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 11:53:05  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:53:05  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/07
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:CANCEL_WAIT_STS] 1
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/07
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/07
      [:CANCEL_WAIT_STS] 3
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/07
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 11:53:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 11:53:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/07
2017/04/17 11:53:05  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 11:53:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 11:53:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:53:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 11:53:05  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 11:53:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:53:26  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:53:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:53:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:53:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:53:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:53:29  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:53:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:53:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:53:29  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 11:53:29  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 11:53:29  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 11:53:29  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 11:53:29  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 11:53:29  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 11:53:30  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 11:55:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:55:13  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:55:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:55:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:55:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:55:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 11:55:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 11:55:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 11:55:19  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 11:55:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:55:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 11:55:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 11:55:19  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 11:55:19  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 11:55:19  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 11:55:19  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 11:55:19  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 11:55:19  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 11:55:20  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 12:02:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 12:02:42  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 12:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 12:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 12:02:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 12:03:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 12:03:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 12:03:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 12:03:30  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 12:03:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 12:03:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 12:03:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 12:03:42  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 12:03:44  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 12:03:44  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 12:03:44  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 12:03:44  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 12:03:44  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:01:31  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 13:01:31  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 13:01:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:01:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:01:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:01:39  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:01:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:01:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:01:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:01:43  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:01:43  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:01:43  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:01:43  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:01:43  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:01:43  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 13:01:43  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 13:01:43  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 13:01:43  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:01:43  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:01:43  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 13:01:43  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 13:01:43  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 13:01:43  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 13:01:43  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 13:01:43  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 13:01:43  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 13:01:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:01:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:01:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:01:49  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:01:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:02:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:02:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:02:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:02:15  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:02:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:02:35  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 13:02:37  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 13:02:37  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 13:02:37  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 13:02:37  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 13:02:37  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:02:59  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 13:03:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:03:04  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:03:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:03:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:03:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:03:16  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 13:03:17  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 13:03:17  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 13:03:17  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 13:03:17  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 13:03:17  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:05:23  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 13:05:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:05:31  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:05:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:05:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:05:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:05:45  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 13:05:48  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 13:05:50  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 13:05:50  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 13:06:02  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 13:06:02  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:06:03  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 13:06:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:06:09  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:06:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:06:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:06:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:06:11  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 13:06:11  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 13:06:16  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 13:07:41  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 13:07:41  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 13:07:41  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:07:42  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 13:07:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:07:45  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:07:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:07:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:07:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:07:46  TRACE> LogicEXTZ0101.MakeSpread() START
2017/04/17 13:07:46  TRACE> LogicEXTZ0101.GetSpreadData() START
2017/04/17 13:07:49  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2017/04/17 13:07:49  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2017/04/17 13:07:49  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮'
    WHEN '2' THEN '決定'
    WHEN '3' THEN '受諾'
    WHEN '4' THEN '完了'
    WHEN '5' THEN '仮予Ｃ'
    WHEN '6' THEN '正予Ｃ'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN '着席'
    WHEN '2' THEN 'スタンディング'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2017/04/17 13:07:49  TRACE> LogicEXTZ0101.GetSpreadData() END
2017/04/17 13:07:49  TRACE> LogicEXTZ0101.MakeSpread() END
2017/04/17 13:07:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:07:57  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:07:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:07:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:07:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:07:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:07:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:08:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:08:00  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:08:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:08:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:08:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:08:00  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 13:08:00  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 13:08:00  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 13:08:00  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 13:08:00  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN 'スタンディング'
        WHEN '2' THEN '着席'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:08:00  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 13:08:00  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 13:08:00  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN 'スタンディング'
        WHEN '2' THEN '着席'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:08:00  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 13:08:02  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 13:12:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:12  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:15  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:12:15  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:16  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/04
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/04
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:12:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:12:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/04
2017/04/17 13:12:16  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:12:16  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:12:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:16  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:12:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:12:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:18  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:19  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:12:19  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:19  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/03
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/03
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/03
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/03
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/03
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/03
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/03
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/03
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:12:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:12:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/03
2017/04/17 13:12:19  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:12:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:12:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:19  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:20  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:12:20  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:20  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/02
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/02
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/02
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/02
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/02
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/02
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/02
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/02
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:12:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:12:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/02
2017/04/17 13:12:20  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:12:20  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:12:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:20  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:25  TRACE> LogicEXTB0101.NengetuInputCheck() START
2017/04/17 13:12:25  TRACE> LogicEXTB0101.NengetuInputCheck() END
2017/04/17 13:12:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:25  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:26  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:12:26  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:26  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:12:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:12:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2017/04/17 13:12:26  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:12:26  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:12:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:26  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:48  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:50  TRACE> LogicEXTB0104.GetYoyakuData() START
2017/04/17 13:12:50  TRACE> SqlEXTB0104.setSelectYoyakuData() START
2017/04/17 13:12:50  TRACE> SqlEXTB0104.setSelectYoyakuData() END
2017/04/17 13:12:50  DEBUG> LogicEXTB0104.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.cancel_wait_no, 
t1.cancel_wait_dt, 
t1.cancel_wait_usercd, 
t1.cancel_wait_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.biko, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
CANCEL_WAIT_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
cancel_wait_no = :CancelWaitNo 
   Parameters Data > 
      [:CancelWaitNo] C00013
2017/04/17 13:12:50  TRACE> LogicEXTB0104.GetYoyakuData() START_2
2017/04/17 13:12:50  TRACE> LogicEXTB0104.GetYoyakuData() END_2
2017/04/17 13:12:51  TRACE> LogicEXTB0104.GetYoyakuData() END
2017/04/17 13:12:51  TRACE> LogicEXTB0104.GetRiyobiData() START
2017/04/17 13:12:51  TRACE> SqlEXTB0104.setSelectRiyobiData() START
2017/04/17 13:12:51  TRACE> SqlEXTB0104.setSelectRiyobiData() END
2017/04/17 13:12:51  DEBUG> LogicEXTB0104.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
T1.seq, 
T1.shisetu_kbn, 
T1.studio_kbn, 
T1.riyo_dt_flg, 
T1.riyo_ym, 
T1.riyo_dt, 
T1.cancel_wait_no, 
T1.riyo_keitai, 
T1.mitei_flg, 
T1.start_time, 
T1.end_time, 
T1.riyo_memo, 
CASE WHEN COALESCE(T2.cancel_wait_sts,'') = '3' 
    THEN NULL 
    ELSE T1.waku_no 
END AS waku_no 
FROM 
CANCEL_WAIT_DT_TBL T1 
LEFT JOIN CANCEL_WAIT_TBL T2 
ON T1.cancel_wait_no = T2.cancel_wait_no 
WHERE 
T1.cancel_wait_no = :CancelWaitNo 
   Parameters Data > 
      [:CancelWaitNo] C00013
2017/04/17 13:12:51  TRACE> LogicEXTB0104.GetRiyobiData() END
2017/04/17 13:12:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:12:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:12:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:56  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:12:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:56  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:57  TRACE> LogicEXTZ0202.DeleteCancelCtlShisetuData() START
2017/04/17 13:12:57  TRACE> LogicEXTZ0202.DeleteCancelCtlShisetuData() END
2017/04/17 13:12:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:12:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:12:57  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:12:57  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:12:58  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:12:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:12:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2017/04/17 13:12:58  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:12:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:12:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:12:58  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:13:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:28  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetYoyakuData() START
2017/04/17 13:13:31  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2017/04/17 13:13:31  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetYoyakuData() END
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetRiyobiData() START
2017/04/17 13:13:31  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2017/04/17 13:13:31  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> LogicEXTB0102.GetRiyobiData() END
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetApproval() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectApprovalReq() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectApprovalReq() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectApprovalRes() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectApprovalRes() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetApproval() END
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetTimeSchedule() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectTimeSch() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectTimeSch() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetTimeSchedule() END
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetTicketInfo() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectTicket() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectTicket() END
2017/04/17 13:13:31  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetTicketInfo() END
2017/04/17 13:13:31  TRACE> LogicEXTB0103.GetFutai() START
2017/04/17 13:13:31  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectFutaiDetail() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectFutaiDetail() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 2
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetFutai() END
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetBillReq() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectBillReq() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectBillReq() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetBillReq() END
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectExasFutai() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectExasFutai() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetNyukin() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectNyukin() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectNyukin() END
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectNyukin() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectNyukin() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00002' 
AND seikyu_irai_no = 'E00152' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E00152') and seikyu_irai_no = 'E00152')

   Parameters Data > 
      [:LineNo] 1
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetNyukin() END
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectCashElectro() START
2017/04/17 13:13:32  TRACE> SqlEXTB0103.selectCashElectro() END
2017/04/17 13:13:32  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00002
2017/04/17 13:13:32  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2017/04/17 13:13:32  TRACE> LogicEXTB0102.GetSekininshaList() START
2017/04/17 13:13:32  TRACE> SqlEXTB0102.setSelectSekininName() START
2017/04/17 13:13:32  TRACE> SqlEXTB0102.setSelectSekininName() END
2017/04/17 13:13:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:13:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:13:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:38  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:38  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:39  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:13:39  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:13:39  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:13:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:13:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:13:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2017/04/17 13:13:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:13:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:13:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:13:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2017/04/17 13:13:40  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:13:40  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:13:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:13:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:13:40  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:13:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:41  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetYoyakuData() START
2017/04/17 13:13:42  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2017/04/17 13:13:42  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetYoyakuData() END
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetRiyobiData() START
2017/04/17 13:13:42  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2017/04/17 13:13:42  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0102.GetRiyobiData() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetApproval() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectApprovalReq() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectApprovalReq() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectApprovalRes() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectApprovalRes() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetApproval() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTimeSchedule() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTimeSch() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTimeSch() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTimeSchedule() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTicketInfo() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTicket() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTicket() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTicketInfo() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetFutai() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00001
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectFutaiDetail() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectFutaiDetail() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00001
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetFutai() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTax() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTax() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectTax() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetTax() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetBillReq() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectBillReq() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectBillReq() END
2017/04/17 13:13:42  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetBillReq() END
2017/04/17 13:13:42  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selectExasFutai() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selecContents() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selecContents() START
2017/04/17 13:13:42  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectExasFutai() END
2017/04/17 13:13:43  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2017/04/17 13:13:43  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2017/04/17 13:13:43  TRACE> LogicEXTB0103.GetNyukin() START
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectNyukin() START
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectNyukin() END
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectNyukin() START
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectNyukin() END
2017/04/17 13:13:43  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00001' 
AND seikyu_irai_no = 'E00075' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E00075') and seikyu_irai_no = 'E00075')

   Parameters Data > 
      [:LineNo] 1
2017/04/17 13:13:43  TRACE> LogicEXTB0103.GetNyukin() END
2017/04/17 13:13:43  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectCashElectro() START
2017/04/17 13:13:43  TRACE> SqlEXTB0103.selectCashElectro() END
2017/04/17 13:13:43  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00001
2017/04/17 13:13:43  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2017/04/17 13:13:43  TRACE> LogicEXTB0102.GetSekininshaList() START
2017/04/17 13:13:43  TRACE> SqlEXTB0102.setSelectSekininName() START
2017/04/17 13:13:43  TRACE> SqlEXTB0102.setSelectSekininName() END
2017/04/17 13:13:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:13:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:13:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2017/04/17 13:13:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2017/04/17 13:13:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:13:53  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:13:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:13:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:13:53  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:13:53  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:13:53  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:13:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:13:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:13:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2017/04/17 13:13:54  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:13:54  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:13:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:13:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:13:54  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:33:51  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 13:33:51  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 13:33:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:33:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:34:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:02  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:04  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:34:04  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:34:04  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:34:04  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:34:04  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:34:04  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] admin
2017/04/17 13:34:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:10  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:10  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:34:10  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:34:10  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:34:10  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:34:10  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:34:10  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] admin
2017/04/17 13:34:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:15  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:16  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:34:16  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:34:16  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:34:16  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:34:16  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:34:16  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] admin
2017/04/17 13:34:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:33  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:34  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:34:34  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:34:34  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:34:34  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:34:34  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:34:34  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 13:34:34  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 13:34:34  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 13:34:34  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:34:34  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:34:34  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 13:34:34  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 13:34:34  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 13:34:34  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 13:34:34  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 13:34:34  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 13:34:35  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 13:34:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:34:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:34:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:42  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:34:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:34:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:34:51  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:34:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:34:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:34:51  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 13:34:51  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 13:34:56  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 13:34:56  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 13:34:56  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:34:56  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 13:34:56  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 13:34:56  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN 'スタンディング'
        WHEN '2' THEN '着席'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:34:57  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 13:34:59  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 13:39:47  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 13:39:47  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 13:39:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:39:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:39:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:39:53  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:39:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:39:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:39:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:39:55  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 13:39:55  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 13:39:55  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 13:39:55  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 13:39:55  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 13:39:55  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 13:39:55  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 13:39:55  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 13:39:55  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:39:55  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 13:39:55  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 13:39:55  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 13:39:55  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 13:39:55  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 13:39:55  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 13:39:55  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 13:39:56  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 13:39:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:39:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:39:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:39:58  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:39:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:39:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:39:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:40:01  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 13:40:01  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:40:02  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/04
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 1
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 3
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/04
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 13:40:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 13:40:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/04
2017/04/17 13:40:02  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 13:40:02  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 13:40:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:40:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 13:40:02  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 13:40:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:40:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:40:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:40:08  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:40:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:40:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:40:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:40:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 13:40:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 13:40:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 13:40:11  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 13:40:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:40:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 13:40:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 13:40:12  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 13:40:12  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 13:40:12  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 13:40:12  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 13:40:12  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:40:12  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 13:40:12  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 13:40:12  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 13:40:12  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 13:40:14  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 14:02:21  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 14:02:21  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 14:02:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:02:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:02:26  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:02:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:02:29  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 14:02:29  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 14:02:29  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 14:02:29  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 14:02:29  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 14:02:29  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 14:02:29  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 14:02:29  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 14:02:29  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 14:02:29  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 14:02:29  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 14:02:29  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 14:02:29  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 14:02:29  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 14:02:29  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 14:02:29  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 14:02:29  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 14:02:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:02:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:02:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:02:30  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:02:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:02:34  TRACE> LogicEXTB0101.MakeSpread() START
2017/04/17 14:02:34  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 14:02:34  TRACE> LogicEXTB0101.GetSpreadData() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2017/04
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 1
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2017/04
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2017/04
      [:CANCEL_WAIT_STS] 3
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2017/04
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2017/04/17 14:02:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2017/04/17 14:02:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2017/04
2017/04/17 14:02:34  TRACE> LogicEXTB0101.GetSpreadData() END
2017/04/17 14:02:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2017/04/17 14:02:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 14:02:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2017/04/17 14:02:34  TRACE> LogicEXTB0101.MakeSpread() END
2017/04/17 14:02:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:02:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:02:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:02:41  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:02:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:02:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:02:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:02:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:02:45  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:02:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:02:45  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 14:02:45  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 14:02:45  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 14:02:45  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 14:02:45  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:02:46  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 14:02:46  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 14:02:46  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:02:46  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 14:02:48  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 14:05:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:05:24  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:05:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:05:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:05:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:05:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:05:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:05:27  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:05:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:05:28  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 14:05:28  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 14:05:28  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 14:05:28  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 14:05:28  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:05:28  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 14:05:28  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 14:05:28  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:05:28  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 14:05:30  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 14:13:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:13:26  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:13:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:13:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:13:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:13:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:13:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:15:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:15:31  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:15:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:15:33  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 14:15:33  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 14:15:33  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 14:15:33  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 14:15:33  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:15:33  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 14:15:33  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 14:15:33  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:15:33  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 14:15:35  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 14:32:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:32:09  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:32:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:32:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:32:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:32:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:32:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:32:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:32:13  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:32:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:32:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:32:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:32:14  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 14:32:14  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 14:32:14  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 14:32:14  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 14:32:14  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:32:14  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 14:32:14  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 14:32:14  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:32:14  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 14:32:16  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 14:50:06  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 14:50:06  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 14:50:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:50:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:50:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:50:14  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:50:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:50:16  TRACE> LogicEXTA0101.LoginInputCheck() START
2017/04/17 14:50:16  TRACE> LogicEXTA0101.LoginInputCheck() END
2017/04/17 14:50:16  TRACE> LogicEXTA0101.GetLoginData() START
2017/04/17 14:50:16  TRACE> SqlEXTA0101.setSelectLoginData() START
2017/04/17 14:50:16  TRACE> SqlEXTA0101.setSelectLoginData() END
2017/04/17 14:50:16  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2017/04/17 14:50:16  TRACE> LogicEXTA0101.GetLoginData() END
2017/04/17 14:50:16  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2017/04/17 14:50:17  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 14:50:17  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2017/04/17 14:50:17  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2017/04/17 14:50:17  TRACE> LogicEXTA0101.SetSystemProperties() START
2017/04/17 14:50:17  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2017/04/17 14:50:17  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2017/04/17 14:50:17  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2017/04/17 14:50:17  TRACE> LogicEXTA0101.SetSystemProperties() END
2017/04/17 14:50:17  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2017/04/17 14:50:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:50:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:50:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:50:20  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:50:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:50:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 14:50:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2017/04/17 14:50:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2017/04/17 14:50:30  TRACE> CommonLogicEXT.NetUseConect() START
2017/04/17 14:50:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2017/04/17 14:50:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2017/04/17 14:50:31  TRACE> LogicEXTZ0103.MakeSpread() START
2017/04/17 14:50:31  TRACE> LogicEXTZ0103.GetSpreadData() START
2017/04/17 14:50:31  TRACE> SqlEXTZ0103.setSelectDayUriage() START
2017/04/17 14:50:31  TRACE> SqlEXTZ0103.setSelectDayUriage() END
2017/04/17 14:50:31  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    COALESCE(t2.RIYO_KIN,'0') AS RIYO_KIN,
    COALESCE(t3.FUTAI_KIN,'0') AS FUTAI_KIN,
    COALESCE(t3.FUTAI_CHOSEI,'0') AS FUTAI_CHOSEI,
    COALESCE(t4a.DEPOSIT_AMOUNT,'0') AS DRINK_GENKIN,
    COALESCE(t4b.DEPOSIT_AMOUNT,'0') AS ONE_DRINK,
    COALESCE(t4c.DEPOSIT_AMOUNT,'0') AS COIN_LOCKER,
    COALESCE(t4d.DEPOSIT_AMOUNT,'0') AS ZATSU_SHUNYU,
    COALESCE(t4e.DEPOSIT_AMOUNT,'0') AS AKI1,
    COALESCE(t4f.DEPOSIT_AMOUNT,'0') AS AKI2,
    COALESCE(t4g.DEPOSIT_AMOUNT,'0') AS AKI3,
    COALESCE(t4h.DEPOSIT_AMOUNT,'0') AS AKI4,
    COALESCE(t5a.DEPOSIT_AMOUNT,'0') AS SUICA_GENKIN,
    COALESCE(t5b.DEPOSIT_AMOUNT,'0') AS SUICA_COIN_LOCKER,
    COALESCE(t5c.DEPOSIT_AMOUNT,'0') AS SONOTA 
FROM
    YOYAKU_TBL t1
    LEFT JOIN
        YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
       (
            SELECT
                YOYAKU_NO,
                YOYAKU_DT,
                SUM(FUTAI_KIN) AS FUTAI_KIN,
                SUM(FUTAI_CHOSEI) AS FUTAI_CHOSEI
            FROM
                FRIYO_MEISAI_TBL
            GROUP BY
                YOYAKU_NO,
                YOYAKU_DT
        ) t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
        AND t2.YOYAKU_DT = t3.YOYAKU_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '001'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4a
    ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
        AND t2.YOYAKU_DT = t4a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '002'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4b
    ON  t1.YOYAKU_NO = t4b.YOYAKU_NO
        AND t2.YOYAKU_DT = t4b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '003'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4c
    ON  t1.YOYAKU_NO = t4c.YOYAKU_NO
        AND t2.YOYAKU_DT = t4c.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '004'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4d
    ON  t1.YOYAKU_NO = t4d.YOYAKU_NO
        AND t2.YOYAKU_DT = t4d.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '006'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4e
    ON  t1.YOYAKU_NO = t4e.YOYAKU_NO
        AND t2.YOYAKU_DT = t4e.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '007'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4f
    ON  t1.YOYAKU_NO = t4f.YOYAKU_NO
        AND t2.YOYAKU_DT = t4f.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '008'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
       ) t4g
    ON  t1.YOYAKU_NO = t4g.YOYAKU_NO
        AND t2.YOYAKU_DT = t4g.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '1'
            AND REGISTER_CD= '009'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t4h
    ON  t1.YOYAKU_NO = t4h.YOYAKU_NO
        AND t2.YOYAKU_DT = t4h.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '900'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5a
    ON  t1.YOYAKU_NO = t5a.YOYAKU_NO
        AND t2.YOYAKU_DT = t5a.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD= '901'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5b
    ON  t1.YOYAKU_NO = t5b.YOYAKU_NO
        AND t2.YOYAKU_DT = t5b.DEPOSIT_DT
    LEFT JOIN
        (
            SELECT
                YOYAKU_NO,
                DEPOSIT_DT,
                SUM(DEPOSIT_AMOUNT) AS DEPOSIT_AMOUNT
            FROM
                ALSOK_DEPOSIT_TBL
            WHERE
                DEPOSIT_KBN = '2'
            AND REGISTER_CD BETWEEN '902' AND '950'
            GROUP BY
                YOYAKU_NO,
                DEPOSIT_DT
        ) t5c
    ON  t1.YOYAKU_NO = t5c.YOYAKU_NO
        AND t2.YOYAKU_DT = t5c.DEPOSIT_DT
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:50:31  TRACE> SqlEXTZ0103.setSeikyuChosei() START
2017/04/17 14:50:31  TRACE> SqlEXTZ0103.setSeikyuChosei() END
2017/04/17 14:50:31  DEBUG> LogicEXTZ0103.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.YOYAKU_NO,
    t2.YOYAKU_DT,
    t1.SAIJI_NM,
    t1.RIYO_NM,
    CASE t1.KASHI_KIND
        WHEN '0' THEN '未定'
        WHEN '1' THEN '一般貸出'
        WHEN '2' THEN '社内利用'
        WHEN '3' THEN '特例'
    END KASHI_KIND,
    CASE t1.RIYO_TYPE
        WHEN '0' THEN '未定'
        WHEN '1' THEN '着席'
        WHEN '2' THEN 'スタンディング'
        WHEN '3' THEN '変則'
        WHEN '4' THEN '催事'
    END RIYO_TYPE,
    CASE t1.SAIJI_BUNRUI
        WHEN '0' THEN '未定'
        WHEN '1' THEN '音楽'
        WHEN '2' THEN '演劇'
        WHEN '3' THEN '演芸'
        WHEN '4' THEN 'ビジネス'
        WHEN '5' THEN '試写会・映画'
        WHEN '6' THEN 'その他'
    END SAIJI_BUNRUI,
    t3.SEIKYU_IRAI_NO,
    CASE t3.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料+付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    COALESCE(t3.CHOSEI_KIN,'0') AS CHOSEI_KIN
FROM
    YOYAKU_TBL t1
    LEFT JOIN YDT_TBL t2
    ON  t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN BILLPAY_TBL t3
    ON  t1.YOYAKU_NO = t3.YOYAKU_NO
    WHERE 
        t2.SHISETU_KBN = '1'
ORDER BY t2.YOYAKU_NO, t2.YOYAKU_DT
   Parameters Data > 
2017/04/17 14:50:31  TRACE> LogicEXTZ0103.GetSpreadData() END
2017/04/17 14:50:33  TRACE> LogicEXTZ0103.MakeSpread() END
2017/04/17 15:29:26  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2017/04/17 15:29:26  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2017/04/17 15:29:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2017/04/17 15:29:26  TRACE> CommonLogicEXT.SetFormBackColor() END
