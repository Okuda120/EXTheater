2016/10/27 09:27:41  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/10/27 09:27:41  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/10/27 09:27:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:27:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:29:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:29:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:29:15  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/10/27 09:29:15  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/10/27 09:29:15  TRACE> LogicEXTA0101.GetLoginData() START
2016/10/27 09:29:15  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/10/27 09:29:15  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/10/27 09:29:15  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2016/10/27 09:29:15  TRACE> LogicEXTA0101.GetLoginData() END
2016/10/27 09:29:15  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/10/27 09:29:15  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 09:29:15  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 09:29:15  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/10/27 09:29:15  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/10/27 09:29:15  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/10/27 09:29:15  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/10/27 09:29:15  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/10/27 09:29:15  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/10/27 09:29:15  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2016/10/27 09:29:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:29:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:29:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:29:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:29:23  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:29:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:29:23  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:29:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:29:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:29:23  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:29:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:29:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:29:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:29:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:29:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:29:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:29:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:29:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:29:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:29:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:29:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:29:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:29:27  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:29:27  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:29:27  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:29:27  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:29:27  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:29:27  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:27  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:29:27  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:29:27  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:Riyobi] 2016/10/07
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/07
      [:SYANAI] 1
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:SeikyuIraiNo] E04330
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00203' 
AND seikyu_irai_no = 'E04330' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04330') and seikyu_irai_no = 'E04330')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:29:28  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:29:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:29:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:29:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:29:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:29:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:29:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:29:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:31:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:31:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:31:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:31:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:31:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:31:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:31:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:31:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:31:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:31:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:31:37  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:31:37  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:31:37  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:31:37  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:31:37  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:31:37  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:31:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:31:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:31:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:31:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:31:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:31:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:31:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:31:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:31:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:31:57  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:31:57  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:31:57  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:31:57  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:31:57  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:31:57  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:32:01  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:32:01  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:32:01  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:32:01  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:32:04  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:32:04  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:32:04  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:32:04  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:32:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:32:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:32:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:32:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:32:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:32:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:32:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:32:30  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:32:30  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:32:30  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:32:30  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:32:30  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:32:30  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:32:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:32:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:32:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:32:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:32:51  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:32:51  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:32:51  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND t1.sekikyu_no = 'E04329' 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:32:51  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:32:51  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND t1.sekikyu_no = 'E04329' 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:33:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:33:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:34:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:34:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:34:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:34:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:34:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:34:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:34:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:34:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:34:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:08  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:34:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:08  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:34:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 09:34:08  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:34:08  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:34:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:09  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:34:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:09  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/12
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/12
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:34:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:34:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/12
2016/10/27 09:34:09  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:34:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:34:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:34:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:34:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:34:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:34:10  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:34:10  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:34:10  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:34:10  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:10  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:34:10  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:34:10  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:34:10  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:34:10  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:34:10  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00173
      [:Riyobi] 2016/12/10
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00173
      [:ShisetuKbn] 1
      [:Riyobi] 2016/12/10
      [:SYANAI] 1
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00173' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:34:11  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:34:11  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00173
2016/10/27 09:34:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:34:11  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:34:11  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:34:11  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:34:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:34:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:34:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:34:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:34:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:34:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:34:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:35:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:35:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:35:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:35:03  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:35:03  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:35:03  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:35:03  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:35:03  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:35:03  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:35:06  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:35:06  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:35:06  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:35:06  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:35:08  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 09:35:08  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 09:35:08  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 09:35:08  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 09:35:08  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 245
2016/10/27 09:35:08  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 09:35:08  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 09:35:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:35:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:35:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:35:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:35:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:35:19  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:35:19  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:35:19  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:35:19  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:35:19  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:35:19  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:36:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:36:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:36:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:36:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:36:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:36:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:36:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:36:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:36:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:36:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:36:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:36:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:36:07  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:36:07  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:36:07  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:36:07  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:36:07  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:36:07  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:38:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:38:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:38:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:38:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:38:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:38:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:38:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:38:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:38:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:38:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:38:58  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:38:58  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:38:58  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/12
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/12
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/12
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/12
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:38:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:38:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/12
2016/10/27 09:38:58  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:38:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:38:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:38:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:38:58  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:38:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:38:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:38:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:38:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:38:59  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:38:59  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:38:59  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:38:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:38:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 09:38:59  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:38:59  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:38:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:38:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:38:59  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:00  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:00  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:00  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:39:00  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:00  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:00  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:01  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/09
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/09
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/09
2016/10/27 09:39:01  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:01  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:01  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/08
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:01  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/08
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/08
2016/10/27 09:39:02  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:02  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:02  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:04  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:04  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:04  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/07
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/07
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/07
2016/10/27 09:39:04  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:04  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:04  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/06
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/06
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/06
2016/10/27 09:39:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/05
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/05
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/05
2016/10/27 09:39:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:07  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:39:07  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:07  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:39:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:39:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:39:07  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:39:07  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:39:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:39:07  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:39:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:39:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:39:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:39:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:39:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:39:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:39:09  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:39:09  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:39:09  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:39:09  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '88' 

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:39:09  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:39:09  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:39:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:39:10  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:39:10  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:39:10  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:39:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:39:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:39:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:39:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:40:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:40:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:40:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:40:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:40:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:40:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:40:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:40:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:40:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:41:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:41:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:41:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:41:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:41:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:41:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:41:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:41:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:41:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:41:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:41:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:41:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:41:43  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:41:43  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:41:43  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:41:43  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:41:43  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:41:43  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:42:16  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:42:16  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:42:16  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:42:16  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:42:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:42:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:42:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:42:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:42:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:42:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:42:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:42:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:42:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:42:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:42:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:42:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:42:35  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:42:35  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:42:35  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:42:35  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:42:35  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:42:35  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:42:41  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:42:41  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:42:41  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:42:41  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:43:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:43:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:43:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:43:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:43:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:43:14  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 09:43:14  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 09:43:14  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 09:43:14  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:43:14  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:43:14  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '88' 

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:43:14  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:43:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:43:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:43:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:43:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:43:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:43:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:43:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:43:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:43:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:43:34  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:43:34  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:43:34  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:43:34  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:43:34  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:43:34  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:43:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:43:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:43:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:43:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:43:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:43:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:43:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:43:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:43:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:43:54  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:43:54  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:43:54  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:43:54  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:43:54  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:43:54  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:44:00  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:44:00  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:44:00  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:44:00  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:44:01  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 09:44:01  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 09:44:01  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 09:44:01  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 09:44:01  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 24
2016/10/27 09:44:14  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:44:14  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:44:14  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:44:14  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:44:15  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 09:44:15  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 09:44:15  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 09:44:15  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 09:44:15  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 200
2016/10/27 09:44:15  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 09:44:15  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 09:44:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:44:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:44:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:44:19  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:44:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:44:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:44:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:44:25  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:44:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:44:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:44:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:44:35  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:44:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:44:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:44:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:44:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:44:51  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:45:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:45:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:45:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:45:00  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:45:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:45:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:45:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:45:12  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:45:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:45:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:45:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:45:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:45:31  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:45:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:45:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:46:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:46:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:46:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:46:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:46:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:46:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:46:25  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:46:25  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:46:25  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:46:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:46:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:46:25  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:46:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:46:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:46:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:46:25  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:46:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:46:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:46:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:46:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:46:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '88' 

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:46:26  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:46:26  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:46:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:46:26  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:46:26  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:46:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:46:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:46:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:46:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:47:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:47:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:47:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:24  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:47:24  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:47:24  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:47:24  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:47:24  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:47:24  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:47:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:24  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:47:24  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:47:24  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:47:24  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:47:24  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:47:24  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:47:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:47:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:47:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:47:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:47:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:40  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:40  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:40  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:47:40  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:40  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:40  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:41  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:41  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:41  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/05
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/05
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/05
2016/10/27 09:47:41  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:41  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:41  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:43  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/06
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/06
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/06
2016/10/27 09:47:43  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:43  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:43  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/07
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/07
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/07
2016/10/27 09:47:44  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:44  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/08
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/08
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/08
2016/10/27 09:47:44  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:44  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:47  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:47  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:47  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/09
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/09
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/09
2016/10/27 09:47:48  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:48  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:48  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:49  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:47:49  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:49  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:47:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:47:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:47:49  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:47:49  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:47:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:47:49  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:47:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:47:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:47:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:47:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:47:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:47:50  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:47:50  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:47:50  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:47:50  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:47:50  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:Riyobi] 2016/10/07
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:47:50  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:47:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/07
      [:SYANAI] 1
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:47:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:47:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:SeikyuIraiNo] E04330
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:47:51  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00203' 
AND seikyu_irai_no = 'E04330' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04330') and seikyu_irai_no = 'E04330')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:47:51  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:47:51  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:47:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:47:51  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:47:51  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:47:51  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:47:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:47:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:47:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:47:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:47:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:47:59  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:48:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:48:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:48:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:48:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:48:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:48:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:48:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:48:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:48:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:48:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:48:01  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:48:01  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:48:01  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:48:01  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:48:01  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:48:01  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:48:37  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:48:37  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:48:37  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:48:37  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:48:38  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:48:38  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:48:38  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:48:38  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:49:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 09:49:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 09:49:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:49:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:49:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 09:49:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 09:49:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:49:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:49:40  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 09:49:40  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 09:49:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:49:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:50:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:50:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:50:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:50:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:50:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:50:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:50:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:50:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:50:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:50:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:50:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:50:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:50:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:50:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:50:40  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:50:40  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:50:40  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:50:40  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:50:40  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:50:40  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:51:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:51:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:51:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:51:12  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:51:12  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:51:12  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND TO_DATE(t1.nyukin_yotei_dt, 'YYYYMMDD') >= TO_DATE('2016/11/30', 'YYYY/MM/DD') 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:51:12  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:51:12  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND TO_DATE(t1.nyukin_yotei_dt, 'YYYYMMDD') >= TO_DATE('2016/11/30', 'YYYY/MM/DD') 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:51:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:51:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:51:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:51:13  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:51:13  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:51:13  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND TO_DATE(t1.nyukin_yotei_dt, 'YYYYMMDD') >= TO_DATE('2016/11/30', 'YYYY/MM/DD') 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:51:13  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:51:13  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1 AND TO_DATE(t1.nyukin_yotei_dt, 'YYYYMMDD') >= TO_DATE('2016/11/30', 'YYYY/MM/DD') 
 ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:51:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:51:56  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:51:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:51:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:51:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:51:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:51:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:51:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:51:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:51:57  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:51:57  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:51:57  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:51:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:51:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:51:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:51:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:51:58  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:51:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:51:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:51:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:51:58  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:52:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:52:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:52:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:05  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:52:05  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:52:05  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:52:05  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:52:05  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:52:05  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:52:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:52:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:52:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:42  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 09:52:42  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 09:52:42  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 09:52:42  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 09:52:42  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 09:52:42  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 09:52:42  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 09:52:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:Riyobi] 2016/11/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/06
      [:SYANAI] 1
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:SeikyuIraiNo] E04320
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00200' 
AND seikyu_irai_no = 'E04320' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04320') and seikyu_irai_no = 'E04320')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:52:49  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:52:49  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 09:52:49  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:52:49  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:52:49  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:52:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:52:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:51  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 09:52:51  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 09:52:51  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 09:52:51  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 09:52:51  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 09:52:51  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 09:52:51  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 09:52:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00201
      [:Riyobi] 2016/10/19
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00201
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/19
      [:SYANAI] 1
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00201
      [:SeikyuIraiNo] E04322
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00201' 
AND seikyu_irai_no = 'E04322' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04322') and seikyu_irai_no = 'E04322')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:52:55  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:52:55  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00201
2016/10/27 09:52:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:52:55  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:52:55  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:52:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:52:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:52:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:52:57  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 09:52:57  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 09:52:57  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 09:52:57  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 09:52:57  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 09:52:57  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 09:52:57  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 09:53:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:53:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00202
      [:Riyobi] 2016/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00202
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/06
      [:SYANAI] 1
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00202
      [:SeikyuIraiNo] E04328
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00202' 
AND seikyu_irai_no = 'E04328' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04328') and seikyu_irai_no = 'E04328')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:53:02  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:53:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00202
2016/10/27 09:53:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:53:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:53:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:53:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:53:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:53:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:53:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:53:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:53:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:53:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:53:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:31  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:31  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 09:53:31  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 09:53:31  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 09:53:31  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 09:53:31  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 09:53:31  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 09:53:31  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 09:53:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:35  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:53:35  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:53:35  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:53:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:53:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:53:35  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:53:35  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:53:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:53:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:53:35  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:53:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:53:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:53:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:53:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:Riyobi] 2016/10/07
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/07
      [:SYANAI] 1
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:SeikyuIraiNo] E04330
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00203' 
AND seikyu_irai_no = 'E04330' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04330') and seikyu_irai_no = 'E04330')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:53:38  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:53:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 09:53:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:53:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:53:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:53:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:53:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:53:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:53:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:53:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:53:53  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:53:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:53:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:53:54  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:54:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:54:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:54:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:54:05  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:54:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:54:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:54:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:54:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:54:16  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:54:16  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:54:16  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:54:16  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:54:16  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:54:16  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:54:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:54:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:54:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:54:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:54:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:54:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:54:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:54:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:54:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:54:52  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:54:52  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:54:52  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:54:52  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:54:52  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:54:53  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:56:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:56:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:03  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:03  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:03  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 09:57:03  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:03  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:03  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/09
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/09
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/09
2016/10/27 09:57:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/08
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/08
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/08
2016/10/27 09:57:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:06  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:06  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:06  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/07
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/07
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/07
2016/10/27 09:57:06  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:06  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:06  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:07  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:08  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:08  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/06
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/06
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/06
2016/10/27 09:57:08  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:08  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:09  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:09  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/05
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/05
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/05
2016/10/27 09:57:09  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:10  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:10  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:10  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:57:10  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:10  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:10  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:11  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:57:11  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:57:11  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:57:11  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:57:11  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00097
      [:Riyobi] 2016/04/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00097
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/06
      [:SYANAI] 2
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:57:11  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:57:11  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:57:11  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selecContents() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年４月
      [:Riyobi] 20160405
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selecContents() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年４月
      [:Riyobi] 20160406
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:57:12  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 09:57:12  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:57:12  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:12  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00097' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 09:57:12  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:57:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:57:12  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:57:12  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00097
2016/10/27 09:57:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:57:12  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:57:12  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:57:12  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:57:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:15  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:15  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:15  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:57:15  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:15  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
      [:Riyobi] 2016/04/21
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/21
      [:SYANAI] 1
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selecContents() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年４月
      [:Riyobi] 20160420
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00090' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:57:17  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:57:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:57:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:57:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:57:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:25  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:25  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:25  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:57:25  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:25  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:26  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
      [:Riyobi] 2016/04/21
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00090
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/21
      [:SYANAI] 1
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selecContents() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年４月
      [:Riyobi] 20160420
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00090' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:57:26  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:57:26  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00090
2016/10/27 09:57:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:57:26  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:57:26  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:57:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:28  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 09:57:28  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:28  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 09:57:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 09:57:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 09:57:28  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 09:57:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 09:57:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 09:57:28  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 09:57:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:57:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:57:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:57:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 09:57:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '88' 

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 09:57:29  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 09:57:29  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 09:57:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 09:57:29  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 09:57:29  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 09:57:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:57:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:57:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:58:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:58:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:58:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:58:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:58:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:58:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:58:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:58:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:58:18  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:58:18  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:58:18  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:58:18  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:58:18  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:58:18  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:58:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:58:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:58:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:58:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:58:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:58:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:58:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:58:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:58:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:58:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:59:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:59:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:59:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:59:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:59:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:59:28  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 09:59:28  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 09:59:28  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 09:59:28  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 09:59:28  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 09:59:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 09:59:28  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 09:59:31  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 09:59:31  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 09:59:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:59:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:59:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:59:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:59:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:59:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:59:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:59:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 09:59:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 09:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:59:40  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 09:59:40  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 09:59:40  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:59:40  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 09:59:40  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 09:59:40  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 09:59:52  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 09:59:52  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 09:59:52  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 09:59:52  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 09:59:53  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 09:59:53  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 09:59:53  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 09:59:53  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 09:59:53  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 234
2016/10/27 09:59:53  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 09:59:53  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 09:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 09:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 09:59:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 09:59:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 09:59:59  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:00:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:00:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:00:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:00:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:00:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:00:10  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:00:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:00:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:00:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:00:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:00:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:00:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:00:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:00:44  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 10:00:44  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 10:00:44  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 10:00:44  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:00:44  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:00:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:00:44  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:00:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:00:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:01:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:01:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:01:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:01:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:01:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:01:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:01:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:13  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:01:13  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:01:13  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:01:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:01:13  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:01:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:01:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:01:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:01:13  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:01:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:01:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:01:15  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:01:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:01:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:01:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:01:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:01:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:01:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:01:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:01:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:01:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:01:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:01:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:01:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:01:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:01:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:01:38  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:01:38  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:01:38  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:01:38  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:01:38  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:01:38  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:01:45  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:01:45  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:01:45  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:01:45  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:01:49  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 10:01:49  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 10:01:49  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 10:01:49  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 10:01:49  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 230
2016/10/27 10:01:49  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 10:01:49  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 10:02:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:02:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:02:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:02:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:02:35  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:02:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:02:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:03:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:03:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:03:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:03:00  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:03:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:03:09  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:03:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:03:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:03:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:03:09  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 10:03:09  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 10:03:09  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 10:03:09  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:03:09  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:03:09  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:03:09  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:03:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:03:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:05:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:05:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:05:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:05:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:05:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:05:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:05:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:05:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:05:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:05:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:05:18  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:05:18  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:05:18  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:05:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:05:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:05:18  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:05:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:05:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:05:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:05:18  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:05:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:05:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:05:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:05:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:05:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:05:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:05:19  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:05:19  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:05:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:05:19  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:05:19  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:05:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:05:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:05:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:05:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:07:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:07:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:07:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:07:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:07:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:07:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:07:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:07:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:07:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:07:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:07:39  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:07:39  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:07:39  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:07:39  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:07:39  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:07:39  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:07:56  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:07:56  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:07:56  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:07:56  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:07:57  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 10:07:57  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 10:07:57  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 10:07:57  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 10:07:57  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 222
2016/10/27 10:07:57  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 10:07:57  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 10:07:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:07:58  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:07:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:07:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:07:59  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:08:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:03  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:05  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:08:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:05  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:08:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:08:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:08:05  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:08:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:08:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:05  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:06  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:08:06  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:08:06  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:08:06  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:08:06  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:08:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:23  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:08:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:23  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:08:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:08:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:08:23  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:08:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:08:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:08:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:08:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:08:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:08:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:08:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:08:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:08:24  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:08:24  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:08:24  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:08:24  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:24  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:08:24  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:08:24  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:24  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:08:25  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:08:25  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:08:25  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:08:25  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:08:25  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:08:25  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:08:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:27  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:08:27  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:27  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:08:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:08:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:08:27  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:08:27  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:08:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:08:27  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:08:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:08:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:08:29  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:08:29  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:08:29  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:08:29  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:Riyobi] 2016/04/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/13
      [:SYANAI] 1
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:SeikyuIraiNo] E02189
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '126' 

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:08:29  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:08:29  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:08:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:08:29  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:08:29  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:08:30  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:08:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:38  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:08:38  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:08:38  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:08:38  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:08:38  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:08:38  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:08:40  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:08:40  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:08:40  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:08:40  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:08:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:08:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:08:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:08:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:08:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:08:46  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:08:46  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:08:46  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:08:46  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:08:46  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:08:46  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:08:48  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:08:48  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:08:48  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:08:48  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:08:56  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 10:08:56  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 10:08:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:08:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:02  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 10:09:02  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 10:09:02  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 10:09:02  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00046' 
AND seikyu_irai_no = 'E01839' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01839') and seikyu_irai_no = 'E01839')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:09:02  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:09:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:14  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:09:14  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:09:14  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:09:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:09:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:09:14  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:09:14  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:09:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:09:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:09:14  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:09:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:09:15  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:09:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:09:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:09:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:09:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:09:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:17  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:09:17  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:09:17  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:09:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:09:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:09:17  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:09:17  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:09:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:09:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:09:17  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:09:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:09:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:Riyobi] 2016/04/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/13
      [:SYANAI] 1
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00046
      [:SeikyuIraiNo] E02189
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00046' 
AND seikyu_irai_no = 'E01839' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01839') and seikyu_irai_no = 'E01839')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:09:18  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:09:18  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00046
2016/10/27 10:09:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:09:18  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:09:18  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:09:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:24  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:09:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:09:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:09:50  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:09:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:09:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:09:50  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:09:50  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:09:50  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:09:50  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:09:50  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:09:50  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:09:51  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:09:51  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:09:51  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:09:51  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:09:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:09:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:10:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:10:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:10:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:01  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:10:01  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:10:01  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:10:01  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:10:01  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:10:01  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:10:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:01  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:10:01  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:10:01  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:10:01  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:10:01  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:10:01  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:10:03  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:10:03  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:10:03  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:10:03  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:10:04  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 10:10:04  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 10:10:04  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 10:10:04  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 10:10:04  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 245
2016/10/27 10:10:04  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 10:10:04  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 10:10:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:05  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:05  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:10:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:10  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:10:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:10:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:10:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:10:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:10:26  TRACE> LogicEXTB0103.CancellNyukin() START
2016/10/27 10:10:26  TRACE> SqlEXTB0103.updateCancellNyukin() START
2016/10/27 10:10:26  TRACE> LogicEXTB0103.CancellNyukin() END
2016/10/27 10:10:26  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:10:26  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:10:26  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00046' 
AND seikyu_irai_no = 'E01839' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01839') and seikyu_irai_no = 'E01839')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:10:26  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:10:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:10:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:11:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:11:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:11:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:11:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:11:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:11:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:11:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:11:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:11:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:11:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:11:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:11:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:11:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:11:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:11:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:11:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:11:44  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:11:44  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:11:44  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:11:44  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:11:44  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:11:44  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:11:54  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:11:54  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:11:54  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:11:54  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:11:59  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:11:59  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:11:59  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:11:59  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:12:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:12:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:12:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:12:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:13:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:13:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:14:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:14:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:14:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:14:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:14:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:14:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:14:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:14:40  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:14:40  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:14:40  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:14:40  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:14:40  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:14:40  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:14:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:14:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:14:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:14:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:14:41  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:14:41  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:14:41  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:14:41  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:14:41  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:14:41  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:15:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:15:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:15:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:15:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:15:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:15:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:15:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:15:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:15:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:15:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:15:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:15:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:15:16  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:15:16  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:15:16  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:15:16  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:15:16  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:15:16  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:15:30  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:15:30  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:15:30  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:15:30  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:32:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:32:03  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:32:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:32:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:32:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:32:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:32:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:32:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:32:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:32:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:32:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:32:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:32:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:32:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:32:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:32:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:32:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:32:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:32:47  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:32:47  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:32:47  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:32:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:32:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:32:47  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:32:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:32:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:32:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:32:47  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:35:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:00  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:35:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:Riyobi] 2016/04/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:ShisetuKbn] 1
      [:Riyobi] 2016/04/23
      [:SYANAI] 1
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00095
      [:SeikyuIraiNo] E02037
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00095' 
AND seikyu_irai_no = 'E01595' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E01595') and seikyu_irai_no = 'E01595')

   Parameters Data > 
      [:LineNo] 2
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 10:35:02  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 10:35:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00095
2016/10/27 10:35:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 10:35:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 10:35:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 10:35:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:13  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:35:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:35:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:35:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:35:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:15  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:35:15  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:35:15  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/04
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:35:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:35:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:35:15  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:35:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:35:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:35:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:35:15  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:35:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:18  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:18  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 10:35:18  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:18  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:18  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:20  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:20  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/09
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:20  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:20  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/09
2016/10/27 10:35:20  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:20  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:20  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:20  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:20  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:21  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:21  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:21  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/08
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/08
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/08
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/08
2016/10/27 10:35:21  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:21  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:21  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:22  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:22  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/07
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/07
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/07
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/07
2016/10/27 10:35:23  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:23  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/06
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/06
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/06
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/06
2016/10/27 10:35:23  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:23  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:24  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:24  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/05
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/05
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/05
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:24  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:24  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/05
2016/10/27 10:35:24  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:24  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:24  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:24  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:25  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:27  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:27  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:27  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/04
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/04
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/04
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:27  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/04
2016/10/27 10:35:27  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:27  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:27  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:27  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:27  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:28  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:35:28  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/03
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:35:28  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:35:28  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/03
2016/10/27 10:35:28  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:35:28  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:35:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:28  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:35:28  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:35:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:29  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:35:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetYoyakuData() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00039
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetYoyakuData() END
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetRiyobiData() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00039
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetRiyobiData() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetApproval() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectApprovalReq() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectApprovalReq() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00039
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectApprovalRes() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectApprovalRes() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00039
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetApproval() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetFutai() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00039
      [:Riyobi] 2016/03/05
      [:ShisetuKbn] 2
      [:SYANAI] 1
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectFutaiDetail() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectFutaiDetail() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00039
      [:ShisetuKbn] 2
      [:Riyobi] 2016/03/05
      [:SYANAI] 1
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetFutai() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetTax() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectTax() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectTax() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetTax() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetBillReq() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectBillReq() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectBillReq() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00039
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetBillReq() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selecContents() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１６年３月
      [:Riyobi] 20160303
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectExasFutai() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectExasFutai() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00039
      [:SeikyuIraiNo] E00411
      [:ShisetuKbn] 2
      [:Riyobi] 
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetNyukin() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectNyukin() START
2016/10/27 10:35:30  TRACE> SqlEXTC0103.selectNyukin() END
2016/10/27 10:35:30  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND nyukin_link_no = '6' 

   Parameters Data > 
      [:LineNo] 0
2016/10/27 10:35:30  TRACE> LogicEXTC0103.GetNyukin() END
2016/10/27 10:35:30  TRACE> LogicEXTC0102.GetSekininshaList() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectSekininName() START
2016/10/27 10:35:30  TRACE> SqlEXTC0102.setSelectSekininName() END
2016/10/27 10:35:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:42  TRACE> LogicEXTC0103.CancellNyukin() START
2016/10/27 10:35:42  TRACE> SqlEXTC0103.updateCancellNyukin() START
2016/10/27 10:35:42  TRACE> LogicEXTC0103.CancellNyukin() END
2016/10/27 10:35:42  TRACE> LogicEXTC0103.GetNyukin() START
2016/10/27 10:35:42  TRACE> SqlEXTC0103.selectNyukin() START
2016/10/27 10:35:42  TRACE> SqlEXTC0103.selectNyukin() END
2016/10/27 10:35:42  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00039' 
AND seikyu_irai_no = 'E00411' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E00411') and seikyu_irai_no = 'E00411')

   Parameters Data > 
      [:LineNo] 0
2016/10/27 10:35:42  TRACE> LogicEXTC0103.GetNyukin() END
2016/10/27 10:35:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:44  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:35:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:35:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:48  TRACE> LogicEXTZ0208.GetEXASNyukin() START
2016/10/27 10:35:48  TRACE> SqlEXTZ0208.searchEXASNyukin() START
2016/10/27 10:35:48  DEBUG> SqlEXTZ0208.searchEXASNyukin() END
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:35:48  TRACE> SqlEXTZ0208.searchEXASNyukin() END
2016/10/27 10:35:48  DEBUG> LogicEXTZ0208.GetEXASNyukin() EXAS入金検索
■SQL Data :
   Sql Command > SELECT 
    t1.aite_cd, 
    t2.yoyaku_start_dt, 
    t2.yoyaku_end_dt, 
    t1.aite_nm, 
    t1.yoyaku_no, 
    CASE t3.shisetu_kbn 
        WHEN '1' THEN t3.saiji_nm 
        WHEN '2' THEN t3.shutsuen_nm 
    End as saiji_nm, 
    t3.shisetu_kbn, 
    to_char(to_date(t1.nyukin_yotei_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_yotei_dt, 
    to_char(to_date(t1.nyukin_dt, 'yyyyMMdd'),'yyyy/MM/dd') as nyukin_dt, 
    t1.seikyu_kin, 
    CASE WHEN TRIM(t1.seikyu_irai_no) = '' 
           THEN  CASE t5.nyukin_input_flg 
                    WHEN '0' THEN '' 
                    WHEN '1' THEN '○' 
                 END
           ELSE 
                 CASE t4.nyukin_input_flg 
                     WHEN '0' THEN '' 
                     WHEN '1' THEN '○' 
                 END
    END as nyukin_input_flg, 
    to_char(to_date(t1.seikyu_dt, 'yyyyMMdd'),'yyyy/MM/dd') as seikyu_dt, 
    to_char(to_date(t1.input_dt, 'yyyyMMdd'),'yyyy/MM/dd') as input_dt, 
    t1.sekikyu_no, 
    t1.seikyu_irai_no, 
    t1.monitor_no, 
    t1.nyukin_link_no 
FROM 
    exas_nyukin_tbl t1 
    LEFT JOIN 
        ( 
            SELECT 
                MIN(yoyaku_dt) as yoyaku_start_dt, 
                MAX(yoyaku_dt) as yoyaku_end_dt, 
                yoyaku_no 
            FROM 
                ydt_tbl 
            GROUP BY yoyaku_no 
        ) t2 
    ON  t1.yoyaku_no = t2.yoyaku_no 
    LEFT JOIN 
        yoyaku_tbl t3 
    ON  t1.yoyaku_no = t3.yoyaku_no 
    LEFT JOIN 
        billpay_tbl t4 
    ON  t1.seikyu_irai_no = t4.seikyu_irai_no 
    LEFT JOIN 
        billpay_tbl t5 
    ON  t1.NYUKIN_LINK_NO = t5.NYUKIN_LINK_NO 
WHERE 1 = 1  ORDER BY nyukin_yotei_dt DESC ,  YOYAKU_NO 

   Parameters Data > 
2016/10/27 10:35:48  TRACE> LogicEXTZ0208.GetEXASNyukin() END
2016/10/27 10:35:49  TRACE> LogicEXTZ0208.ClickResultCellMain() START
2016/10/27 10:35:49  TRACE> LogicEXTZ0208.SetCheck() START
2016/10/27 10:35:49  TRACE> LogicEXTZ0208.SetCheck() END
2016/10/27 10:35:49  TRACE> LogicEXTZ0208.ClickResultCellMain() END
2016/10/27 10:35:50  TRACE> LogicEXTZ0208.InputCheck() START
2016/10/27 10:35:50  TRACE> LogicEXTZ0208.GetDupData() START
2016/10/27 10:35:50  TRACE> SqlEXTZ0208.searchDup() START
2016/10/27 10:35:50  TRACE> SqlEXTZ0208.searchDup() END
2016/10/27 10:35:50  DEBUG> LogicEXTZ0208.GetDupData() 請求入金情報表取得（重複チェック）
■SQL Data :
   Sql Command > select B.YOYAKU_NO,
Y.SAIJI_NM,
Y.RIYO_NM,
MIN(YD.YOYAKU_DT) || '〜' || MAX(YD.YOYAKU_DT) YOYAKU_DAY,
B.SEIKYU_IRAI_NO,
B.SEIKYU_NAIYO,
B.SEIKYU_KIN
from billpay_tbl B
left join yoyaku_tbl Y
on B.yoyaku_no = Y.yoyaku_no
left join ydt_tbl YD
on B.yoyaku_no = YD.yoyaku_no
where B.nyukin_link_no = :nyukinlinkno
group by B.YOYAKU_NO,Y.SAIJI_NM,Y.RIYO_NM,B.SEIKYU_IRAI_NO,B.SEIKYU_NAIYO,B.SEIKYU_KIN
   Parameters Data > 
      [nyukinlinkno] 245
2016/10/27 10:35:50  TRACE> LogicEXTZ0208.GetDupData() END
2016/10/27 10:35:50  TRACE> LogicEXTZ0208.InputCheck() END
2016/10/27 10:35:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:51  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:35:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:35:55  TRACE> EXTZ0207.inputCheckMain() Chk_START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:35:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:36:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:36:14  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:36:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:36:15  TRACE> LogicEXTC0103.CancellNyukin() START
2016/10/27 10:36:15  TRACE> SqlEXTC0103.updateCancellNyukin() START
2016/10/27 10:36:15  TRACE> LogicEXTC0103.CancellNyukin() END
2016/10/27 10:36:15  TRACE> LogicEXTC0103.GetNyukin() START
2016/10/27 10:36:15  TRACE> SqlEXTC0103.selectNyukin() START
2016/10/27 10:36:15  TRACE> SqlEXTC0103.selectNyukin() END
2016/10/27 10:36:15  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00039' 
AND seikyu_irai_no = 'E00411' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E00411') and seikyu_irai_no = 'E00411')

   Parameters Data > 
      [:LineNo] 0
2016/10/27 10:36:15  TRACE> LogicEXTC0103.GetNyukin() END
2016/10/27 10:36:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:36:25  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:36:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:36:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:36:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:36:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:36:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:36:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:36:50  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2016/10/27 10:36:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:36:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:36:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:36:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:36:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:36:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 10:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:37:04  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:37:04  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/03
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/03
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/03
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:37:04  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:37:04  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/03
2016/10/27 10:37:04  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:37:04  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:37:04  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:37:04  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:37:04  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:37:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:37:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:37:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:37:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:37:08  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 10:37:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:37:08  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 10:37:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 10:37:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 10:37:08  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 10:37:08  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 10:37:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:37:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 10:37:08  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 10:37:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:37:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 10:39:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 10:39:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 10:39:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:39:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 10:39:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 10:39:10  TRACE> LogicEXTC0101.MakeSpread() START
2016/10/27 10:39:10  TRACE> LogicEXTC0101.GetSpreadData() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2016/10/27 10:39:10  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2016/10/27 10:39:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 10:39:10  TRACE> LogicEXTC0101.GetSpreadData() END
2016/10/27 10:39:10  TRACE> LogicEXTC0101.ViewSpreadData() START
2016/10/27 10:39:10  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:39:10  TRACE> LogicEXTC0101.ViewSpreadData() END
2016/10/27 10:39:10  TRACE> LogicEXTC0101.MakeSpread() END
2016/10/27 10:39:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 10:39:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:21:34  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/10/27 11:21:34  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/10/27 11:21:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:21:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:22:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:22:46  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:22:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:22:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:22:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:22:47  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/10/27 11:22:47  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/10/27 11:22:47  TRACE> LogicEXTA0101.GetLoginData() START
2016/10/27 11:22:47  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/10/27 11:22:47  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/10/27 11:22:47  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2016/10/27 11:22:47  TRACE> LogicEXTA0101.GetLoginData() END
2016/10/27 11:22:47  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/10/27 11:22:47  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 11:22:47  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 11:22:47  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/10/27 11:22:47  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/10/27 11:22:47  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/10/27 11:22:47  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/10/27 11:22:47  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/10/27 11:22:47  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/10/27 11:22:47  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2016/10/27 11:22:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:22:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:25:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:24  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:26  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:25:26  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:26  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:25:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:25:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 11:25:26  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:25:26  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:25:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:26  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:25:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:25:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:25:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:Riyobi] 2016/10/07
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:ShisetuKbn] 1
      [:Riyobi] 2016/10/07
      [:SYANAI] 1
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00203
      [:SeikyuIraiNo] E04330
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00203' 
AND seikyu_irai_no = 'E04330' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04330') and seikyu_irai_no = 'E04330')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:25:29  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:25:29  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00203
2016/10/27 11:25:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:25:29  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:25:29  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:25:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:25:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:25:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:25:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:25:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:25:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:25:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:30  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:31  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:25:31  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:31  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:25:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:25:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 11:25:31  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:25:31  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:25:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:31  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:34  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:25:34  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:34  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:25:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:25:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:25:34  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:25:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:25:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:25:34  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:25:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:25:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:25:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:25:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:25:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:25:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:Riyobi] 2016/11/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/03
      [:SYANAI] 1
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00199' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:25:37  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:25:37  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:25:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:25:37  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:25:37  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:25:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:25:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:26:53  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 11:26:53  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 11:26:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:26:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:26:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:26:54  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:26:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:26:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:26:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:26:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:26:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:27:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:27:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:27:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:27:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:27:10  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:27:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:27:11  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:27:11  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:27:11  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:27:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:27:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:27:11  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:27:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:27:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:27:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:27:11  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:27:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:27:16  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:27:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:27:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:27:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:27:16  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:27:16  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:27:16  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:27:16  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:27:16  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:27:16  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:27:16  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
      [:Riyobi] 2016/11/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:27:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/25
      [:SYANAI] 1
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:27:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:27:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:27:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00196' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:27:17  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:27:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:27:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:27:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:27:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:27:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:27:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:27:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:27:18  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 11:27:18  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 11:27:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:27:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:27:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:27:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:27:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:27:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:27:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:27:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:28:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:18  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:28:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:28:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:19  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:28:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:28:19  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:28:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:28:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:28:19  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:28:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:28:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:28:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:28:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:28:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.InitDisplayMain() START
2016/10/27 11:28:28  TRACE> LogicEXTY0101.GetExasRequestData() START
2016/10/27 11:28:28  TRACE> LogicEXTY0101.GetExasRequestTheater() START
2016/10/27 11:28:28  TRACE> SqlEXTY0101.SetExasRequestTheaterSql() START
2016/10/27 11:28:28  TRACE> SqlEXTY0101.SetExasRequestTheaterSql() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.GetExasRequestTheater() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.GetExasRequestData() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.SetDisplayControl() START
2016/10/27 11:28:28  TRACE> LogicEXTY0101.SetDisplayControl() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.CheckAitesaki() START
2016/10/27 11:28:28  TRACE> LogicEXTY0101.CheckAitesaki() END
2016/10/27 11:28:28  TRACE> LogicEXTY0101.InitDisplayMain() END
2016/10/27 11:28:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:28:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:28:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:28:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:28:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:28:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:28:34  TRACE> LogicEXTY0101.OutputCsvMain() START
2016/10/27 11:28:34  TRACE> LogicEXTY0101.InputCheck() START
2016/10/27 11:28:34  TRACE> LogicEXTY0101.InputCheck() END
2016/10/27 11:28:34  TRACE> LogicEXTY0101.GetSearchConition() START
2016/10/27 11:28:34  TRACE> LogicEXTY0101.GetSearchConition() END
2016/10/27 11:28:35  TRACE> LogicEXTY0101.OutputCsvData() START
2016/10/27 11:29:04  TRACE> LogicEXTY0101.GetOutputCsvData() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetOutputCsvDataSql() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetOutputCsvDataSql() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.GetOutputCsvData() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.GetOutputCsvData() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetOutputCsvDataSql() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetOutputCsvDataSql() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.GetOutputCsvData() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.OutputCsvData() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateFlg() START
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateSeikyuIraiFlg() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetUpdateSeikyuIraiFlgSql() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetUpdateSeikyuIraiFlgSql() END
2016/10/27 11:29:04  DEBUG> LogicEXTY0101.UpdateSeikyuIraiFlg() EXAS請求依頼フラグ更新
■SQL Data :
   Sql Command > UPDATE billpay_tbl
SET seikyu_irai_flg = '1',
up_dt = now()
WHERE yoyaku_no = :ReserveNo 
AND seikyu_irai_no = :BillNo
   Parameters Data > 
      [ReserveNo] T00196
      [Seq] 4282
      [BillNo] E04311
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateSeikyuIraiFlg() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateSeikyuIraiFlg() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetUpdateSeikyuIraiFlgSql() START
2016/10/27 11:29:04  TRACE> SqlEXTY0101.SetUpdateSeikyuIraiFlgSql() END
2016/10/27 11:29:04  DEBUG> LogicEXTY0101.UpdateSeikyuIraiFlg() EXAS請求依頼フラグ更新
■SQL Data :
   Sql Command > UPDATE billpay_tbl
SET seikyu_irai_flg = '1',
up_dt = now()
WHERE yoyaku_no = :ReserveNo 
AND seikyu_irai_no = :BillNo
   Parameters Data > 
      [ReserveNo] T00199
      [Seq] 4290
      [BillNo] E04314
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateSeikyuIraiFlg() END
2016/10/27 11:29:04  TRACE> LogicEXTY0101.UpdateFlg() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.InitDisplayMain() START
2016/10/27 11:29:05  TRACE> LogicEXTY0101.GetExasRequestData() START
2016/10/27 11:29:05  TRACE> LogicEXTY0101.GetExasRequestTheater() START
2016/10/27 11:29:05  TRACE> SqlEXTY0101.SetExasRequestTheaterSql() START
2016/10/27 11:29:05  TRACE> SqlEXTY0101.SetExasRequestTheaterSql() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.GetExasRequestTheater() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.GetExasRequestData() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.SetDisplayControl() START
2016/10/27 11:29:05  TRACE> LogicEXTY0101.SetDisplayControl() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.CheckAitesaki() START
2016/10/27 11:29:05  TRACE> LogicEXTY0101.CheckAitesaki() END
2016/10/27 11:29:05  TRACE> LogicEXTY0101.InitDisplayMain() END
2016/10/27 11:30:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:08  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:09  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:09  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 11:30:09  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:09  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:17  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:17  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:17  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:17  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/09
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/09
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/09
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/09
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/09
2016/10/27 11:30:17  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:17  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:17  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/10
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/10
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/10
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/10
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/10
2016/10/27 11:30:19  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:30:19  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:19  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:20  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:Riyobi] 2016/11/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/03
      [:SYANAI] 1
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00199' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:30:21  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:30:21  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:30:21  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:30:21  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:30:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:23  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:23  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:30:23  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:23  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:Riyobi] 2016/11/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00199
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/03
      [:SYANAI] 1
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00199' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:30:24  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:30:24  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00199
2016/10/27 11:30:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:30:24  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:30:24  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:30:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:28  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 11:30:28  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 11:30:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:36  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:36  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:36  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:30:36  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:36  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:Riyobi] 2016/11/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/06
      [:SYANAI] 1
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:SeikyuIraiNo] E04320
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00200' 
AND seikyu_irai_no = 'E04320' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04320') and seikyu_irai_no = 'E04320')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:30:38  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:30:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 11:30:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:30:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:30:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:30:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:40  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 11:30:40  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 11:30:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:42  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:45  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:30:45  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:45  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:30:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:30:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:30:45  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:30:45  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:30:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:30:45  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:30:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:48  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:30:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
      [:Riyobi] 2016/11/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00196
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/25
      [:SYANAI] 1
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00196' 
AND seikyu_irai_no = '' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = '') and seikyu_irai_no = '')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 11:30:48  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 11:30:48  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00196
2016/10/27 11:30:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 11:30:48  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 11:30:48  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 11:30:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:51  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2016/10/27 11:30:51  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2016/10/27 11:30:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:30:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:30:52  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:30:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:30:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:30:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 11:30:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 11:31:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:31:22  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:31:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:31:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:31:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:31:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 11:31:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 11:31:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 11:31:23  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 11:31:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 11:31:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 11:31:24  TRACE> LogicEXTB0101.MakeSpread() START
2016/10/27 11:31:24  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 11:31:24  TRACE> LogicEXTB0101.GetSpreadData() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/11
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 1
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/11
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/11
      [:CANCEL_WAIT_STS] 3
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/11
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2016/10/27 11:31:24  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2016/10/27 11:31:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/11
2016/10/27 11:31:24  TRACE> LogicEXTB0101.GetSpreadData() END
2016/10/27 11:31:24  TRACE> LogicEXTB0101.ViewSpreadData() START
2016/10/27 11:31:24  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:31:24  TRACE> LogicEXTB0101.ViewSpreadData() END
2016/10/27 11:31:24  TRACE> LogicEXTB0101.MakeSpread() END
2016/10/27 14:31:07  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/10/27 14:31:07  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/10/27 14:31:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 14:31:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 14:31:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 14:31:12  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 14:31:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 14:31:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 14:31:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 14:31:14  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/10/27 14:31:14  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/10/27 14:31:14  TRACE> LogicEXTA0101.GetLoginData() START
2016/10/27 14:31:14  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/10/27 14:31:14  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/10/27 14:31:14  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2016/10/27 14:31:14  TRACE> LogicEXTA0101.GetLoginData() END
2016/10/27 14:31:14  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/10/27 14:31:14  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 14:31:14  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 14:31:14  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/10/27 14:31:14  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/10/27 14:31:14  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/10/27 14:31:14  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/10/27 14:31:14  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/10/27 14:31:14  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/10/27 14:31:14  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2016/10/27 14:31:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 14:31:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 15:24:55  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/10/27 15:24:55  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/10/27 15:24:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 15:24:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 15:25:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:02  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:04  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/10/27 15:25:04  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/10/27 15:25:04  TRACE> LogicEXTA0101.GetLoginData() START
2016/10/27 15:25:04  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/10/27 15:25:04  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/10/27 15:25:04  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2016/10/27 15:25:04  TRACE> LogicEXTA0101.GetLoginData() END
2016/10/27 15:25:04  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/10/27 15:25:04  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 15:25:04  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 15:25:04  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/10/27 15:25:04  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/10/27 15:25:04  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/10/27 15:25:04  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/10/27 15:25:04  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/10/27 15:25:04  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/10/27 15:25:04  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2016/10/27 15:25:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 15:25:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 15:25:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 15:25:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 15:25:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:38  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 15:25:38  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 15:25:38  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 15:25:38  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 15:25:38  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 15:25:38  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 15:25:38  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 15:25:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 15:25:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetYoyakuData() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetYoyakuData() END
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetRiyobiData() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetRiyobiData() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetApproval() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectApprovalReq() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectApprovalReq() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectApprovalRes() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectApprovalRes() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetApproval() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTimeSchedule() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTimeSch() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTimeSch() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTimeSchedule() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTicketInfo() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTicket() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTicket() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTicketInfo() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetFutai() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:Riyobi] 2016/11/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectFutaiDetail() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectFutaiDetail() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:ShisetuKbn] 1
      [:Riyobi] 2016/11/06
      [:SYANAI] 1
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetFutai() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTax() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTax() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectTax() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetTax() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetBillReq() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectBillReq() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectBillReq() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no,
    t1.seikyu_input_flg AS get_seikyu_input_flg 
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetBillReq() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectExasFutai() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectExasFutai() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    COALESCE(t1.tax_kin,0) tax_kin ,
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00200
      [:SeikyuIraiNo] E04320
      [:ShisetuKbn] 1
      [:Riyobi] 
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetNyukin() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectNyukin() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectNyukin() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00200' 
AND seikyu_irai_no = 'E04320' 
AND nyukin_link_no = (select MIN(nyukin_link_no) FROM exas_nyukin_tbl WHERE nyukin_dt = (select MIN(nyukin_dt) FROM exas_nyukin_tbl WHERE seikyu_irai_no = 'E04320') and seikyu_irai_no = 'E04320')

   Parameters Data > 
      [:LineNo] 1
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetNyukin() END
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectCashElectro() START
2016/10/27 15:25:48  TRACE> SqlEXTB0103.selectCashElectro() END
2016/10/27 15:25:48  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00200
2016/10/27 15:25:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2016/10/27 15:25:48  TRACE> LogicEXTB0102.GetSekininshaList() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectSekininName() START
2016/10/27 15:25:48  TRACE> SqlEXTB0102.setSelectSekininName() END
2016/10/27 15:25:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 15:25:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 15:25:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2016/10/27 15:25:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 15:25:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 15:25:57  TRACE> LogicEXTZ0102.MakeSpread() START
2016/10/27 15:25:57  TRACE> LogicEXTZ0102.GetSpreadData() START
2016/10/27 15:25:57  TRACE> SqlEXTZ0102.setSelectSeikyu() START
2016/10/27 15:25:57  TRACE> SqlEXTZ0102.setSelectSeikyu() END
2016/10/27 15:25:57  DEBUG> LogicEXTZ0102.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
    t1.SEIKYU_IRAI_NO,
    t1.SEIKYU_DT,
    t2a.YOYAKU_DT_FROM,
    t2a.YOYAKU_DT_TO,
    t2.SAIJI_NM,
    t3.AITE_NM,
    t1.SEIKYU_KIN,
    CASE t1.SEIKYU_NAIYO
        WHEN '1' THEN '利用料'
        WHEN '2' THEN '付帯設備'
        WHEN '3' THEN '利用料＋付帯設備'
        WHEN '4' THEN '還付'
    END SEIKYU_NAIYO,
    t1.NYUKIN_YOTEI_DT,
    t1.NYUKIN_DT,
    t1.NYUKIN_KIN,
    CASE t1.NYUKIN_INPUT_FLG
        WHEN '0' THEN ''
        WHEN '1' THEN 
           CASE
               WHEN t1.SEIKYU_KIN <> t1.NYUKIN_KIN THEN ''
               WHEN t1.SEIKYU_KIN = t1.NYUKIN_KIN THEN '○'
           END
    END NYUKIN_INPUT_FLG,
    t1.YOYAKU_NO
FROM
    BILLPAY_TBL t1
    LEFT JOIN YOYAKU_TBL t2
    ON t1.YOYAKU_NO = t2.YOYAKU_NO
    LEFT JOIN
        (
            SELECT
            	YOYAKU_NO,
                MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
                MAX(YOYAKU_DT) AS YOYAKU_DT_TO
            FROM
                YDT_TBL
            WHERE
                SHISETU_KBN = '1'
            GROUP BY YOYAKU_NO
        ) t2a
    ON  t1.YOYAKU_NO = t2a.YOYAKU_NO
    LEFT JOIN AITESAKI_MST t3
    ON  t1.AITE_CD = t3.AITE_CD
WHERE
    t1.SEIKYU_IRAI_FLG = '1'
AND t2.SHISETU_KBN = '1'
 ORDER BY SEIKYU_DT DESC ,  YOYAKU_NO 
   Parameters Data > 
2016/10/27 15:25:57  TRACE> LogicEXTZ0102.GetSpreadData() END
2016/10/27 15:25:57  TRACE> LogicEXTZ0102.MakeSpread() END
2016/10/27 17:32:18  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2016/10/27 17:32:18  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2016/10/27 17:32:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 17:32:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 17:32:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:28  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:30  TRACE> LogicEXTA0101.LoginInputCheck() START
2016/10/27 17:32:30  TRACE> LogicEXTA0101.LoginInputCheck() END
2016/10/27 17:32:30  TRACE> LogicEXTA0101.GetLoginData() START
2016/10/27 17:32:30  TRACE> SqlEXTA0101.setSelectLoginData() START
2016/10/27 17:32:30  TRACE> SqlEXTA0101.setSelectLoginData() END
2016/10/27 17:32:30  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] 000000
      [:Password] system
2016/10/27 17:32:30  TRACE> LogicEXTA0101.GetLoginData() END
2016/10/27 17:32:30  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2016/10/27 17:32:30  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 17:32:30  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] 000000
2016/10/27 17:32:30  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2016/10/27 17:32:30  TRACE> LogicEXTA0101.SetSystemProperties() START
2016/10/27 17:32:30  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2016/10/27 17:32:30  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2016/10/27 17:32:30  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI, 
GROUP_SEIKYU, 
DAIKO_TANTO_CD, 
DAIKO_BUSHO_CD 
FROM 
SYSTEM_MST 
   Parameters Data > 
2016/10/27 17:32:30  TRACE> LogicEXTA0101.SetSystemProperties() END
2016/10/27 17:32:30  TRACE> EXTA0101.btnLogin_Click() LOGIN:000000
2016/10/27 17:32:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 17:32:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 17:32:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:33  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:34  TRACE> LogicEXTM0102.InitBunrui() START
2016/10/27 17:32:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:34  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:34  TRACE> SqlEXTM0102.SetSelectIniData() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.SetSelectIniData() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2016/10/27' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2016/10/27' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2016/10/27' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbKamokuSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT
    KAMOKU_CD,
    KAMOKU_NM
 FROM
    kamoku_mst
 WHERE 
    sts = '0'
 ORDER BY 
    KAMOKU_CD 
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbKamokuSet() END
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT 
    KAMOKU_CD,
    SAIMOKU_CD,
    SAIMOKU_NM
 FROM
    kamoku_mst
 WHERE 
    sts = '0'
 ORDER BY 
    KAMOKU_CD ,
    SAIMOKU_CD 
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT 
    KAMOKU_CD,
    SAIMOKU_CD,
    UCHI_CD,
    UCHI_NM
 FROM
    kamoku_mst
 WHERE 
    sts = '0'
 ORDER BY 
    KAMOKU_CD ,
    SAIMOKU_CD ,
    UCHI_CD 
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbShosaiSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2016/10/27 17:32:34  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2016/10/27 17:32:34  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT 
    KAMOKU_CD,
    SAIMOKU_CD,
    UCHI_CD,
    SHOSAI_CD,
    SHOSAI_NM
 FROM
    kamoku_mst
 WHERE 
    sts = '0'
 ORDER BY 
    KAMOKU_CD ,
    SAIMOKU_CD ,
    UCHI_CD ,
    SHOSAI_CD
   Parameters Data > 
2016/10/27 17:32:34  TRACE> LogicEXTM0102.CmbShosaiSet() END
2016/10/27 17:32:35  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2016/10/27' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2016/10/27 17:32:35  TRACE> LogicEXTM0102.SetBunruiData() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbUchiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.SetBunruiData() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.InitBunrui() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.InitFutai() START
2016/10/27 17:32:35  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2016/10/27 17:32:35  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2016/10/27 17:32:35  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2016/02/012019/12/31
2016/10/27 17:32:35  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.InitFutai() END
2016/10/27 17:32:35  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:32:35  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:32:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2016/10/27 17:32:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2016/10/27 17:32:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:47  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:47  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:32:47  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:32:47  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:32:47  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:32:47  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:32:47  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:32:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:49  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:49  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:32:49  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:32:49  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:32:49  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:32:49  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:32:49  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:32:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:32:51  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:32:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:32:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:32:51  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:32:51  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:32:51  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:32:51  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:32:51  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:32:51  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:32  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:33  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:33  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:33  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:33  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:33  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:33  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:35  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:35  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:35  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:35  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:35  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:35  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:35  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:36  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:36  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:36  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:36  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:36  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:36  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:36  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:37  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:37  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:37  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:37  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:37  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:37  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:37  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:38  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:38  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:38  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:38  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:38  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:38  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:38  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:39  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:39  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:39  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:39  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:39  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:39  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:39  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:40  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:40  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:40  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:40  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:40  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:40  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:40  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.SetFutaiData() END
2016/10/27 17:35:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.NetUseConect() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2016/10/27 17:35:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.CheckErrerFutai() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.CheckErrerFutai() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.RyokinInfSet() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.RyokinInfSet() END
2016/10/27 17:35:41  TRACE> LogicEXTM0102.SetFutaiData() START
2016/10/27 17:35:41  TRACE> LogicEXTM0102.SetFutaiData() END
