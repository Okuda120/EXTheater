2015/12/28 15:14:19  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 15:14:19  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 15:14:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:25  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 15:14:25  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 15:14:25  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 15:14:25  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 15:14:25  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 15:14:25  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 15:14:25  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 15:14:25  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 15:14:25  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 15:14:25  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 15:14:25  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 15:14:25  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 15:14:25  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 15:14:25  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 15:14:25  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 15:14:25  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 15:14:25  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 15:14:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:28  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:28  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:28  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
      [:Riyobi] 2015/12/22
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/22
      [:SYANAI] 1
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00027' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:30  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:30  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:14:30  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:30  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:30  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00136
      [:Riyobi] 2015/12/21
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00136
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/21
      [:SYANAI] 1
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151221
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151221
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00136' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:34  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:34  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00136
2015/12/28 15:14:34  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:34  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:34  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00063
      [:Riyobi] 2015/12/28
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00063
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/28
      [:SYANAI] 2
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151227
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151227
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151227
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00063' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00063
2015/12/28 15:14:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:40  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:40  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:40  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:40  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
      [:Riyobi] 2015/12/09
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/09
      [:SYANAI] 2
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151207
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00050' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:41  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:41  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:14:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:41  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:41  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:46  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:46  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:46  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:46  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00051
      [:Riyobi] 2015/12/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00051
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/12
      [:SYANAI] 1
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00051
      [:SeikyuIraiNo] E02090
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00051' 
AND nyukin_link_no = '79' 

   Parameters Data > 
      [:LineNo] 2
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:47  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:47  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00051
2015/12/28 15:14:47  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:47  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:47  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:49  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:49  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:49  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:49  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
      [:Riyobi] 2015/12/05
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/05
      [:SYANAI] 2
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00106' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:51  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:51  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:51  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:51  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:53  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:53  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:53  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:53  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:54  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:54  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00026
      [:Riyobi] 2015/12/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00026
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/03
      [:SYANAI] 2
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151203
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151203
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151203
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00026' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:55  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:55  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00026
2015/12/28 15:14:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:55  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:55  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:57  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:14:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:57  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:14:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:14:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:14:57  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:14:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:14:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:14:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:14:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
      [:Riyobi] 2015/12/05
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00106
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/05
      [:SYANAI] 2
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151202
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00106' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:14:58  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:14:58  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00106
2015/12/28 15:14:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:14:58  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:14:58  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:14:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:14:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:14:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:14:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:14:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:14:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:14:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:00  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:00  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:15:00  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:00  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
      [:Riyobi] 2015/12/09
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00050
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/09
      [:SYANAI] 2
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151207
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00050' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:01  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:01  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00050
2015/12/28 15:15:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:01  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:01  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:03  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:03  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:03  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:15:03  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:03  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:03  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
      [:Riyobi] 2015/12/31
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/31
      [:SYANAI] 1
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151231
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151231
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00047' 
AND nyukin_link_no = '128' 

   Parameters Data > 
      [:LineNo] 2
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:04  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:04  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:15:04  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:04  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:04  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:15:12  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:12  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:14  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:14  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00110
      [:Riyobi] 2016/01/13
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00110
      [:ShisetuKbn] 1
      [:Riyobi] 2016/01/13
      [:SYANAI] 2
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160111
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160111
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160111
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00110' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:16  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:16  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00110
2015/12/28 15:15:16  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:16  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:16  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:18  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00023
      [:Riyobi] 2016/01/11
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00023
      [:ShisetuKbn] 1
      [:Riyobi] 2016/01/11
      [:SYANAI] 1
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00023
      [:SeikyuIraiNo] E01114
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00023' 
AND nyukin_link_no = '21' 

   Parameters Data > 
      [:LineNo] 2
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:19  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:19  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00023
2015/12/28 15:15:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:19  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:19  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:23  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00138
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00138
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:24  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:24  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:25  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:25  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:25  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00153
      [:Riyobi] 2016/02/01
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00153
      [:ShisetuKbn] 1
      [:Riyobi] 2016/02/01
      [:SYANAI] 1
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160131
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年２月
      [:Riyobi] 20160201
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160131
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160131
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年２月
      [:Riyobi] 20160201
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年２月
      [:Riyobi] 20160201
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年２月
      [:Riyobi] 20160201
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00153' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:27  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:27  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00153
2015/12/28 15:15:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:27  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:27  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:29  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:29  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:29  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:29  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:29  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:29  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:29  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:29  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:29  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00029
      [:Riyobi] 2016/01/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00029
      [:ShisetuKbn] 1
      [:Riyobi] 2016/01/06
      [:SYANAI] 2
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160106
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160106
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160106
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160106
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00029' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:31  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:31  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00029
2015/12/28 15:15:31  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:31  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:31  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:34  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:34  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:34  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:34  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00067
      [:Riyobi] 2016/01/19
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00067
      [:ShisetuKbn] 1
      [:Riyobi] 2016/01/19
      [:SYANAI] 2
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:34  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:34  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:34  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160118
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160118
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160118
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160118
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:35  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:35  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:35  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:35  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00067' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:35  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:35  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:35  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:35  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00067
2015/12/28 15:15:35  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:35  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:35  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:35  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:37  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:37  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:37  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:37  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:37  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:37  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:37  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00116
      [:Riyobi] 2016/01/26
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00116
      [:ShisetuKbn] 1
      [:Riyobi] 2016/01/26
      [:SYANAI] 1
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160124
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１６年１月
      [:Riyobi] 20160124
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00116' 
AND nyukin_link_no = '97' 

   Parameters Data > 
      [:LineNo] 2
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00116
2015/12/28 15:15:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:47  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:47  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/28 15:15:47  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:49  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:49  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:15:49  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:49  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:15:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:Riyobi] 2015/11/21
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/21
      [:SYANAI] 2
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00105' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:15:52  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:15:52  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:15:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:15:52  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:15:52  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:15:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:15:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:15:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:15:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:15:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:15:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:15:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:15:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:15:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:15:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:15:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:15:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:15:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:15:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:15:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:16:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:16:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
      [:Riyobi] 2015/11/24
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/24
      [:SYANAI] 2
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00113' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:16:00  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:16:00  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:16:00  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:16:00  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:16:00  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:16:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:16:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:16:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:16:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:16:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:16:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:16:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:16:02  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:16:02  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:16:02  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:16:02  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:16:02  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:16:02  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:16:02  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:16:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:16:02  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:16:02  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:28:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:Riyobi] 2015/11/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/13
      [:SYANAI] 1
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00133' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:28:12  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:28:12  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:28:12  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:28:12  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:28:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:28:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:16  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:28:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:28:16  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:28:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:28:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:28:16  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:28:16  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:28:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:28:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:28:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:28:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:28:19  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:28:19  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:28:19  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:28:19  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:28:19  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:28:19  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:19  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:28:19  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:Riyobi] 2015/11/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/13
      [:SYANAI] 1
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00133' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:28:20  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:28:20  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/28 15:28:20  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:28:20  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:28:20  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:28:20  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:28:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:28:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:57  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:28:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:28:57  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:28:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:28:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:28:57  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:28:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:28:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:28:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:28:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:28:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:28:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:28:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:28:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:28:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:28:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00125
      [:Riyobi] 2015/11/07
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00125
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/07
      [:SYANAI] 1
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151107
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151107
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151107
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00125' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:28:59  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:28:59  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00125
2015/12/28 15:28:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:28:59  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:28:59  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:28:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:28:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:01  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:01  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:01  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:01  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00015
      [:Riyobi] 2015/11/15
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00015
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/15
      [:SYANAI] 1
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00015
      [:SeikyuIraiNo] E00168
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00015' 
AND seikyu_irai_no = 'E00168' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:02  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00015
2015/12/28 15:29:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:05  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:05  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:05  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:09  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:09  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/28 15:29:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:09  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:09  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:12  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:12  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
      [:Riyobi] 2015/11/08
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/08
      [:SYANAI] 1
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00126' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:13  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:13  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/28 15:29:13  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:13  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:13  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
      [:Riyobi] 2015/11/24
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00113
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/24
      [:SYANAI] 2
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151123
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00113' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:18  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:18  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00113
2015/12/28 15:29:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:18  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:18  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:18  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:Riyobi] 2015/11/21
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/21
      [:SYANAI] 2
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00105' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:23  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:23  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:23  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:23  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:27  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:27  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:27  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:27  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:27  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:27  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:Riyobi] 2015/11/21
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00105
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/21
      [:SYANAI] 2
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151119
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00105' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:28  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00105
2015/12/28 15:29:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:31  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:31  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:31  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:31  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:29:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:36  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:36  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:36  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:36  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00137
      [:Riyobi] 2015/12/17
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00137
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/17
      [:SYANAI] 1
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:36  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151217
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151217
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:37  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:37  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00137' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:37  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:37  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:37  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00137
2015/12/28 15:29:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:37  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:37  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:37  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:29:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
      [:Riyobi] 2015/12/31
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00047
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/31
      [:SYANAI] 1
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151231
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151231
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00047' 
AND nyukin_link_no = '128' 

   Parameters Data > 
      [:LineNo] 2
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:41  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:41  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00047
2015/12/28 15:29:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:41  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:41  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:43  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:43  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:29:43  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
      [:Riyobi] 2015/12/22
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00027
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/22
      [:SYANAI] 1
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151222
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00027' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:44  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:44  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00027
2015/12/28 15:29:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:44  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:44  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:45  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:45  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:29:45  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:45  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:29:46  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:46  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:47  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:47  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:29:47  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:52  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:52  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:52  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:52  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:29:52  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:52  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:52  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:52  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:52  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E03811' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:54  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:54  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/28 15:29:54  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:54  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:54  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:56  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:29:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:56  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:29:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:29:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:29:56  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:29:56  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:29:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:29:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:29:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:29:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:29:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:29:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:29:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:29:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:29:58  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:29:58  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:29:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:29:58  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:29:58  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:29:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:29:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:00  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:30:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:30:00  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:30:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:30:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:30:00  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:30:00  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:30:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:30:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:30:01  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:30:01  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:30:01  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:30:01  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:30:01  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:30:01  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:02  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:02  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:30:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:30:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:30:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:30:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:30:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:30:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:30:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:30:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:30:36  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:30:36  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:30:36  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:30:36  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:30:36  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:30:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:30:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:36  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:36  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:30:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:30:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:30:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:30:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:30:43  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:30:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:30:43  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:30:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:30:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:30:43  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:30:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:30:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:30:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:32:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:32:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:32:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:32:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:32:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:32:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:32:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:32:07  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:32:07  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:32:07  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:32:07  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:32:07  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:32:07  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:07  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:32:07  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:32:07  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:32:07  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:07  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:32:07  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:32:07  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:07  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:32:07  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:32:07  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:32:08  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:08  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:32:08  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:32:08  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:32:08  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:32:08  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:32:08  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:32:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:32:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:32:43  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:32:43  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:32:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:32:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:33:42  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:33:42  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:33:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:45  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:33:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:33:45  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:33:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:33:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:33:45  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:33:45  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:33:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:33:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:33:49  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:33:49  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:33:49  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:33:49  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:Riyobi] 2015/10/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/25
      [:SYANAI] 1
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:33:49  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:33:49  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:33:49  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:33:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:33:53  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:33:53  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:33:53  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:33:53  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00149' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:33:53  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:33:53  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:33:53  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:33:53  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/28 15:33:53  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:33:53  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:33:53  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:33:53  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:33:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:33:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:55  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:33:55  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:33:55  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:33:55  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:33:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:33:55  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:33:55  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:33:55  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:55  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:55  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:33:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:33:57  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:33:57  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/28 15:33:57  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:33:57  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:33:57  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:33:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:33:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:33:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:33:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:33:59  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:33:59  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:33:59  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:33:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:33:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:33:59  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:33:59  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:33:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:33:59  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 2
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00002' 
AND seikyu_irai_no = 'E00152' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:34:01  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:34:01  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/28 15:34:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:34:01  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:34:01  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:34:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:04  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:34:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:04  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:34:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:34:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:34:04  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:34:04  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:34:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:34:05  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:34:05  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:34:05  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:34:05  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:05  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:34:05  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:34:05  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:34:05  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:34:06  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:34:06  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:06  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:34:06  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:34:06  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/28 15:34:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:34:06  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:34:06  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:34:06  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:34:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:08  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:34:08  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:08  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:34:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:34:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:34:08  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:34:08  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:34:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:08  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:34:15  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:34:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/28 15:34:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:34:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:34:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:34:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:37  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:34:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:37  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:34:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:34:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:34:37  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:34:37  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:34:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:34:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:34:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:34:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:34:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:34:41  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:34:41  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:34:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:43  TRACE> EXTB0102.inputCheckMain() Chk_START
2015/12/28 15:34:43  TRACE> EXTB0102.inputCheckMain() Chk_END
2015/12/28 15:34:43  TRACE> EXTB0102.inputCheckCondition() Chk_START
2015/12/28 15:34:43  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/28 15:34:43  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/28 15:34:43  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/28 15:34:43  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/28 15:34:43  TRACE> EXTB0102.inputCheckCondition() Chk_END
2015/12/28 15:34:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:44  TRACE> LogicEXTB0102.RegYoyakuInfo() START
2015/12/28 15:34:44  TRACE> LogicEXTB0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/10/13
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:SaijiNm] 恒例イベント
      [:ShutsuenNm] 現在交渉中
      [:KashiKind] 1
      [:RiyoType] 3
      [:DrinkFlg] 2
      [:SaijiBunrui] 1
      [:Teiin] 600
      [:OnkyoOpeFlg] 
      [:RiyoshaCd] C00069
      [:RiyoNm] 恒例イベント企画運営会社
      [:RiyoKana] コウレイイベントキカクウンエイカイシャ
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] イベント　花子
      [:RiyoTel11] 03
      [:RiyoTel12] 1111
      [:RiyoTel13] 1112
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 03
      [:RiyoFax12] 1111
      [:RiyoFax13] 1113
      [:RiyoYubin1] 111
      [:RiyoYubin2] 1111
      [:RiyoTodo] 東京都
      [:RiyoShiku] 港区高輪
      [:RiyoBan] １−１−１
      [:RiyoBuild] 
      [:RiyoLvl] 1
      [:AiteCd] EXA002
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 1
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0102.RegYoyakuInfo() 登録予約番号:
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/10/13
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:SaijiNm] 恒例イベント
      [:ShutsuenNm] 現在交渉中
      [:KashiKind] 1
      [:RiyoType] 3
      [:DrinkFlg] 2
      [:SaijiBunrui] 1
      [:Teiin] 600
      [:OnkyoOpeFlg] 
      [:RiyoshaCd] C00069
      [:RiyoNm] 恒例イベント企画運営会社
      [:RiyoKana] コウレイイベントキカクウンエイカイシャ
      [:SekininBushoNm] 
      [:SekininNm] 
      [:SekininMail] 
      [:DaihyoNm] イベント　花子
      [:RiyoTel11] 03
      [:RiyoTel12] 1111
      [:RiyoTel13] 1112
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 03
      [:RiyoFax12] 1111
      [:RiyoFax13] 1113
      [:RiyoYubin1] 111
      [:RiyoYubin2] 1111
      [:RiyoTodo] 東京都
      [:RiyoShiku] 港区高輪
      [:RiyoBan] １−１−１
      [:RiyoBuild] 
      [:RiyoLvl] 1
      [:AiteCd] EXA002
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 1
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0102.RegYoyakuInfo() END
2015/12/28 15:34:44  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/28 15:34:44  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/28 15:34:44  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/28 15:34:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:34:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:Riyobi] 2015/10/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    CAST(m1.tanka AS INT8) as futai_shokei, 
    0 as futai_chosei, 
    CAST(m1.tanka AS INT8) as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
      [:SYANAI] 1
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:34:44  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:34:44  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:34:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:34:44  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:34:44  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:34:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/28 15:34:48  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/28 15:34:48  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/28 15:34:48  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/23
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/28 15:34:48  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/28 15:34:48  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/28 15:34:48  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/23
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/28 15:34:48  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/28 15:34:48  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/28 15:34:48  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/23
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/28 15:34:48  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/28 15:34:48  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
2015/12/28 15:34:48  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/28 15:34:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:50  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/28 15:34:50  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/28 15:34:50  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/28 15:34:50  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/28 15:34:51  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/28 15:34:51  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/28 15:34:52  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/28 15:34:52  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/28 15:34:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:57  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/28 15:34:57  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/28 15:34:57  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/28 15:34:57  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/28 15:34:57  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/23
2015/12/28 15:34:57  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/28 15:34:57  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/28 15:34:57  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/28 15:34:57  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/28 15:34:57  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/28 15:34:57  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
2015/12/28 15:34:57  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/28 15:34:57  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/28 15:34:57  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/28 15:34:57  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/28 15:34:57  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
2015/12/28 15:34:57  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/28 15:34:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:34:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:34:59  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/28 15:34:59  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/28 15:34:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:34:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:34:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:34:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:34:59  TRACE> LogicEXTZ0209.GetTax() START
2015/12/28 15:34:59  TRACE> sqlEXTZ0209.selectTax() START
2015/12/28 15:34:59  TRACE> sqlEXTZ0209.selectTax() END
2015/12/28 15:34:59  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/28 15:34:59  TRACE> LogicEXTZ0209.GetTax() END
2015/12/28 15:35:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:03  TRACE> LogicEXTB0103.UpFutai() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/28 15:35:03  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/28 15:35:03  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/28 15:35:03  TRACE> LogicEXTB0103.UpFutai() END
2015/12/28 15:35:03  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/28 15:35:03  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:SeikyuIraiNo] 
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/28 15:35:03  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/28 15:35:03  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:03  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:35:03  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:35:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:05  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/28 15:35:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:09  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/28 15:35:09  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/28 15:35:09  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/28 15:35:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/28 15:35:09  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/28 15:35:09  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/28 15:35:09  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/28 15:35:09  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/28 15:35:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:10  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/28 15:35:10  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:10  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/28 15:35:10  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/28 15:35:10  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.registerFutai() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.registerFutai() END
2015/12/28 15:35:10  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/28 15:35:10  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/28 15:35:10  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:10  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/28 15:35:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:35:11  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:35:11  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:35:11  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:35:11  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:35:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:35:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:20  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:35:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:35:20  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:35:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:35:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:35:20  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:35:20  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:35:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:35:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:35:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:35:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:35:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:35:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:35:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:35:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:Riyobi] 2015/10/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
      [:SYANAI] 1
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:35:21  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:35:21  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:35:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:35:21  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:35:21  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:35:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:35:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:36:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:36:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:36:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:36:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:36:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:36:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:36:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:36:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:36:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:36:43  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:36:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:36:43  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:36:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:36:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:36:43  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:36:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:36:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:36:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:36:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:36:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:36:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:36:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:36:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:36:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:36:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:Riyobi] 2015/10/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
      [:SYANAI] 1
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 3
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:36:45  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:36:45  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:36:45  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:36:45  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:36:45  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:36:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:36:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:37:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:04  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:04  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:37:04  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:04  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:37:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:37:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:37:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:12  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:12  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:37:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:37:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:19  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:19  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:19  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/09
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/09
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/09
2015/12/28 15:37:19  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:19  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:21  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:37:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:21  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:37:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:37:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:37:21  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:37:21  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:37:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:37:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:37:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:37:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:37:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:37:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:37:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:37:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:37:22  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:37:22  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:37:22  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:37:22  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:37:22  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:37:22  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:22  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:37:22  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:37:22  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:37:22  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:37:22  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:22  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:37:22  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:37:22  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:22  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:37:22  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:37:22  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:23  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:Riyobi] 2015/10/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
      [:SYANAI] 1
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 3
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:37:23  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:37:23  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:37:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:37:23  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:37:23  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:37:23  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:37:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:37:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:38:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:38:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:38:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:38:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:38:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:38:01  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:38:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:38:01  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:38:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:38:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:38:01  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:38:01  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:38:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:38:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:38:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:40:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:40:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:40:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:40:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:40:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:40:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:40:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:40:18  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:40:18  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:40:18  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:40:18  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:Riyobi] 2015/10/23
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00004
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/23
      [:SYANAI] 1
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:40:18  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:40:18  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:18  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151023
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 15:40:19  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 15:40:19  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00004' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 3
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 15:40:19  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 15:40:19  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00004
2015/12/28 15:40:19  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 15:40:19  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 15:40:19  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 15:40:19  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 15:40:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:40:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:41:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:41:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:41:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:41:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:41:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:41:23  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:41:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:41:23  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:41:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:41:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:41:23  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:41:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:41:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:41:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:41:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:42:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:42:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:42:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:42:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:42:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:42:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:42:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:42:37  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:42:37  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:42:37  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:42:37  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:42:37  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:42:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:42:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:43:49  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:43:49  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:43:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:43:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:43:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:43:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:43:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:43:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:43:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:43:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:43:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:43:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:43:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:43:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:43:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:43:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:43:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:43:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:43:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:43:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:43:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:43:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:48:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:48:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:48:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:48:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:48:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:48:52  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:48:52  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:48:52  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:48:52  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:48:52  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:48:52  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:48:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:52  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:53  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:48:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:48:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:48:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:48:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:48:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:48:56  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:48:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:48:56  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:48:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:48:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:48:56  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:48:56  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:48:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:48:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:48:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:49:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:49:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:49:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:49:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:49:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:49:03  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:49:03  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:49:03  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:49:03  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:49:03  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:49:03  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:49:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:03  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:03  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:49:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:49:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:49:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:49:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:49:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:49:06  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:49:06  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:49:06  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:49:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:49:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:49:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:49:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:49:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:49:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:49:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:49:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:49:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:49:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:49:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:49:07  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:49:07  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:49:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:49:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:49:07  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:04  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:51:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:04  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:51:04  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:51:04  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:51:04  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:51:04  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:51:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:04  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:04  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:51:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:51:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:05  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:51:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:05  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:51:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:51:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:51:06  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:51:06  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:51:06  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:51:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:51:06  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:06  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:51:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:51:08  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:51:08  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:51:08  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:51:08  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:51:08  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:51:08  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:51:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:08  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:08  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:51:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:51:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:51:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:51:56  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:51:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:51:56  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:51:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:51:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:51:56  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:51:56  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:51:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:51:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:52:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:52:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:52:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:52:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:52:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:52:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:52:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:52:22  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:52:22  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:52:22  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:52:22  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:52:22  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:52:22  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:52:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:27  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 15:55:27  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 15:55:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:55:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:55:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:34  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 15:55:34  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 15:55:34  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 15:55:34  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 15:55:34  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 15:55:34  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 15:55:34  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 15:55:34  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 15:55:34  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 15:55:34  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 15:55:34  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 15:55:34  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 15:55:34  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 15:55:34  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 15:55:34  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 15:55:34  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 15:55:34  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 15:55:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:55:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:55:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:55:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:55:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:55:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 15:55:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:55:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:55:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:55:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:55:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:55:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 15:55:38  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:55:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:55:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:38  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:55:38  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:55:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:55:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:55:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:55:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:55:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:55:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:55:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 15:55:40  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 15:55:40  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 15:55:40  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 15:55:40  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 15:55:40  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 15:55:40  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 15:55:40  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:40  ERROR> SqlEXTB0103.calcExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 Microsoft.VisualBasic.CompilerServices.Operators.CompareObjectEqual(Object Left, Object Right, Boolean TextCompare)
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2682
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:40  ERROR> SqlEXTB0103.selectExasFutai() 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
System.InvalidCastException: 演算子 '=' は 文字列 "000002" と 型 'DBNull' に対して定義されていません。
   場所 EXTB.SqlEXTB0103.calcExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, Hashtable& htFutaiDetail, DataTable& exasFutaitable, Double dblTax, ArrayList lstRiyobi, DataRow billPayRow) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2715
   場所 EXTB.SqlEXTB0103.selectExasFutai(NpgsqlDataAdapter& Adapter, NpgsqlConnection& Cn, DataEXTB0102& dataEXTB0102) 場所 C:\dev\EXT\EXTB\Sql\SqlEXTB0103.vb:行 2561
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:55:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 15:55:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:55:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:55:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 15:55:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:55:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 15:55:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 15:55:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 15:55:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 15:55:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 15:55:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 15:55:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 15:58:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:45  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 15:58:46  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 15:58:46  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 15:58:46  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 15:58:46  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:58:46  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:58:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 15:58:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 15:58:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:51  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:58:51  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:58:51  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:58:51  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:58:51  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:58:51  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:58:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:52  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:58:52  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:58:52  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:58:52  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:58:52  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:58:52  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:58:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:58:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:58:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:58:57  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:58:57  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:59:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:59:05  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:59:05  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 15:59:07  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 15:59:07  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 15:59:07  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() END
2015/12/28 15:59:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:59:07  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:59:07  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 15:59:09  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 15:59:09  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 15:59:09  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() END
2015/12/28 15:59:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:59:09  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:59:09  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 15:59:14  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 15:59:14  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 15:59:14  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 15:59:14  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 15:59:14  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 15:59:14  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 15:59:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:59:14  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:59:14  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 15:59:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 15:59:19  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 15:59:19  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 15:59:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 15:59:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 15:59:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 15:59:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 15:59:20  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 15:59:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 15:59:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 15:59:21  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:00:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:00:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:00:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:00:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:00:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:00:23  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:00:23  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:00:23  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:00:24  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 16:00:24  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 16:00:24  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 16:00:24  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 16:00:24  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 16:00:24  TRACE> LogicEXTM0102.GetBunruicd() END
2015/12/28 16:00:24  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:00:24  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:00:24  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:00:24  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 02
      [bunruiNm] 照明
      [shukeiGrp] 000001
      [notaxFlg] 0
      [sort] 1
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250080
2015/12/28 16:00:24  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:00:24  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:00:25  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 01
      [bunruiNm] 音響
      [shukeiGrp] 000002
      [notaxFlg] 1
      [sort] 2
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250070
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:00:25  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 03
      [bunruiNm] 機材
      [shukeiGrp] 000003
      [notaxFlg] 0
      [sort] 3
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250040
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:00:25  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 99
      [bunruiNm] 【使用不可】シアター利用料用
      [shukeiGrp] 000000
      [notaxFlg] 0
      [sort] 99
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
      [shosaiCd] 2211250010
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:00:25  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:00:25  TRACE> LogicEXTM0102.GetFutaiBunruicd() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() END
2015/12/28 16:00:25  DEBUG> LogicEXTM0102.GetFutaiBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(futai_cd) FROM futai_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 100
2015/12/28 16:00:25  TRACE> LogicEXTM0102.GetFutaiBunruicd() END
2015/12/28 16:00:25  TRACE> SqlEXTM0102.InsertBunrui() START
2015/12/28 16:00:25  TRACE> SqlEXTM0102.InsertBunrui() END
2015/12/28 16:00:25  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > INSERT INTO  fbunrui_mst( kikan_from,  kikan_to,  shisetu_kbn,  bunrui_cd,  bunrui_nm,  shukei_grp,  notax_flg,  sort,  kamoku_cd,  saimoku_cd,  uchi_cd,  shosai_cd,  karikamoku_cd,  kari_saimoku_cd,  kari_uchi_cd,  kari_shosai_cd,  sts,  RIYORYO_FLG,  add_dt,  add_user_cd,  up_dt,  up_user_cd )VALUES(   :kikanFrom,  :kikanTo,  :shisetuKbn,  :bunruiCd,  :bunruiNm,  :shukeiGrp,  :notaxFlg,  :sort,  :kamokuCd,  :saimokuCd,  :uchiCd,  :shosaiCd,  :karikamokuCd,  :karisaimokuCd,  :kariuchiCd,  :karishosaiCd,  :sts,  :RIYORYO_FLG,  :addDate,  :addUserCd,  :upDate,  :upUserCd)
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 100
      [bunruiNm] 利用料
      [shukeiGrp] 100001
      [notaxFlg] 0
      [sort] 4
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
      [shosaiCd] 2211250020
2015/12/28 16:00:25  ERROR> LogicEXTM0102.EntryBunrui() ERROR: 22001: 値は型character varying(2)としては長すぎます
Npgsql.NpgsqlException:
値は型character varying(2)としては長すぎます
Severity: ERROR
Code: 22001
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteNonQuery()
   場所 EXTM.LogicEXTM0102.EntryBunrui(Int32& i, DataEXTM0102 dataEXTM0102, Int32& noData, NpgsqlTransaction& Tsx, NpgsqlConnection Cn) 場所 C:\dev\EXT\EXTM\Logic\LogicEXTM0102.vb:行 2278
2015/12/28 16:02:05  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 16:02:05  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 16:02:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:02:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:02:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:11  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 16:02:11  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 16:02:11  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 16:02:11  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 16:02:11  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 16:02:11  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 16:02:11  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 16:02:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 16:02:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:02:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:02:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 16:02:11  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 16:02:11  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 16:02:11  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 16:02:11  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 16:02:11  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 16:02:11  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 16:02:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:02:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:02:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 16:02:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 16:02:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 16:02:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/28 16:02:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 16:02:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 16:02:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:02:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:02:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 16:02:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 16:02:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 16:02:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/28 16:02:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 16:02:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 16:02:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:16  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 16:02:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:16  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 16:02:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 16:02:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 16:02:16  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 16:02:16  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 16:02:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 16:02:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTax() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTax() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectTax() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetTax() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/28 16:02:17  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/28 16:02:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/28 16:02:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/28 16:02:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/28 16:02:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/28 16:02:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:02:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 16:02:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/28 16:02:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:02:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:02:21  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/28 16:02:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:02:21  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/28 16:02:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/28 16:02:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/28 16:02:21  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/28 16:02:21  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/28 16:02:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/28 16:02:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/28 16:51:49  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 16:51:49  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 16:51:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:51:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:52:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:52:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:52:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:52:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:52:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:52:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:53:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:45  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 16:53:45  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 16:53:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:53:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:53:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:53:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:52  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 16:53:52  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 16:53:52  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 16:53:52  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 16:53:52  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 16:53:52  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 16:53:52  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 16:53:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 16:53:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:53:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:53:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 16:53:52  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 16:53:52  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 16:53:52  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 16:53:52  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 16:53:52  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 16:53:52  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 16:53:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:53:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:53:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:53:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:55  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 16:53:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:53:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:55  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 16:53:55  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:53:55  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 16:53:55  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 16:53:55  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 16:53:55  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:53:55  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 16:53:55  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 16:53:55  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 16:53:55  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 16:53:55  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:53:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 16:53:56  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 16:53:56  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 16:53:56  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 16:53:56  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:53:56  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:53:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:53:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:53:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:53:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:53:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:53:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:53:59  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:53:59  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:53:59  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:53:59  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:53:59  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:53:59  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:01  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:01  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:01  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:01  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:01  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:01  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:04  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:04  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:09  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:09  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:13  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:13  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:54:14  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:54:14  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:54:14  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() END
2015/12/28 16:54:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:14  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:14  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:54:16  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:54:16  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:54:16  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() END
2015/12/28 16:54:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:16  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:16  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:54:18  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:54:18  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:54:18  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:54:18  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:54:18  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:54:18  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 16:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:18  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:18  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:20  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:54:20  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:54:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:54:22  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:54:22  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:54:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:54:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:54:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:54:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:54:23  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:54:23  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:54:23  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:54:25  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 16:54:25  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 16:54:25  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 16:54:25  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 16:54:25  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE bunrui_cd <> 99  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 16:54:25  ERROR> LogicEXTM0102.GetBunruicd() ERROR: 42601: "WHERE"またはその近辺で構文エラー
Npgsql.NpgsqlException:
"WHERE"またはその近辺で構文エラー
Severity: ERROR
Code: 42601
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   場所 System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.Fill(DataTable[] dataTables, Int32 startRecord, Int32 maxRecords, IDbCommand command, CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.Fill(DataTable dataTable)
   場所 EXTM.LogicEXTM0102.GetBunruicd(DataEXTM0102& dataEXTM0102) 場所 C:\dev\EXT\EXTM\Logic\LogicEXTM0102.vb:行 3036
2015/12/28 16:55:41  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 16:55:41  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 16:55:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:55:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:55:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:46  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 16:55:46  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 16:55:46  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 16:55:46  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 16:55:46  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 16:55:46  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 16:55:46  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 16:55:46  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 16:55:46  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:55:46  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:55:46  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 16:55:46  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 16:55:46  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 16:55:46  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 16:55:46  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 16:55:46  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 16:55:46  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 16:55:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:55:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:55:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 16:55:51  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 16:55:51  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 16:55:51  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:55:51  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:55:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:55:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:55:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:53  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:55:53  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:55:53  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:55:53  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:55:53  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:55:53  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:55:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:55:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:55:56  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:55:56  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:55:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:55:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:55:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:55:59  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:55:59  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:56:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:56:00  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:56:00  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:56:00  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() END
2015/12/28 16:56:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:56:00  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:56:00  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:56:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:56:02  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:56:02  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:56:02  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() END
2015/12/28 16:56:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:56:02  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:56:02  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:56:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:56:04  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:56:04  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:56:04  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:56:04  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:56:04  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:56:04  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 16:56:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:56:04  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:56:04  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:56:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:56:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:06  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:56:06  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:56:06  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:56:06  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:56:06  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:56:06  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:56:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:56:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:56:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:56:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:56:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:56:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:56:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:56:08  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:56:08  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:56:08  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:56:09  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 16:56:09  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 16:56:09  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 16:56:09  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 16:56:09  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE bunrui_cd <> '99'  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 16:56:10  ERROR> LogicEXTM0102.GetBunruicd() ERROR: 42601: "WHERE"またはその近辺で構文エラー
Npgsql.NpgsqlException:
"WHERE"またはその近辺で構文エラー
Severity: ERROR
Code: 42601
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   場所 System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.Fill(DataTable[] dataTables, Int32 startRecord, Int32 maxRecords, IDbCommand command, CommandBehavior behavior)
   場所 System.Data.Common.DbDataAdapter.Fill(DataTable dataTable)
   場所 EXTM.LogicEXTM0102.GetBunruicd(DataEXTM0102& dataEXTM0102) 場所 C:\dev\EXT\EXTM\Logic\LogicEXTM0102.vb:行 3036
2015/12/28 16:57:41  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 16:57:41  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 16:57:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:57:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:57:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:46  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 16:57:46  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 16:57:46  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 16:57:46  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 16:57:46  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 16:57:46  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 16:57:46  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 16:57:46  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 16:57:46  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:57:46  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 16:57:46  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 16:57:46  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 16:57:46  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 16:57:46  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 16:57:46  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 16:57:46  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 16:57:46  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 16:57:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:57:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:57:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 16:57:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:48  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:57:48  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:48  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:48  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 16:57:49  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 16:57:49  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 16:57:49  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 16:57:49  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:49  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:57:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 16:57:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 16:57:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:57:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:57:51  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:51  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:57:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:57:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:57:55  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:55  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:57:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:57:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:57:57  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:57:57  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:57:58  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:58  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:57:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 16:57:59  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 16:57:59  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 16:57:59  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() END
2015/12/28 16:57:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:57:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:57:59  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:57:59  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:58:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 16:58:01  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 16:58:01  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 16:58:01  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() END
2015/12/28 16:58:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:58:01  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:58:01  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:58:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 16:58:03  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 16:58:03  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 16:58:03  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 16:58:03  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 16:58:03  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 16:58:03  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 16:58:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:58:03  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:58:03  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:58:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:58:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:58:05  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 16:58:05  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 16:58:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 16:58:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:58:07  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:58:07  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:58:08  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 16:58:08  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn AND bunrui_cd <> '99' 
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 16:58:09  TRACE> LogicEXTM0102.GetBunruicd() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 02
      [bunruiNm] 照明
      [shukeiGrp] 000001
      [notaxFlg] 0
      [sort] 1
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250080
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 01
      [bunruiNm] 音響
      [shukeiGrp] 000002
      [notaxFlg] 1
      [sort] 2
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250070
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 03
      [bunruiNm] 機材
      [shukeiGrp] 000003
      [notaxFlg] 0
      [sort] 3
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250040
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 04
      [bunruiNm] 機材
      [shukeiGrp] 000003
      [notaxFlg] 0
      [sort] 3
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250040
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 99
      [bunruiNm] 【使用不可】シアター利用料用
      [shukeiGrp] 000000
      [notaxFlg] 0
      [sort] 99
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
      [shosaiCd] 2211250010
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 16:58:09  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 16:58:09  TRACE> LogicEXTM0102.GetFutaiBunruicd() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.GetFutaiBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(futai_cd) FROM futai_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 100
2015/12/28 16:58:09  TRACE> LogicEXTM0102.GetFutaiBunruicd() END
2015/12/28 16:58:09  TRACE> SqlEXTM0102.InsertBunrui() START
2015/12/28 16:58:09  TRACE> SqlEXTM0102.InsertBunrui() END
2015/12/28 16:58:09  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > INSERT INTO  fbunrui_mst( kikan_from,  kikan_to,  shisetu_kbn,  bunrui_cd,  bunrui_nm,  shukei_grp,  notax_flg,  sort,  kamoku_cd,  saimoku_cd,  uchi_cd,  shosai_cd,  karikamoku_cd,  kari_saimoku_cd,  kari_uchi_cd,  kari_shosai_cd,  sts,  RIYORYO_FLG,  add_dt,  add_user_cd,  up_dt,  up_user_cd )VALUES(   :kikanFrom,  :kikanTo,  :shisetuKbn,  :bunruiCd,  :bunruiNm,  :shukeiGrp,  :notaxFlg,  :sort,  :kamokuCd,  :saimokuCd,  :uchiCd,  :shosaiCd,  :karikamokuCd,  :karisaimokuCd,  :kariuchiCd,  :karishosaiCd,  :sts,  :RIYORYO_FLG,  :addDate,  :addUserCd,  :upDate,  :upUserCd)
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 100
      [bunruiNm] その他
      [shukeiGrp] 999999
      [notaxFlg] 0
      [sort] 4
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
      [shosaiCd] 2211250150
2015/12/28 16:58:09  ERROR> LogicEXTM0102.EntryBunrui() ERROR: 22001: 値は型character varying(2)としては長すぎます
Npgsql.NpgsqlException:
値は型character varying(2)としては長すぎます
Severity: ERROR
Code: 22001
   場所 Npgsql.NpgsqlState.<ProcessBackendResponses>d__0.MoveNext()
   場所 Npgsql.ForwardsOnlyDataReader.GetNextResponseObject(Boolean cleanup)
   場所 Npgsql.ForwardsOnlyDataReader.GetNextRowDescription()
   場所 Npgsql.ForwardsOnlyDataReader.NextResultInternal()
   場所 Npgsql.ForwardsOnlyDataReader..ctor(IEnumerable`1 dataEnumeration, CommandBehavior behavior, NpgsqlCommand command, NotificationThreadBlock threadBlock, Boolean preparedStatement, NpgsqlRowDescription rowDescription)
   場所 Npgsql.NpgsqlCommand.GetReader(CommandBehavior cb)
   場所 Npgsql.NpgsqlCommand.ExecuteNonQuery()
   場所 EXTM.LogicEXTM0102.EntryBunrui(Int32& i, DataEXTM0102 dataEXTM0102, Int32& noData, NpgsqlTransaction& Tsx, NpgsqlConnection Cn) 場所 C:\dev\EXT\EXTM\Logic\LogicEXTM0102.vb:行 2278
2015/12/28 16:58:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 16:58:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 16:58:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 16:58:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 16:58:38  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 16:58:38  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 16:58:38  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 16:58:39  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 16:58:39  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 16:58:39  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 16:58:39  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 16:58:39  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn AND bunrui_cd <> '99' 
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 16:58:47  TRACE> LogicEXTM0102.GetBunruicd() END
2015/12/28 17:01:00  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/28 17:01:00  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/28 17:01:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 17:01:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 17:01:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:06  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/28 17:01:06  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/28 17:01:06  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/28 17:01:06  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/28 17:01:06  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/28 17:01:06  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/28 17:01:06  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/28 17:01:06  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/28 17:01:06  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 17:01:06  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/28 17:01:06  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/28 17:01:06  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/28 17:01:06  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/28 17:01:06  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/28 17:01:06  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/28 17:01:06  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/28 17:01:06  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/28 17:01:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 17:01:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 17:01:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 17:01:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:08  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:08  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:08  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:08  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:09  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:09  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:09  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 17:01:09  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 17:01:09  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:09  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 17:01:09  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 17:01:09  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:09  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/28 17:01:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/28 17:01:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:10  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:10  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:10  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:10  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:10  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:10  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:16  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:16  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:20  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:20  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:21  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:21  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:21  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.ChangeCmbKamokuCd() END
2015/12/28 17:01:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:21  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:21  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:23  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:23  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:23  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.ChangeCmbSaimokuCd() END
2015/12/28 17:01:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:23  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:23  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:25  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:25  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:25  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:25  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:25  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:25  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 17:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:25  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:25  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:26  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:26  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:27  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:27  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:27  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:27  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:27  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:27  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.ChangeCmbUchiwakeCd() END
2015/12/28 17:01:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:27  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:27  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:29  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:29  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/28 17:01:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:31  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:31  TRACE> LogicEXTM0102.ChangeGroupingInsartRow() END
2015/12/28 17:01:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/28 17:01:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/28 17:01:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/28 17:01:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerKikan() START
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerKikan() END
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerBunrui() START
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerBunrui() END
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerFutai() START
2015/12/28 17:01:32  TRACE> LogicEXTM0102.CheckErrerFutai() END
2015/12/28 17:01:32  TRACE> LogicEXTM0102.RyokinInfSet() START
2015/12/28 17:01:32  TRACE> LogicEXTM0102.RyokinInfSet() END
2015/12/28 17:01:33  TRACE> LogicEXTM0102.InsertUpdateDB() START
2015/12/28 17:01:33  TRACE> LogicEXTM0102.GetBunruicd() START
2015/12/28 17:01:33  TRACE> SqlEXTM0102.SelectBunruiCD() START
2015/12/28 17:01:33  TRACE> SqlEXTM0102.SelectBunruiCD() END
2015/12/28 17:01:33  DEBUG> LogicEXTM0102.GetBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(bunrui_cd) FROM fbunrui_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND shisetu_kbn = :shisetuKbn AND bunrui_cd <> '99' 
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
2015/12/28 17:01:38  TRACE> LogicEXTM0102.GetBunruicd() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 02
      [bunruiNm] 照明
      [shukeiGrp] 000001
      [notaxFlg] 0
      [sort] 1
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250080
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 01
      [bunruiNm] 音響
      [shukeiGrp] 000002
      [notaxFlg] 1
      [sort] 2
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250070
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 03
      [bunruiNm] 機材
      [shukeiGrp] 000003
      [notaxFlg] 0
      [sort] 3
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250040
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 04
      [bunruiNm] 機材
      [shukeiGrp] 000003
      [notaxFlg] 0
      [sort] 3
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
      [shosaiCd] 2211250040
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > UPDATE  fbunrui_mst  SET   kikan_from = :kikanFrom,  kikan_to   = :kikanTo,  bunrui_nm = :bunruiNm,  shukei_grp = :shukeiGrp,  notax_flg = :notaxFlg,  sort = :sort,  kamoku_cd = :kamokuCd,  saimoku_cd = :saimokuCd,  uchi_cd = :uchiCd,  shosai_cd = :shosaiCd,  karikamoku_cd = :karikamokuCd,  kari_saimoku_cd = :karisaimokuCd,  kari_uchi_cd = :kariuchiCd,  kari_shosai_cd = :karishosaiCd,  sts = :sts,  RIYORYO_FLG = :RIYORYO_FLG,  up_dt = :upDate,  up_user_cd = :upUserCd  WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 99
      [bunruiNm] 【使用不可】シアター利用料用
      [shukeiGrp] 000000
      [notaxFlg] 0
      [sort] 99
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
      [shosaiCd] 2211250010
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() START
2015/12/28 17:01:38  TRACE> LogicEXTM0102.GetFutaiBunruicd() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.SelectFutaiBunruiCD() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.GetFutaiBunruicd() システム管理情報
■SQL Data :
   Sql Command > SELECT  MAX(futai_cd) FROM futai_mst  WHERE kikan_from = :kikanFrom AND kikan_to = :kikanTo AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 05
2015/12/28 17:01:38  TRACE> LogicEXTM0102.GetFutaiBunruicd() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.InsertBunrui() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.InsertBunrui() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryBunrui() システム管理情報
■SQL Data :
   Sql Command > INSERT INTO  fbunrui_mst( kikan_from,  kikan_to,  shisetu_kbn,  bunrui_cd,  bunrui_nm,  shukei_grp,  notax_flg,  sort,  kamoku_cd,  saimoku_cd,  uchi_cd,  shosai_cd,  karikamoku_cd,  kari_saimoku_cd,  kari_uchi_cd,  kari_shosai_cd,  sts,  RIYORYO_FLG,  add_dt,  add_user_cd,  up_dt,  up_user_cd )VALUES(   :kikanFrom,  :kikanTo,  :shisetuKbn,  :bunruiCd,  :bunruiNm,  :shukeiGrp,  :notaxFlg,  :sort,  :kamokuCd,  :saimokuCd,  :uchiCd,  :shosaiCd,  :karikamokuCd,  :karisaimokuCd,  :kariuchiCd,  :karishosaiCd,  :sts,  :RIYORYO_FLG,  :addDate,  :addUserCd,  :upDate,  :upUserCd)
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 05
      [bunruiNm] その他
      [shukeiGrp] 999999
      [notaxFlg] 0
      [sort] 4
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
      [shosaiCd] 2211250150
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryBunrui() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.UpdateFutai() END
2015/12/28 17:01:38  DEBUG> LogicEXTM0102.EntryFutai() システム管理情報
■SQL Data :
   Sql Command > UPDATE  futai_mst  SET  kikan_from = :kikanFrom, kikan_to   = :kikanTo, futai_nm = :futaiNm, tanka = :tanka, tani = :tani, sts = :sts, def_flg = :defFlg, sort = :sort, up_dt = :upDate, up_user_cd = :upUserCd WHERE kikan_from = :kikanFromUp AND kikan_to = :kikanToUp AND futai_cd = :futaiCd AND bunrui_cd = :bunruiCd AND shisetu_kbn = :shisetuKbn
   Parameters Data > 
      [kikanFrom] 2015/10/01
      [kikanTo] 2016/03/31
      [shisetuKbn] 1
      [bunruiCd] 02
      [futaiCd] 016
      [futaiNm] D1234567890123456789
      [tanka] 8500
      [tani] 台
      [defFlg] 1
      [sort] 16
      [sts] 0
      [upDate] 2015/12/28 17:01:38
      [upUserCd] USN001
      [kikanFromUp] 2015/10/01
      [kikanToUp] 2016/03/31
2015/12/28 17:01:38  TRACE> LogicEXTM0102.EntryFutai() END
2015/12/28 17:01:38  TRACE> LogicEXTM0102.GetRiyoInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() END
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() START
2015/12/28 17:01:38  TRACE> SqlEXTM0102.GetRiyoKamokuInf() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/28' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1050
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitFutai() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/28 17:01:41  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/28 17:01:41  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.InitFutai() END
2015/12/28 17:01:41  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/28 17:01:41  TRACE> LogicEXTM0102.SetFutaiData() END
