2015/12/18 09:44:39  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 09:44:39  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 09:44:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:44:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:44:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:45  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 09:44:45  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 09:44:45  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 09:44:45  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 09:44:45  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 09:44:45  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 09:44:45  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 09:44:45  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 09:44:45  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 09:44:45  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 09:44:45  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 09:44:45  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 09:44:45  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 09:44:45  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 09:44:45  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 09:44:45  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 09:44:45  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 09:44:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:44:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:44:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:47  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:44:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:47  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:44:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:44:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 09:44:47  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:44:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:44:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:44:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:44:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:44:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:44:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:44:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 09:44:49  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:44:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:44:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:49  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:44:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:44:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:44:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:44:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:44:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:44:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:44:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:44:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 09:44:51  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 09:44:51  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 09:44:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 09:44:51  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 09:44:51  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 09:44:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:44:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:44:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:44:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:44:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:44:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:44:59  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:44:59  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:44:59  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:44:59  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:44:59  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/16
2015/12/18 09:44:59  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:44:59  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:44:59  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:44:59  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:44:59  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:44:59  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 09:44:59  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:44:59  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:44:59  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:44:59  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:44:59  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 09:44:59  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:44:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:44:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:06  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:45:06  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:45:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:06  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:45:06  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:45:06  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:45:06  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:45:06  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:45:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:09  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:45:09  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:45:09  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:45:09  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:45:09  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:45:09  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:45:09  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:45:09  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:45:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:45:10  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 09:45:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:45:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 3
2015/12/18 09:45:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:45:13  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:45:13  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:45:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:26  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:45:26  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:45:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:31  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:45:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:45:31  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:45:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:45:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:45:31  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:45:31  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:45:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:45:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:45:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:45:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 09:45:34  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 09:45:34  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 09:45:34  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 09:45:34  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 09:45:34  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 09:45:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:45:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:45:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:45:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:45:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:45:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:45:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:45:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:45:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:45:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:45:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:45:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 09:45:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 09:45:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:45:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 09:45:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 09:45:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 09:45:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:45  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:45:45  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:45:45  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:45:45  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:45:45  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/05
2015/12/18 09:45:45  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:45:45  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:45:45  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:45:45  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:45:45  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:45:45  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:45:45  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:45:45  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:45:45  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:45:45  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:45:45  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:45:45  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:45:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:45:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:45:49  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:45:49  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:45:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:49  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:45:49  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:45:49  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:45:49  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:45:49  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:45:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:45:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:45:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:45:52  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:45:52  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:45:52  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:45:52  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:45:52  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:45:52  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:45:52  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:45:52  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:45:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:45:52  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:45:52  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:46:03  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:46:03  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:46:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:13  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:46:13  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:46:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:16  TRACE> LogicEXTZ0205.InitSearch() START
2015/12/18 09:46:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2015/12/18 09:46:16  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2015/12/18 09:46:16  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 09:46:16  TRACE> LogicEXTZ0205.InitSearch() END
2015/12/18 09:46:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:18  TRACE> LogicEXTZ0205.GetProject() START
2015/12/18 09:46:18  TRACE> SqlEXTZ0205.searchProject() START
2015/12/18 09:46:18  TRACE> SqlEXTZ0205.searchProject() END
2015/12/18 09:46:18  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 09:46:18  TRACE> LogicEXTZ0205.GetProject() END
2015/12/18 09:46:23  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2015/12/18 09:46:23  TRACE> LogicEXTZ0205.SetCheck() START
2015/12/18 09:46:23  TRACE> LogicEXTZ0205.SetCheck() END
2015/12/18 09:46:23  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2015/12/18 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:26  TRACE> EXTZ0203.inputCheckMain() Chk_START
2015/12/18 09:46:26  TRACE> LogicEXTZ0203.WeekDayCheck() START
2015/12/18 09:46:26  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2015/12/18 09:46:26  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2015/12/18 09:46:26  TRACE> SqlEXTZ0203.GetHolidayMst() START
2015/12/18 09:46:26  TRACE> SqlEXTZ0203.GetHolidayMst() END
2015/12/18 09:46:26  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2015/11/30
2015/12/18 09:46:26  TRACE> EXTZ0203.inputCheckMain() Chk_END
2015/12/18 09:46:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:35  TRACE> LogicEXTZ0202.CheckRiyobi() START
2015/12/18 09:46:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 09:46:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 09:46:35  DEBUG> LogicEXTZ0202.CheckRiyobi() 予約情報取得
■SQL Data :
   Sql Command > select 
    sum(t1.c1) as cnt1 
from 
    ( 
        select 
            count(*) as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND t1.shisetu_kbn = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            count(*) as c1 
        from 
            yctl_tbl 
        where 
            yoyaku_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND user_cd <> :UserId 
        union all 
        select 
            3 as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND '2' = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND t1.riyo_keitai = '2' 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            3 as c1 
        from 
            HOLMENT_MST 
        where 
            holment_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
    ) t1 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:YoyakuDt] 2015/10/06
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:UserId] USN001
2015/12/18 09:46:35  TRACE> LogicEXTZ0202.CheckRiyobi() END
2015/12/18 09:46:35  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() START
2015/12/18 09:46:35  DEBUG> LogicEXTZ0202.InsertYoyakuCtlData() COMMIT!!
2015/12/18 09:46:35  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() END
2015/12/18 09:46:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 09:46:37  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 09:46:37  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 09:46:37  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 09:46:37  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 09:46:37  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 09:46:37  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 09:46:37  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 09:46:37  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 09:46:37  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/06
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 09:46:37  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 09:46:37  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:46:37  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 09:46:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:46:40  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/18 09:46:40  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/18 09:46:40  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/18 09:46:40  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/18 09:46:41  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/18 09:46:41  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/18 09:46:41  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/18 09:46:41  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/18 09:46:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:44  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:46:44  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:46:44  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 1
2015/12/18 09:46:44  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:46:44  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:46:44  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:46:44  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:46:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:46:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:46:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:46:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:46:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:46:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:46:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:46:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:46:47  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:46:47  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:46:47  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:46:47  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:46:47  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:46:47  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:46:47  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:46:47  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:46:47  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:46:47  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:46:47  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:46:47  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:46:47  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:46:47  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:46:47  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:46:47  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:46:47  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:46:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:46:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:47:00  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:47:00  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:47:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:47:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:47:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:47:00  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:47:00  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:47:00  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:47:00  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:47:00  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:47:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:47:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:47:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:47:04  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:47:04  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:47:04  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:47:04  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:47:04  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:47:04  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:47:04  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:47:04  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:47:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:47:04  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:47:04  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:47:16  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:47:16  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:47:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:47:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:47:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:47:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:47:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:47:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:47:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:47:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:48:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:48:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:48:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:48:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:48:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:48:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:48:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:48:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:48:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:48:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:48:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:48:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:48:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:48:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:48:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:50:38  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 09:50:38  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 09:50:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:50:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:50:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:50:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:50:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:50:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:50:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:50:45  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 09:50:45  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 09:50:45  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 09:50:45  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 09:50:45  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 09:50:45  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 09:50:45  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 09:50:45  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 09:50:45  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 09:50:45  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 09:50:45  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 09:50:45  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 09:50:45  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 09:50:45  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 09:50:45  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 09:50:45  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 09:50:45  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 09:50:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:50:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:51:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:51:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:51:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:51:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 09:51:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:51:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:51:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:51:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:51:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:51:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:51:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:51:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 09:51:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:51:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:51:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:37  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:51:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:37  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:51:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:51:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:51:37  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:51:37  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:51:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:51:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:51:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:51:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 09:51:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 09:51:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:51:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 09:51:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 09:51:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 09:51:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:51:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:51:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:42  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:51:42  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:51:42  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:51:42  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:51:42  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/05
2015/12/18 09:51:42  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:51:42  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:51:42  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:51:42  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:51:42  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:51:42  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:51:42  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:51:42  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:51:42  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:51:42  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:51:42  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:51:42  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:51:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:51:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:51:47  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:51:47  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:51:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:47  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:51:47  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:51:47  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:51:47  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:51:47  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:51:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:49  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:51:49  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:51:49  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:51:49  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:51:49  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:51:49  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:51:49  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:51:49  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:51:49  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:51:49  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:51:49  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:51:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:51:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:51:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:51:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:51:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:51:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:02  TRACE> LogicEXTZ0202.CheckRiyobi() START
2015/12/18 09:52:02  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 09:52:02  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 09:52:02  DEBUG> LogicEXTZ0202.CheckRiyobi() 予約情報取得
■SQL Data :
   Sql Command > select 
    sum(t1.c1) as cnt1 
from 
    ( 
        select 
            count(*) as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND t1.shisetu_kbn = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            count(*) as c1 
        from 
            yctl_tbl 
        where 
            yoyaku_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND user_cd <> :UserId 
        union all 
        select 
            3 as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND '2' = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND t1.riyo_keitai = '2' 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            3 as c1 
        from 
            HOLMENT_MST 
        where 
            holment_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
    ) t1 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:YoyakuDt] 2015/10/06
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:UserId] USN001
2015/12/18 09:52:02  TRACE> LogicEXTZ0202.CheckRiyobi() END
2015/12/18 09:52:02  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() START
2015/12/18 09:52:02  DEBUG> LogicEXTZ0202.InsertYoyakuCtlData() COMMIT!!
2015/12/18 09:52:02  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() END
2015/12/18 09:52:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 09:52:04  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 09:52:04  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 09:52:04  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 09:52:04  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 09:52:04  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 09:52:04  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 09:52:04  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 09:52:04  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 09:52:04  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/06
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 09:52:04  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 09:52:04  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:52:04  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 09:52:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:07  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/18 09:52:07  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/18 09:52:07  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/18 09:52:07  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/18 09:52:08  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/18 09:52:08  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/18 09:52:08  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/18 09:52:08  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/18 09:52:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:10  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:52:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:52:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 1
2015/12/18 09:52:10  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:52:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:52:10  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:52:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:52:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00201' 

   Parameters Data > 
      [:LineNo] 0
2015/12/18 09:52:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:52:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:52:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:52:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:52:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:52:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:52:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:52:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:52:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:52:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:52:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:52:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:52:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:52:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:52:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:52:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:52:14  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:52:14  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:52:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:52:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:52:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:52:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:52:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 09:52:15  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 09:52:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 09:52:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 09:52:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 09:52:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 09:52:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:19  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:52:19  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:52:19  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:52:19  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:52:19  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/05
2015/12/18 09:52:19  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:52:19  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:52:19  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:52:19  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:52:19  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:52:19  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:52:19  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:52:19  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:52:19  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:52:19  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:52:19  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 09:52:19  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:52:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:22  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:52:22  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:52:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:23  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:52:23  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:52:23  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:52:23  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:52:23  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:52:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:25  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:52:25  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:52:25  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:52:25  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:52:25  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:52:25  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:52:25  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:52:25  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:25  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:25  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:52:25  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:52:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:52:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:52:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:33  TRACE> LogicEXTZ0205.InitSearch() START
2015/12/18 09:52:33  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2015/12/18 09:52:33  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2015/12/18 09:52:33  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 09:52:33  TRACE> LogicEXTZ0205.InitSearch() END
2015/12/18 09:52:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:34  TRACE> LogicEXTZ0205.GetProject() START
2015/12/18 09:52:34  TRACE> SqlEXTZ0205.searchProject() START
2015/12/18 09:52:34  TRACE> SqlEXTZ0205.searchProject() END
2015/12/18 09:52:34  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 09:52:34  TRACE> LogicEXTZ0205.GetProject() END
2015/12/18 09:52:36  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2015/12/18 09:52:36  TRACE> LogicEXTZ0205.SetCheck() START
2015/12/18 09:52:36  TRACE> LogicEXTZ0205.SetCheck() END
2015/12/18 09:52:36  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2015/12/18 09:52:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:40  TRACE> EXTZ0203.inputCheckMain() Chk_START
2015/12/18 09:52:40  TRACE> LogicEXTZ0203.WeekDayCheck() START
2015/12/18 09:52:40  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2015/12/18 09:52:40  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2015/12/18 09:52:40  TRACE> SqlEXTZ0203.GetHolidayMst() START
2015/12/18 09:52:40  TRACE> SqlEXTZ0203.GetHolidayMst() END
2015/12/18 09:52:40  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2015/11/30
2015/12/18 09:52:40  TRACE> EXTZ0203.inputCheckMain() Chk_END
2015/12/18 09:52:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:51  TRACE> LogicEXTZ0202.CheckRiyobi() START
2015/12/18 09:52:51  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 09:52:51  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 09:52:51  DEBUG> LogicEXTZ0202.CheckRiyobi() 予約情報取得
■SQL Data :
   Sql Command > select 
    sum(t1.c1) as cnt1 
from 
    ( 
        select 
            count(*) as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND t1.shisetu_kbn = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            count(*) as c1 
        from 
            yctl_tbl 
        where 
            yoyaku_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND user_cd <> :UserId 
        union all 
        select 
            3 as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND '2' = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND t1.riyo_keitai = '2' 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            3 as c1 
        from 
            HOLMENT_MST 
        where 
            holment_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
    ) t1 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:YoyakuDt] 2015/10/06
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:UserId] USN001
2015/12/18 09:52:51  TRACE> LogicEXTZ0202.CheckRiyobi() END
2015/12/18 09:52:51  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() START
2015/12/18 09:52:51  DEBUG> LogicEXTZ0202.InsertYoyakuCtlData() COMMIT!!
2015/12/18 09:52:51  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() END
2015/12/18 09:52:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 09:52:52  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 09:52:52  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 09:52:52  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 09:52:52  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 09:52:52  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 09:52:52  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 09:52:52  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 09:52:52  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 09:52:52  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/06
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 09:52:52  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 09:52:52  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:52:52  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 09:52:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:52:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:52:55  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/18 09:52:55  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/18 09:52:55  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/18 09:52:55  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/18 09:52:56  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/18 09:52:56  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/18 09:52:56  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/18 09:52:56  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/18 09:52:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:52:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:52:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:52:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:52:58  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:52:58  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:52:58  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 1
2015/12/18 09:52:58  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:52:58  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:52:58  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:52:58  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:52:58  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:52:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:52:58  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:52:58  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:53:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:53:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:53:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:53:01  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 09:53:01  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 09:53:01  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 09:53:01  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 09:53:01  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 09:53:01  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 09:53:01  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 09:53:01  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 09:53:01  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 09:53:01  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 09:53:01  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:53:01  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 09:53:01  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 09:53:01  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 09:53:01  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 09:53:01  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 09:53:01  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 09:53:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:53:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:53:07  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 09:53:07  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 09:53:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:53:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:53:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:53:07  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 09:53:07  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 09:53:07  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 09:53:07  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 09:53:07  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 09:53:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:53:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:53:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:53:10  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 09:53:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 09:53:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 09:53:10  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 09:53:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 09:53:10  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 09:53:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 09:53:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 09:53:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 09:53:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 09:53:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 09:53:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:53:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:53:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:53:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:53:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:53:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:53:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:53:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:53:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:53:30  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:53:30  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:53:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:53:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:53:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:53:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:53:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:53:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:53:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:54:06  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 09:54:06  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 09:54:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:54:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:54:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:54:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:54:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:54:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 09:54:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:54:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:54:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:54:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 09:54:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 09:54:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 09:54:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 09:54:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 09:54:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 09:54:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 09:54:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 09:54:18  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 09:54:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 09:54:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:54:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 09:54:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:04:49  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 10:04:49  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 10:04:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:04:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:04:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:04:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:04:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:04:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:04:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:04:56  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 10:04:56  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 10:04:56  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 10:04:56  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 10:04:56  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 10:04:56  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 10:04:56  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 10:04:56  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 10:04:56  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:04:56  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:04:56  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 10:04:56  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 10:04:56  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 10:04:56  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 10:04:56  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 10:04:56  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 10:04:56  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 10:04:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:04:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:04:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:04:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:04:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:04:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:04:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:04:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:04:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:04:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:04:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:04:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 10:04:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:04:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:04:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:04:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:04:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:04:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:04:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:00  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:05:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:05:00  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:05:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:05:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 10:05:00  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:05:00  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:05:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:05:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:05:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:05:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:01  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:05:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:05:01  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:05:01  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:05:01  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 10:05:01  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:05:01  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:05:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:05:01  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:05:01  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:05:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:05:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 10:05:05  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 10:05:05  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 10:05:05  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 10:05:05  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 10:05:05  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 10:05:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:09  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 10:05:09  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 10:05:09  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 10:05:09  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 10:05:09  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/05
2015/12/18 10:05:09  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 10:05:09  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 10:05:09  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 10:05:09  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 10:05:09  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 10:05:09  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 10:05:09  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 10:05:09  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 10:05:09  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 10:05:09  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 10:05:09  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
2015/12/18 10:05:09  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 10:05:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:14  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 10:05:14  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 10:05:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:14  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 10:05:14  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 10:05:14  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 10:05:14  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 10:05:14  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 10:05:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:17  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:05:17  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:05:17  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:05:17  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:05:17  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:05:17  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 10:05:17  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:05:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:05:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:05:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:05:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:05:22  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:05:22  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:05:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:25  TRACE> LogicEXTZ0205.InitSearch() START
2015/12/18 10:05:25  TRACE> SqlEXTZ0205.SetSelectProjectSql() START
2015/12/18 10:05:25  TRACE> SqlEXTZ0205.SetSelectProjectSql() END
2015/12/18 10:05:25  DEBUG> LogicEXTZ0205.InitSearch() EXシアターEXASプロジェクト設定初期表示時検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt AND m1.event_bunrui_cd = '03'
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 10:05:25  TRACE> LogicEXTZ0205.InitSearch() END
2015/12/18 10:05:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:27  TRACE> LogicEXTZ0205.GetProject() START
2015/12/18 10:05:27  TRACE> SqlEXTZ0205.searchProject() START
2015/12/18 10:05:27  TRACE> SqlEXTZ0205.searchProject() END
2015/12/18 10:05:27  DEBUG> LogicEXTZ0205.GetProject() プロジェクト検索
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt ORDER BY m1.event_cd, m2.content_uchi_cd 
   Parameters Data > 
      [:Riyobi] 20151021
2015/12/18 10:05:27  TRACE> LogicEXTZ0205.GetProject() END
2015/12/18 10:05:30  TRACE> LogicEXTZ0205.ClickResultCellMain() START
2015/12/18 10:05:31  TRACE> LogicEXTZ0205.SetCheck() START
2015/12/18 10:05:31  TRACE> LogicEXTZ0205.SetCheck() END
2015/12/18 10:05:31  TRACE> LogicEXTZ0205.ClickResultCellMain() END
2015/12/18 10:05:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:36  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:05:36  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:05:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:40  TRACE> EXTZ0203.inputCheckMain() Chk_START
2015/12/18 10:05:40  TRACE> LogicEXTZ0203.WeekDayCheck() START
2015/12/18 10:05:40  TRACE> LogicEXTZ0203.GetSelectHolidayMst() START
2015/12/18 10:05:40  TRACE> LogicEXTZ0203.GetSelectHoliday() START
2015/12/18 10:05:40  TRACE> SqlEXTZ0203.GetHolidayMst() START
2015/12/18 10:05:40  TRACE> SqlEXTZ0203.GetHolidayMst() END
2015/12/18 10:05:40  DEBUG> LogicEXTZ0203.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2015/11/30
2015/12/18 10:05:40  TRACE> EXTZ0203.inputCheckMain() Chk_END
2015/12/18 10:05:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:50  TRACE> LogicEXTZ0202.CheckRiyobi() START
2015/12/18 10:05:50  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:05:50  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:05:50  DEBUG> LogicEXTZ0202.CheckRiyobi() 予約情報取得
■SQL Data :
   Sql Command > select 
    sum(t1.c1) as cnt1 
from 
    ( 
        select 
            count(*) as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND t1.shisetu_kbn = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            count(*) as c1 
        from 
            yctl_tbl 
        where 
            yoyaku_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND user_cd <> :UserId 
        union all 
        select 
            3 as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND '2' = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND t1.riyo_keitai = '2' 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            3 as c1 
        from 
            HOLMENT_MST 
        where 
            holment_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
    ) t1 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:YoyakuDt] 2015/10/06
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:UserId] USN001
2015/12/18 10:05:50  TRACE> LogicEXTZ0202.CheckRiyobi() END
2015/12/18 10:05:50  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() START
2015/12/18 10:05:50  DEBUG> LogicEXTZ0202.InsertYoyakuCtlData() COMMIT!!
2015/12/18 10:05:50  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() END
2015/12/18 10:05:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:05:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:05:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:05:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 10:05:52  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 10:05:52  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 10:05:52  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 10:05:52  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 10:05:52  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 10:05:52  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 10:05:52  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 10:05:52  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 10:05:52  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/06
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 10:05:52  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 10:05:52  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 10:05:52  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 10:05:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:05:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:05:54  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/18 10:05:55  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/18 10:05:55  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/18 10:05:55  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/18 10:05:56  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/18 10:05:56  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/18 10:05:56  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/18 10:05:56  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/18 10:06:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:06:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:06:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:06:03  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:06:03  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:06:03  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 1
2015/12/18 10:06:03  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:06:03  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:06:03  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 10:06:03  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:06:03  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:06:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:06:03  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:06:03  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:06:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:06:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:06:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:06:06  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 10:06:06  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 10:06:06  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 10:06:06  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 10:06:06  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/06
2015/12/18 10:06:06  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 10:06:06  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 10:06:06  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 10:06:06  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 10:06:06  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 10:06:06  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 10:06:06  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 10:06:06  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 10:06:06  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 10:06:06  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 10:06:06  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
2015/12/18 10:06:06  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 10:06:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:06:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:06:14  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 10:06:14  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 10:06:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:06:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:06:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:06:14  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 10:06:14  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 10:06:14  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 10:06:14  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 10:06:14  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 10:06:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:06:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:06:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:06:18  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:06:18  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:06:18  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:06:18  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:06:18  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:06:18  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 10:06:18  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:06:18  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:06:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:06:18  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:06:18  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:06:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:06:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:06:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:06:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:06:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:06:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:06:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:06:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:06:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:06:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:08:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:08:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:08:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:08:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:08:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:08:51  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:08:51  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:08:51  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:08:51  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:08:51  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 10:08:51  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:08:51  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:08:51  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:08:51  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:08:51  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:24  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 10:17:24  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 10:17:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:17:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:17:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:17:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:17:31  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 10:17:31  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 10:17:31  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 10:17:31  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 10:17:31  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 10:17:31  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 10:17:31  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 10:17:31  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 10:17:31  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:17:31  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:17:31  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 10:17:31  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 10:17:31  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 10:17:31  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 10:17:31  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 10:17:31  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 10:17:31  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 10:17:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:17:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:17:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:17:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:17:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:17:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:17:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:17:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:17:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 10:17:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:17:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:17:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:17:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:17:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:17:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:17:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:17:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:17:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:17:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:17:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 10:17:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:17:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:17:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:17:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:17:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:17:37  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:17:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:37  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:17:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:17:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 10:17:37  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:17:37  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:17:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:17:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:17:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:17:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:17:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 10:17:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 10:17:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 10:17:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 10:17:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 10:17:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 10:17:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 10:17:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 10:17:39  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 10:17:39  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 10:17:39  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:17:39  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 10:17:39  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 10:17:39  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:17:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 10:17:39  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 10:17:39  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 10:17:39  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 10:17:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:17:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:18:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlData() START
2015/12/18 10:18:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlData() END
2015/12/18 10:18:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:05  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:18:05  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:18:05  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:18:05  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:18:05  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:18:05  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 10:18:05  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:18:05  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:18:05  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:18:05  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:18:05  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:18:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:12  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 10:18:12  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 10:18:12  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 10:18:15  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:18:15  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:18:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:18:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:18:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:18:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:18:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:21  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 10:18:21  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 10:18:21  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:18:21  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:18:21  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:18:21  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:18:21  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:18:21  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:18:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:18:21  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 10:18:22  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 10:18:22  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 10:18:22  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteExasProject() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerExasProject() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 10:18:22  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 10:18:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:18:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 10:18:22  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 10:18:22  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 10:18:22  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 10:18:22  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 10:18:22  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 10:18:22  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 10:18:22  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 10:18:22  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 10:18:22  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 10:18:22  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 10:18:22  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 10:18:22  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:22  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:23  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 10:18:23  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 10:18:23  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:18:23  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 10:18:23  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 10:18:23  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 10:18:23  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 10:18:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:18:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:18:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:18:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:18:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:38  TRACE> LogicEXTZ0202.CheckRiyobi() START
2015/12/18 10:18:38  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:18:38  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:18:38  DEBUG> LogicEXTZ0202.CheckRiyobi() 予約情報取得
■SQL Data :
   Sql Command > select 
    sum(t1.c1) as cnt1 
from 
    ( 
        select 
            count(*) as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND t1.shisetu_kbn = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            count(*) as c1 
        from 
            yctl_tbl 
        where 
            yoyaku_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND user_cd <> :UserId 
        union all 
        select 
            3 as c1 
        from 
            YDT_TBL t1, YOYAKU_TBL t2 
        where 
            t1.yoyaku_dt = :YoyakuDt 
        AND '2' = :ShisetuKbn 
        AND t1.studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
        AND t1.riyo_keitai = '2' 
        AND (t1.yoyaku_no <> :YoyakuNo OR :YoyakuNo IS NULL) 
        AND t1.yoyaku_no = t2.yoyaku_no 
        AND t2.yoyaku_sts in ('1','2','3','4') 
        union all 
        select 
            3 as c1 
        from 
            HOLMENT_MST 
        where 
            holment_dt = :YoyakuDt 
        AND shisetu_kbn = :ShisetuKbn 
        AND studio_kbn in (CASE WHEN :StudioKbn='3' THEN '1' ELSE :StudioKbn END, CASE WHEN :StudioKbn='3' THEN '2' ELSE :StudioKbn END, '3') 
    ) t1 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:YoyakuDt] 2015/10/16
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:UserId] USN001
2015/12/18 10:18:38  TRACE> LogicEXTZ0202.CheckRiyobi() END
2015/12/18 10:18:38  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() START
2015/12/18 10:18:38  DEBUG> LogicEXTZ0202.InsertYoyakuCtlData() COMMIT!!
2015/12/18 10:18:38  TRACE> LogicEXTZ0202.InsertYoyakuCtlData() END
2015/12/18 10:18:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:18:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:18:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:18:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 10:18:48  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 10:18:48  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 10:18:48  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/16
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 10:18:48  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 10:18:48  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 10:18:48  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/16
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 10:18:48  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 10:18:49  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 10:18:49  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/16
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 10:18:49  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 10:18:49  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 10:18:49  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 10:18:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:18:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:19:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:04  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:19:04  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:19:04  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/18 10:19:04  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:19:04  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:19:04  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:04  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:19:04  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:04  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:19:04  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:19:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:26  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 10:19:26  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 10:19:26  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 10:19:26  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 10:19:26  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/16
2015/12/18 10:19:26  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 10:19:26  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 10:19:26  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 10:19:26  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 10:19:26  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 10:19:26  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 10:19:26  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 10:19:26  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 10:19:26  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 10:19:26  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 10:19:26  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
2015/12/18 10:19:26  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 10:19:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:19:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:19:28  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 10:19:28  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 10:19:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:28  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 10:19:28  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 10:19:28  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 10:19:28  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 10:19:28  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 10:19:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:31  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:19:31  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:19:31  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:19:31  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:19:31  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:19:31  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:19:31  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:19:31  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:31  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:19:31  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:19:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:35  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 10:19:35  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 10:19:35  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:19:35  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:19:35  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:19:35  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 10:19:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:19:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:19:37  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 10:19:37  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:37  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 10:19:37  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 10:19:37  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteExasProject() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerExasProject() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 10:19:37  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 10:19:37  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:37  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 10:19:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:19:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:19:37  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = 'E03568' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 10:19:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 10:19:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:19:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 10:19:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 10:19:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 10:19:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:19:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:19:39  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:19:39  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:19:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:19:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:19:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:19:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:19:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:19:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:19:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:19:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:34:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:34:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:34:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:34:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:34:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:34:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:34:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:34:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:34:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:34:16  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:34:16  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:35:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:35:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:35:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:35:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:35:19  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 10:35:19  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 10:35:19  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 10:35:19  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 10:35:19  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 10:35:19  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151015
2015/12/18 10:35:19  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 10:35:19  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:35:19  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:35:19  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 10:35:19  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:35:50  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:35:50  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:35:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:35:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:35:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:35:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:35:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:35:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:35:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:35:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:35:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:36:17  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:36:17  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:36:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:36:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:36:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:36:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:36:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:36:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:36:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:36:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:36:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:37:19  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:37:19  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:37:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:37:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:37:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:37:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:38:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:38:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:38:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:38:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:38:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:38:20  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 10:38:20  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 10:38:20  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:38:20  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:38:20  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:38:20  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 10:39:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:39:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:39:02  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 10:39:02  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:02  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 10:39:02  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 10:39:02  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteExasProject() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerExasProject() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 10:39:02  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 10:39:02  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:02  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 10:39:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:39:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 10:39:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 10:39:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 10:39:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 10:39:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 10:39:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 10:39:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 10:39:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 10:39:39  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 10:39:39  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 10:39:39  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 10:39:39  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 10:39:39  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 10:39:39  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 10:39:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 10:39:39  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 10:39:39  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 10:39:39  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 10:39:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:39:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:40:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:40:21  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:40:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:40:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:40:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:40:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:40:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:40:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:40:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:40:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:40:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:41:28  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:41:28  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:41:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:41:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:41:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:41:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:41:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:41:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:41:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:41:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:41:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:42:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:42:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:42:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:42:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:42:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:42:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 10:42:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:42:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 10:42:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 10:42:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 10:42:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 10:42:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 10:42:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:42:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 10:42:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 10:56:40  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 10:56:40  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 10:56:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:56:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:56:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:56:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:56:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:56:47  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 10:56:47  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 10:56:47  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 10:56:47  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 10:56:47  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 10:56:47  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 10:56:47  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 10:56:47  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 10:56:47  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:56:47  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 10:56:47  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 10:56:47  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 10:56:47  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 10:56:47  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 10:56:47  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 10:56:47  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 10:56:47  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 10:56:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:56:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:56:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:56:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:56:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:56:49  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 10:56:49  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 10:56:49  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 10:56:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 10:56:49  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 10:56:49  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 10:56:49  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 10:56:49  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 10:56:49  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 10:56:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:56:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:56:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:56:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:56:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:56:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:56:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:56:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 10:56:51  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 10:56:51  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 10:56:51  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 10:56:51  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:56:51  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Riyobi] 2015/12/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/14
      [:SYANAI] 1
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 10:56:51  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 10:56:51  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 10:56:51  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 10:56:52  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 10:56:52  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 10:56:52  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:56:52  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:56:52  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 10:56:52  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 10:56:52  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 10:56:52  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 10:56:52  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 10:56:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:56:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:57:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:57:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:57:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:57:00  TRACE> LogicEXTC0103.UpFutai() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2015/12/18 10:57:00  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2015/12/18 10:57:00  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 10:57:00  TRACE> LogicEXTC0103.UpFutai() END
2015/12/18 10:57:00  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2015/12/18 10:57:00  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:57:00  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2015/12/18 10:57:00  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:57:00  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:57:00  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:57:00  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 10:57:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:57:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:57:03  TRACE> EXTC0103.inputCheckMain() Chk_START
2015/12/18 10:57:03  TRACE> EXTC0103.inputCheckMain() Chk_END
2015/12/18 10:57:03  TRACE> EXTC0103.inputCheckCondition() Chk_START
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:57:03  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:57:03  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 10:57:03  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 10:57:03  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 10:57:03  TRACE> EXTC0103.inputCheckCondition() Chk_END
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:57:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:57:03  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2015/12/18 10:57:03  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:03  TRACE> LogicEXTC0102.InsertYoyakuList() START
2015/12/18 10:57:03  TRACE> LogicEXTC0102.InsertYoyakuList() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.deleteFutai() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutai() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutai() END
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutai() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutai() END
2015/12/18 10:57:04  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.deleteBillPay() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerBillPay() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.deleteExasProject() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerExasProject() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Seq] 528
      [:SeikyuIraiNo] E03620
      [:SeikyuIraiSeq] 3230
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201512
      [:KeijoKin] 150000
      [:TaxKin] 12000
      [:Tekiyo1] ２０１５年１２月１４日〜１２月１４日　利用料
      [:Tekiyo2] 利用スタジオテスト
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 1111
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2015/12/18 10:57:04  TRACE> SqlEXTC0103.registerBillPay() START
2015/12/18 10:57:04  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Seq] 3228
      [:SeikyuIraiNo] 
      [:SeikyuDt] 2015/12/10
      [:NyukinYoteiDt] 2016/01/29
      [:KakuteiKin] 273000
      [:ChoseiKin] 0
      [:Shokei] 273000
      [:TaxKin] 21840
      [:SeikyuKin] 294840
      [:SeikyuNaiyo] 2
      [:AiteCd] A00001
      [:NyukinKbn] 
      [:SeikyuTitle1] ２０１５年１２月１４日〜１２月１４日　付帯設備
      [:SeikyuTitle2] 
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 0
      [:SeikyuIraiFlg] 0
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2015/12/18 10:57:04  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2015/12/18 10:57:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 10:57:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 10:57:04  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 10:57:04  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 10:57:04  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 10:57:04  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:04  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 10:57:04  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 10:57:04  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 10:57:04  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 10:57:05  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 10:57:05  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 10:57:05  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 10:57:05  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 10:57:05  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 10:57:05  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:57:05  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:57:05  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 10:57:05  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 10:57:05  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 10:57:05  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 10:57:05  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 10:57:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:57:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:57:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:57:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:57:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:57:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:57:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:57:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:57:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:57:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:57:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:57:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:57:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:57:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:58:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:58:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:58:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:58:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:58:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:58:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:58:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:58:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:58:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:58:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:58:42  TRACE> LogicEXTC0103.UpFutai() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2015/12/18 10:58:42  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2015/12/18 10:58:42  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 10:58:42  TRACE> LogicEXTC0103.UpFutai() END
2015/12/18 10:58:42  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2015/12/18 10:58:42  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 10:58:42  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2015/12/18 10:58:42  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 10:58:42  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 10:58:42  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 10:58:42  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 10:59:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:59:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:59:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:59:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 10:59:23  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 10:59:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:59:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 10:59:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 10:59:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 10:59:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:59:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 10:59:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 10:59:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 10:59:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:00:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:00:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:00:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:00:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:00:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:00:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:00:24  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 11:00:24  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 11:00:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:00:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:00:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:00:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:00:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:00:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:00:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:00:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:01:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:01:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:01:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:01:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:01:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:01:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:01:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:01:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:01:39  TRACE> EXTC0103.inputCheckMain() Chk_START
2015/12/18 11:01:39  TRACE> EXTC0103.inputCheckMain() Chk_END
2015/12/18 11:01:39  TRACE> EXTC0103.inputCheckCondition() Chk_START
2015/12/18 11:01:39  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 11:01:39  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 11:01:39  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 11:01:39  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 11:01:39  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 11:01:39  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 11:01:39  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 11:01:39  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 11:01:39  TRACE> EXTC0103.inputCheckCondition() Chk_END
2015/12/18 11:02:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:02:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:02:20  TRACE> LogicEXTC0102.DeleteYoyakuList() START
2015/12/18 11:02:20  TRACE> LogicEXTC0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:20  TRACE> LogicEXTC0102.InsertYoyakuList() START
2015/12/18 11:02:20  TRACE> LogicEXTC0102.InsertYoyakuList() END
2015/12/18 11:02:20  TRACE> LogicEXTC0103.RegYoyakuDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.deleteFutai() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutai() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutai() END
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutai() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutai() END
2015/12/18 11:02:20  TRACE> SqlEXTC0103.deleteFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerFutaiDetail() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.deleteBillPay() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerBillPay() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.deleteExasProject() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerExasProject() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerExasProject() 
■SQL Data :
   Sql Command > UPDATE PROJECT_TBL SET 
    seikyu_naiyo = :SeikyuNaiyo, 
    riyo_ym = :RiyoYm, 
    keijo_kin = :KeijoKin, 
    tax_kin = :TaxKin, 
    tekiyo1 = :Tekiyo1, 
    tekiyo2 = :Tekiyo2, 
    content_cd = :ContentCd, 
    content_uchi_cd =:ContentUchiCd, 
    shukei_grp = :ShukeiGrp, 
    kamoku_cd = :KamokuCd, 
    saimoku_cd = :SaimokuCd, 
    uchi_cd = :UchiCd, 
    shosai_cd = :ShosaiCd, 
    karikamoku_cd = :KarikamokuCd, 
    kari_saimoku_cd =:KariSaimokuCd, 
    kari_uchi_cd = :KariUchiCd, 
    kari_shosai_cd = :KariShosaiCd, 
    up_dt = current_timestamp, 
    up_user_cd = :UpUserCd 
WHERE 
    yoyaku_no = :YoyakuNo 
AND seq = :Seq 
AND seikyu_irai_no = :SeikyuIraiNo 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Seq] 528
      [:SeikyuIraiNo] E03620
      [:SeikyuIraiSeq] 3232
      [:SeikyuNaiyo] 1
      [:RiyoYm] 201512
      [:KeijoKin] 150000
      [:TaxKin] 12000
      [:Tekiyo1] ２０１５年１２月１４日〜１２月１４日　利用料
      [:Tekiyo2] 利用スタジオテスト
      [:ContentCd] IBNT016
      [:ContentUchiCd] CONT016001
      [:ShukeiGrp] 1111
      [:KamokuCd] 221125
      [:SaimokuCd] 110
      [:UchiCd] 1010
      [:ShosaiCd] 2211250010
      [:KarikamokuCd] 
      [:KariSaimokuCd] 
      [:KariUchiCd] 
      [:KariShosaiCd] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerBillPay() START
2015/12/18 11:02:20  TRACE> SqlEXTC0103.registerBillPay() START
2015/12/18 11:02:20  TRACE> LogicEXTC0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    BILLPAY_TBL(yoyaku_no, seq, seikyu_irai_no, seikyu_dt, nyukin_yotei_dt, kakutei_kin, chosei_kin, shokei, 
     tax_kin, seikyu_kin, seikyu_naiyo, aite_cd, nyukin_kbn, seikyu_title1, seikyu_title2, nyukin_dt, nyukin_kin, 
      seikyu_input_flg, seikyu_irai_flg, nyukin_input_flg, nyukin_link_no, add_dt, add_user_cd, up_dt, up_user_cd) 
VALUES 
    ( 
    :YoyakuNo, 
    nextval('BILLPAY_TBL_S'), 
    :SeikyuIraiNo, 
    :SeikyuDt, 
    :NyukinYoteiDt, 
    :KakuteiKin, 
    :ChoseiKin, 
    :Shokei, 
    :TaxKin, 
    :SeikyuKin, 
    :SeikyuNaiyo, 
    :AiteCd, 
    :NyukinKbn, 
    :SeikyuTitle1, 
    :SeikyuTitle2, 
    :NyukinDt, 
    :NyukinKin, 
    :SeikyuInputFlg, 
    :SeikyuIraiFlg, 
    :NyukinInputFlg, 
    :NyukinLinkNo, 
    current_timestamp, 
    :AddUserCd, 
    current_timestamp, 
    :UpUserCd 
    ) RETURNING seq
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Seq] 
      [:SeikyuIraiNo] 
      [:SeikyuDt] 2015/12/10
      [:NyukinYoteiDt] 2016/01/29
      [:KakuteiKin] 75000
      [:ChoseiKin] 0
      [:Shokei] 75000
      [:TaxKin] 6000
      [:SeikyuKin] 81000
      [:SeikyuNaiyo] 1
      [:AiteCd] A00001
      [:NyukinKbn] 
      [:SeikyuTitle1] ２０１５年１２月１４日〜１２月１４日　利用料
      [:SeikyuTitle2] 利用スタジオテスト
      [:NyukinDt] 
      [:NyukinKin] 
      [:SeikyuInputFlg] 0
      [:SeikyuIraiFlg] 0
      [:NyukinInputFlg] 0
      [:NyukinLinkNo] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
2015/12/18 11:02:20  TRACE> LogicEXTC0103.RegYoyakuDetail() END
2015/12/18 11:02:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:02:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 11:02:57  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 11:02:57  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 11:02:57  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 11:02:57  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:57  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 11:02:57  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 11:02:57  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 11:02:57  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 11:02:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 11:02:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 11:02:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 11:02:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 11:02:58  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 11:02:58  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 11:02:58  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 11:02:58  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 11:02:58  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 11:02:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:02:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:03:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:03:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:03:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:03:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:03:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:03:25  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 11:03:25  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 11:03:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:03:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:03:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:03:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:03:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:03:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:03:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:03:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:03:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:04:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:04:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:04:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:04:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:04:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:04:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:04:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 11:04:34  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 11:04:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:04:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:04:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:04:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:04:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:04:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:04:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:04:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:05:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:05:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:05:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:05:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:05:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:05:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:05:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:05:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:05:44  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 11:05:44  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 11:05:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 11:05:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 11:05:44  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 11:05:44  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 11:05:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 11:05:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 11:05:44  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 11:45:36  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 11:45:36  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 11:45:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:45:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:42  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 11:45:42  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 11:45:42  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 11:45:42  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 11:45:42  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 11:45:42  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 11:45:42  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 11:45:42  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 11:45:42  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:45:42  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:45:42  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 11:45:42  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 11:45:42  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 11:45:42  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 11:45:42  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 11:45:42  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 11:45:42  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 11:45:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:45:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:44  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:45:44  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:44  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:45:44  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:45:44  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 11:45:44  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:45:44  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:45:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:44  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:44  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:45:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:46  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:45:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:46  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:45:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:45:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 11:45:46  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:45:46  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:45:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:Riyobi] 2015/11/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/13
      [:SYANAI] 1
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00133' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:45:50  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:45:50  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 11:45:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:45:50  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:45:50  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:45:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:52  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:45:52  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:52  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:45:52  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:45:52  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 11:45:52  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:45:52  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:45:52  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:52  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:52  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:53  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:45:53  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:53  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:45:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:45:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:45:53  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:45:53  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:45:53  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:53  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:53  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:45:55  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:45:55  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:45:55  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:45:55  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 2
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:45:55  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:45:55  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:45:56  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:45:56  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:45:56  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:56  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00019' 
AND seikyu_irai_no = 'E00352' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 11:45:56  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:45:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:45:56  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:45:56  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 11:45:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:45:56  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:45:56  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:45:56  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:45:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:57  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:57  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:45:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:57  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:45:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:45:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:45:57  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:45:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:45:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:45:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:45:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:45:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:45:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:45:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:45:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:45:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:45:58  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:45:58  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:45:58  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:45:58  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:58  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:45:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:45:58  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:45:58  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:45:59  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:45:59  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:45:59  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:45:59  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:45:59  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:45:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:45:59  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:45:59  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:45:59  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:45:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:45:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:46:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:46:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:46:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:46:07  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:46:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:08  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:46:08  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:08  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:46:08  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:46:08  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:46:08  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:46:08  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:46:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:08  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:08  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:38  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 11:46:38  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 11:46:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:46:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:46:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:44  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 11:46:44  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 11:46:44  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 11:46:44  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 11:46:44  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 11:46:44  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 11:46:44  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 11:46:44  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 11:46:44  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:46:44  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:46:44  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 11:46:44  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 11:46:44  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 11:46:44  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 11:46:44  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 11:46:44  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 11:46:44  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 11:46:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:46:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:46:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:46  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:46:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:46  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:46:46  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:46:46  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 11:46:46  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:46:46  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:46:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:46  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:46  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:46:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:46:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:47  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:46:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:47  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:46:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:46:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 11:46:47  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:46:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:46:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:48  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:46:48  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:48  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:46:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:46:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:46:48  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:46:48  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:46:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:46:48  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:46:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:46:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:46:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:46:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:46:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:46:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:46:50  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:46:50  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:46:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:46:50  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:46:50  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:46:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:46:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:47:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:47:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:47:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:47:05  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 11:47:05  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 11:47:05  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 11:47:05  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 11:47:05  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 11:47:05  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 11:47:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:47:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:47:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:47:08  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:47:08  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:47:08  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:47:08  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:47:08  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:47:08  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:47:08  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:47:08  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:47:08  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:47:08  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:47:08  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:47:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:47:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:47:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:47:19  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 11:47:19  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 11:47:19  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 11:47:19  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 11:47:19  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/03
2015/12/18 11:47:19  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 11:47:19  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 11:47:20  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 11:47:20  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 11:47:20  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 11:47:20  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 11:47:20  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 11:47:20  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 11:47:20  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 11:47:20  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 11:47:20  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 11:47:20  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 11:47:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:47:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:47:33  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 11:47:33  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 11:47:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:47:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:47:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:47:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:47:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:47:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:47:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:47:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:48:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:48:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:48:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:48:11  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 11:48:11  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 11:48:11  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 11:48:11  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 11:48:11  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/03
2015/12/18 11:48:11  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 11:48:11  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 11:48:11  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 11:48:11  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 11:48:11  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 11:48:11  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 11:48:11  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 11:48:11  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 11:48:11  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 11:48:11  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 11:48:11  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 11:48:11  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 11:48:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:48:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:48:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:48:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:48:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:48:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:48:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:48:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:48:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:48:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:48:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:48:31  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:48:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:48:31  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:48:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:48:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:48:31  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:48:31  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:48:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:48:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:48:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:49:57  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 11:49:57  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 11:49:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:49:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:50:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:08  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 11:50:08  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 11:50:08  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 11:50:08  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 11:50:08  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 11:50:08  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 11:50:08  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 11:50:08  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 11:50:08  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:50:08  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:50:08  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 11:50:08  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 11:50:08  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 11:50:08  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 11:50:08  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 11:50:08  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 11:50:08  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 11:50:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:50:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:50:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:10  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:50:10  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:10  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:50:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:50:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 11:50:10  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:50:10  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:50:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:10  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:50:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:50:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 11:50:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:50:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:50:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:50:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:50:13  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:50:13  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:50:13  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:50:13  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:50:13  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:50:13  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:13  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:50:14  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:50:14  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:50:14  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:50:14  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:50:14  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:50:14  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:50:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:50:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:50:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:50:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:50:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:50:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:50:22  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:50:22  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:50:22  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:50:22  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:50:22  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:50:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:50:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:50:22  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:50:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:50:22  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:50:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:56:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:56:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:56:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:56:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:56:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:56:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:56:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:56:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:56:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:56:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:56:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:56:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:56:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:56:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:56:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitBunrui() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetSelectIniData() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetSelectIniData() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/18' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbFinishedFromTo() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetFinishedFromToData() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetFinishedFromToData() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbFinishedFromTo() システム管理情報
■SQL Data :
   Sql Command > SELECT  DISTINCT  kikan_from || kikan_to  対象期間コード,kikan_from || '-'  || kikan_to           対象期間 FROM  fbunrui_mst  WHERE shisetu_kbn = '1'  ORDER BY 対象期間コード
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbFinishedFromTo() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/18' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/18' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKanzyoCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKanzyoCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT kamoku_cd,kamoku_nm FROM kamoku_mst ORDER BY kamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/18' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKamokuCdCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKamokuCdCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitBunrui() システム管理情報
■SQL Data :
   Sql Command > SELECT t1.kikan_from ||t1.kikan_to                                           対象期間,SUBSTRING(t1.kikan_from, 1, 4)                        From_Year,SUBSTRING(t1.kikan_from, 6, 2)                        From_Month,SUBSTRING(t1.kikan_to, 1, 4)                          To_Year,SUBSTRING(t1.kikan_to, 6, 2)                          To_Month,t1.shisetu_kbn                                        施設区分, t1.bunrui_cd                                          分類CD,t1.bunrui_nm                                          分類名,t1.shukei_grp                                         集計グループ,t1.notax_flg                                          税無フラグ,t1.sort                                               並び順,t1.kamoku_cd                                          勘定科目CD,t1.saimoku_cd                                         細目CD,t1.uchi_cd                                            内訳CD,t1.shosai_cd                                          詳細CD,t1.karikamoku_cd                                      借方勘定科目CD,t1.kari_saimoku_cd                                    借方細目CD,t1.kari_uchi_cd                                       借方内訳CD,t1.kari_shosai_cd                                     借方詳細CD,t1.sts                                                ステータス,t1.RIYORYO_FLG                                        付帯利用料フラグ FROM fbunrui_mst t1  WHERE t1.shisetu_kbn = '1'  AND '2015/12/18' BETWEEN t1.kikan_from AND t1.kikan_to ORDER BY t1.sort asc
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.SetBunruiData() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1020
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbSaimouCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbSaimokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT  saimoku_cd, saimoku_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd ORDER BY saimoku_cd
   Parameters Data > 
      [kamokuCd] 221125
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSaimokuCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbUchiwakeCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbUchiwakeSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT uchi_cd,uchi_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd ORDER BY uchi_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiwakeSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbUchiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbShosaiCdSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbShosaiSet() システム管理情報
■SQL Data :
   Sql Command > SELECT shosai_cd,shosai_nm FROM kamoku_mst WHERE kamoku_cd = :kamokuCd AND saimoku_cd = :saimokuCd AND uchi_cd = :uchiCd ORDER BY kamoku_cd
   Parameters Data > 
      [kamokuCd] 221125
      [saimokuCd] 110
      [uchiCd] 1010
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.CmbKariKamokuSet() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.CmbKarikamokuSet() システム管理情報
■SQL Data :
   Sql Command > SELECT DISTINCT karikamoku_cd,karikamoku_nm FROM kamoku_mst ORDER BY karikamoku_cd
   Parameters Data > 
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbKarikamokuSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbShosaiSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.CmbSyosaiCreate() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.SetBunruiData() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitBunrui() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitFutai() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetSelectIniFutaiData() START
2015/12/18 11:56:42  TRACE> SqlEXTM0102.SetSelectIniFutaiData() END
2015/12/18 11:56:42  DEBUG> LogicEXTM0102.InitFutai() システム管理情報
■SQL Data :
   Sql Command > SELECT  futai_cd, futai_nm, tanka, tani, def_flg, sort, sts, 0, bunrui_cd,'0' FROM futai_mst WHERE shisetu_kbn = '1'  AND :item = kikan_from || kikan_to ORDER BY bunrui_cd, sort
   Parameters Data > 
      [item] 2015/10/012016/03/31
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitFutaiBunruiSet() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitFutaiBunruiSet() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.InitFutai() END
2015/12/18 11:56:42  TRACE> LogicEXTM0102.SetFutaiData() START
2015/12/18 11:56:42  TRACE> LogicEXTM0102.SetFutaiData() END
2015/12/18 11:56:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:56:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:13  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 11:59:13  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 11:59:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:19  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 11:59:19  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 11:59:19  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 11:59:19  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 11:59:19  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 11:59:19  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 11:59:19  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 11:59:19  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 11:59:19  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:59:19  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 11:59:19  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 11:59:19  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 11:59:19  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 11:59:19  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 11:59:19  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 11:59:19  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 11:59:19  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 11:59:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:21  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:59:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:21  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:59:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:59:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 11:59:21  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:59:21  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:59:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:59:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:59:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:59:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 11:59:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:59:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:59:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:23  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:59:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:23  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:59:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:59:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:59:23  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:59:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:59:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:59:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 11:59:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 11:59:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 11:59:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 11:59:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 11:59:24  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 11:59:24  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 11:59:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 11:59:25  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 11:59:25  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 11:59:25  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 11:59:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:59:28  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:59:28  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:59:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:59:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:59:28  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:59:28  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:59:28  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:28  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:59:28  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:59:28  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:28  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:59:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:59:36  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:59:36  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:59:36  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:59:36  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:59:36  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:59:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:59:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:36  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:59:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:59:36  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:59:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:37  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:59:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 11:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 11:59:37  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 11:59:37  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 11:59:37  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 11:59:37  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 11:59:39  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 11:59:39  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 11:59:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 11:59:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 11:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 11:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 11:59:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 11:59:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 11:59:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 11:59:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 11:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 11:59:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 11:59:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 11:59:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 11:59:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:00:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:00:01  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:00:01  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:00:01  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:00:01  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:00:01  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:00:01  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:00:01  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:00:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:00:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:00:02  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:00:02  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:00:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:00:02  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:00:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:00:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:00:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:00:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:00:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:10  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 12:00:10  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 12:00:10  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 12:00:10  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 12:00:10  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 12:00:10  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 12:00:10  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 12:00:10  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 12:00:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:11  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 12:00:11  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:11  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 12:00:11  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 12:00:11  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 12:00:11  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 12:00:11  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 12:00:11  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:11  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 12:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00917' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:00:12  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:00:12  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:00:12  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:00:12  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:00:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:17  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 12:00:17  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 12:00:17  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 12:00:17  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 12:00:17  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/03
2015/12/18 12:00:17  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 12:00:17  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 12:00:17  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 12:00:17  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 12:00:17  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 12:00:17  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:17  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 12:00:17  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 12:00:17  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 12:00:17  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 12:00:17  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:17  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 12:00:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:38  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 12:00:38  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 12:00:38  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 12:00:38  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 12:00:38  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/03
2015/12/18 12:00:38  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 12:00:38  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 12:00:38  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 12:00:38  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 12:00:38  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 12:00:38  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:38  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 12:00:38  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 12:00:38  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 12:00:38  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 12:00:38  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:38  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 12:00:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:41  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 12:00:41  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 12:00:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:41  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 12:00:41  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 12:00:41  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 12:00:41  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 12:00:41  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 12:00:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:43  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 12:00:43  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 12:00:43  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:00:43  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 12:00:43  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 12:00:43  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:SeikyuIraiNo] E00337
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 12:00:43  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 12:00:43  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:43  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:43  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:00:43  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:00:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:46  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 12:00:46  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 12:00:46  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 12:00:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 12:00:46  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 12:00:46  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 12:00:46  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 12:00:46  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 12:00:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:47  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 12:00:47  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 12:00:47  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 12:00:47  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 12:00:47  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 12:00:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:00:47  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:00:47  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:00:47  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:00:47  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:47  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:00:47  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:00:48  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:00:48  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:00:48  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:00:48  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:00:48  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:00:48  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:00:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:00:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:00:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:00:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:00:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:00:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:00:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:00:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:00:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:00:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:00:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:00:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:00:51  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:00:51  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:00:51  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:00:51  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:00:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:00:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:00:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:00:52  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:00:52  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:00:52  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:00:52  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:00:52  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:00:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:00:52  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:00:52  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 12:00:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:00:52  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:00:52  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:00:52  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:00:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:00:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:00:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:00:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:00:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:00:55  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 12:00:55  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 12:00:55  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 12:00:55  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 12:00:55  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/03
2015/12/18 12:00:55  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 12:00:55  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 12:00:55  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 12:00:55  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 12:00:55  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 12:00:55  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:55  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 12:00:55  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 12:00:55  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 12:00:55  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 12:00:55  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
2015/12/18 12:00:55  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 12:00:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:00:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:02  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 12:01:02  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 12:01:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:01:23  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 12:01:23  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:23  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:01:23  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:23  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 12:01:23  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 12:01:23  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:01:23  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 12:01:23  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 12:01:23  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:23  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 12:01:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:01:26  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 12:01:26  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:26  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:01:26  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:26  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 12:01:26  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 12:01:26  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:01:26  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 12:01:26  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:26  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 12:01:26  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:26  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 12:01:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:42  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:01:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:42  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:01:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:01:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:01:42  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:01:42  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:01:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:01:43  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:01:43  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:01:43  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:01:43  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 2
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:01:43  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:01:43  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:43  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:44  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:01:44  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00019' 
AND seikyu_irai_no = 'E00352' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:01:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:01:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:01:44  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:01:44  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 12:01:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:01:44  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:01:44  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:01:44  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:01:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:47  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:01:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:47  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:01:47  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:01:47  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:01:47  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:01:47  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:01:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:47  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:47  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:01:48  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:01:48  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 12:01:48  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:01:48  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:01:48  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:01:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:01:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:01:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:01:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:01:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:01:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:01:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:01:52  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:01:52  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 12:01:52  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:01:52  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:01:52  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:01:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:54  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:01:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:54  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:01:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:01:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:01:54  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:01:54  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:01:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 2
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00002' 
AND seikyu_irai_no = 'E00152' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:01:56  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:01:56  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 12:01:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:01:56  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:01:56  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:01:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:01:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:01:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:01:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:01:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:01:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:01:59  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:01:59  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:01:59  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:01:59  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:01:59  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:01:59  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:01:59  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:01:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:59  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:01:59  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:Riyobi] 2015/10/26
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/26
      [:SYANAI] 1
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00148' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:02:02  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:02:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 12:02:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:02:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:02:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:02:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:05  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:02:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:05  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:02:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:02:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:02:05  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:02:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:02:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:09  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:02:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:09  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:02:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:02:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:02:09  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:02:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:02:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = 'E03245' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:02:12  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:02:12  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:02:12  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:02:12  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:02:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:02:27  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 12:02:27  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:02:27  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:02:27  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:02:27  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 12:02:27  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 12:02:27  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:02:27  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 12:02:27  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:27  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 12:02:27  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:27  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 12:02:31  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 12:02:31  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 12:02:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:37  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:02:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:37  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:02:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:02:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:02:37  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:02:37  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:02:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:02:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:02:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:02:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:02:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:02:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:02:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 12:02:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:02:39  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:02:39  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:39  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = 'E03245' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:02:39  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:02:39  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 12:02:39  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:02:39  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:02:39  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:02:39  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:02:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:45  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:02:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:45  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:02:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:02:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:02:45  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:02:45  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:02:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:02:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:02:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:02:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:02:46  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:02:46  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:02:46  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:02:46  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:02:46  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:02:46  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:02:46  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:02:47  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:02:47  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:02:47  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:02:47  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:02:47  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:02:47  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:02:47  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:02:47  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:02:47  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:02:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:02:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:02:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:02:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:02:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:02:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:02:58  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 12:02:58  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 12:02:58  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 12:02:58  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 12:02:58  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 12:02:58  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 12:03:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:03:25  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 12:03:25  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:03:25  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:03:25  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:03:25  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 12:03:25  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 12:03:25  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 12:03:25  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 12:03:25  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 12:03:25  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:25  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 12:03:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 12:03:29  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 12:03:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:03:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:03:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:03:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:03:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:03:48  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:48  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:03:48  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:03:48  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:03:48  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:03:48  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:03:48  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:03:48  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:03:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:03:48  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:03:48  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:03:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:03:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:03:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:03:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:03:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:03:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:03:50  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:03:50  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 12:03:50  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:03:50  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:03:50  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:03:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:03:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:00  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:00  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:00  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:00  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:00  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:00  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:00  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:00  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00128
      [:Riyobi] 2015/11/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00128
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/05
      [:SYANAI] 1
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151105
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151105
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151105
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00128' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:04:03  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:04:03  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00128
2015/12/18 12:04:03  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:04:03  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:04:03  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:04:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:04:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:05  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:05  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:05  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:05  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:05  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:05  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:05  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:05  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:05  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00121
      [:Riyobi] 2015/11/06
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00121
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/06
      [:SYANAI] 1
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00121
      [:SeikyuIraiNo] E02690
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00121' 
AND seikyu_irai_no = 'E03473' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:04:06  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:04:06  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00121
2015/12/18 12:04:06  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:04:06  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:04:06  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:04:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:04:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:08  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:09  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:09  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:09  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
      [:Riyobi] 2015/11/08
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00126
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/08
      [:SYANAI] 1
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151108
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00126' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:04:10  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:04:10  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00126
2015/12/18 12:04:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:04:10  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:04:10  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:04:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:04:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:12  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:12  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:12  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:14  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:14  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:04:14  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:14  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:Riyobi] 2015/10/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/25
      [:SYANAI] 1
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00149' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 12:04:18  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 12:04:18  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 12:04:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 12:04:18  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:04:18  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:04:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:04:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:20  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:20  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 12:04:20  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:20  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:23  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:23  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:23  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:24  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:24  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:24  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:24  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:24  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 12:04:24  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:24  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:24  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:24  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:24  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:25  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:25  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/18 12:04:25  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:28  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:28  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/02
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/02
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/02
2015/12/18 12:04:28  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 12:04:31  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00154
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 12:04:31  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00154
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 12:04:31  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 12:04:31  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 12:04:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 12:04:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 12:04:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/02
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/02
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/02
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/02
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/02
2015/12/18 12:04:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2016/01
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2016/01
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2016/01
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2016/01
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2016/01
2015/12/18 12:04:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 12:04:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 12:04:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 12:04:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 12:04:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 12:04:42  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 12:04:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 12:04:42  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 12:04:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 12:04:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 12:04:42  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 12:04:42  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 12:04:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 12:04:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:46  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 13:10:46  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 13:10:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:10:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:10:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:10:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:10:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:10:52  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 13:10:52  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 13:10:52  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 13:10:52  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 13:10:52  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 13:10:52  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 13:10:52  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 13:10:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 13:10:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:10:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:10:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 13:10:52  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 13:10:52  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 13:10:52  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 13:10:52  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 13:10:52  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 13:10:52  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 13:10:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:10:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:10:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:10:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:10:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:10:54  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:10:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:54  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:10:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:10:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:10:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 13:10:54  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:10:54  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:10:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:10:55  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:10:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 13:10:55  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:10:55  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:10:55  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:55  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:55  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:10:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:10:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:10:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:10:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:10:56  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:10:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:56  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:10:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:10:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:10:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:10:57  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:10:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:10:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:10:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:10:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:10:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:10:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:10:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:10:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:10:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:10:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:10:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:10:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:10:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:10:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:11:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:11:05  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:11:05  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:11:05  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:11:05  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:11:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:08  TRACE> EXTB0102.inputCheckMain() Chk_START
2015/12/18 13:11:08  TRACE> EXTB0102.inputCheckMain() Chk_END
2015/12/18 13:11:08  TRACE> EXTB0102.inputCheckCondition() Chk_START
2015/12/18 13:11:08  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:11:08  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:11:08  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:11:08  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:11:08  TRACE> EXTB0102.inputCheckCondition() Chk_END
2015/12/18 13:11:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:11:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:11:09  TRACE> LogicEXTB0102.RegYoyakuInfo() START
2015/12/18 13:11:09  TRACE> LogicEXTB0102.RegYoyakuInfo() Complate SQL
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/11/14
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:SaijiNm] テスト確認用
      [:ShutsuenNm] テスト確認用
      [:KashiKind] 2
      [:RiyoType] 1
      [:DrinkFlg] 1
      [:SaijiBunrui] 1
      [:Teiin] 600
      [:OnkyoOpeFlg] 
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 伊予　伊予の助
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 1
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] T00129
2015/12/18 13:11:09  TRACE> LogicEXTB0102.RegYoyakuInfo() 登録予約番号:
■SQL Data :
   Sql Command > update YOYAKU_TBL 
SET 
KARIUKE_DT = :KariukeDt, 
KARI_USERCD = :KariUsercd, 
KAKUTEI_DT = :KakuteiDt, 
KAKU_USERCD = :KakuUsercd, 
YOYAKU_STS = :YoyakuSts, 
SHISETU_KBN = :ShisetuKbn, 
STUDIO_KBN = :StudioKbn, 
SAIJI_NM = :SaijiNm, 
SHUTSUEN_NM = :ShutsuenNm, 
KASHI_KIND = :KashiKind, 
RIYO_TYPE = :RiyoType, 
DRINK_FLG = :DrinkFlg, 
SAIJI_BUNRUI = :SaijiBunrui, 
TEIIN = :Teiin, 
ONKYO_OPE_FLG = :OnkyoOpeFlg, 
RIYOSHA_CD = :RiyoshaCd, 
RIYO_NM = :RiyoNm, 
RIYO_KANA = :RiyoKana, 
SEKININ_BUSHO_NM = :SekininBushoNm, 
SEKININ_NM = :SekininNm, 
SEKININ_MAIL = :SekininMail, 
DAIHYO_NM = :DaihyoNm, 
RIYO_TEL11 = :RiyoTel11, 
RIYO_TEL12 = :RiyoTel12, 
RIYO_TEL13 = :RiyoTel13, 
RIYO_TEL21 = :RiyoTel21, 
RIYO_TEL22 = :RiyoTel22, 
RIYO_TEL23 = :RiyoTel23, 
RIYO_NAISEN = :RiyoNaisen, 
RIYO_FAX11 = :RiyoFax11, 
RIYO_FAX12 = :RiyoFax12, 
RIYO_FAX13 = :RiyoFax13, 
RIYO_YUBIN1 = :RiyoYubin1, 
RIYO_YUBIN2 = :RiyoYubin2, 
RIYO_TODO = :RiyoTodo, 
RIYO_SHIKU = :RiyoShiku, 
RIYO_BAN = :RiyoBan, 
RIYO_BUILD = :RiyoBuild, 
RIYO_LVL = :RiyoLvl, 
AITE_CD = :AiteCd, 
ONKYO_NM = :OnkyoNm, 
ONKYO_TANTO_NM = :OnkyoTantoNm, 
ONKYO_TEL11 = :OnkyoTel11, 
ONKYO_TEL12 = :OnkyoTel12, 
ONKYO_TEL13 = :OnkyoTel13, 
ONKYO_NAISEN = :OnkyoNaisen, 
ONKYO_FAX11 = :OnkyoFax11, 
ONKYO_FAX12 = :OnkyoFax12, 
ONKYO_FAX13 = :OnkyoFax13, 
ONKYO_MAIL = :OnkyoMail, 
TOTAL_RIYO_KIN = :TotalRiyoKin, 
SEND_KBN = :SendKbn, 
SEND_STS = :SendSts, 
SEND_DT = :SendDt, 
HENSO_DT = :HensoDt, 
BIKO = :Biko, 
RIYO_COM = :RiyoCom, 
TICKET_ENTER_KBN = :TicketEnterKbn, 
TICKET_DRINK_KBN = :TicketDrinkKbn, 
HP_KEISAI = :HpKeisai, 
JOHO_KOKAI_DT = :JohoKokaiDt, 
JOHO_KOKAI_TIME = :JohoKokaiTime, 
KOKAI_DT = :KokaiDt, 
KOKAI_TIME = :KokaiTime, 
FINPUT_STS = :FinputSts, 
UP_DT = current_timestamp, 
UP_USER_CD = :UpUserCd 
WHERE 
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:KariukeDt] 2015/11/14
      [:KariUsercd] USN001
      [:KakuteiDt] 
      [:KakuUsercd] 
      [:YoyakuSts] 2
      [:ShisetuKbn] 1
      [:StudioKbn] 0
      [:SaijiNm] テスト確認用
      [:ShutsuenNm] テスト確認用
      [:KashiKind] 2
      [:RiyoType] 1
      [:DrinkFlg] 1
      [:SaijiBunrui] 1
      [:Teiin] 600
      [:OnkyoOpeFlg] 
      [:RiyoshaCd] C00082
      [:RiyoNm] ＬＡＮＤプロダクション
      [:RiyoKana] ランドプロダクション
      [:SekininBushoNm] 
      [:SekininNm] 伊予　伊予の助
      [:SekininMail] 
      [:DaihyoNm] ＬＡＮＤ　ＬＡＮＤ
      [:RiyoTel11] 112
      [:RiyoTel12] 2222
      [:RiyoTel13] 2222
      [:RiyoTel21] 
      [:RiyoTel22] 
      [:RiyoTel23] 
      [:RiyoNaisen] 
      [:RiyoFax11] 112
      [:RiyoFax12] 2222
      [:RiyoFax13] 2221
      [:RiyoYubin1] 089
      [:RiyoYubin2] 2134
      [:RiyoTodo] 神奈川県
      [:RiyoShiku] 横須賀市横須賀
      [:RiyoBan] ４−４−４
      [:RiyoBuild] 横須賀ビルディング４Ｆ
      [:RiyoLvl] 1
      [:AiteCd] A00001
      [:OnkyoNm] 
      [:OnkyoTantoNm] 
      [:OnkyoTel11] 
      [:OnkyoTel12] 
      [:OnkyoTel13] 
      [:OnkyoNaisen] 
      [:OnkyoFax11] 
      [:OnkyoFax12] 
      [:OnkyoFax13] 
      [:OnkyoMail] 
      [:TotalRiyoKin] 
      [:SendKbn] 1
      [:SendSts] 1
      [:SendDt] 
      [:HensoDt] 
      [:Biko] 
      [:RiyoCom] 
      [:TicketEnterKbn] 
      [:TicketDrinkKbn] 
      [:HpKeisai] 
      [:JohoKokaiDt] 
      [:JohoKokaiTime] 
      [:KokaiDt] 
      [:KokaiTime] 
      [:FinputSts] 
      [:AddUserCd] USN001
      [:UpUserCd] USN001
      [:YoyakuNo] T00129
2015/12/18 13:11:09  TRACE> LogicEXTB0102.RegYoyakuInfo() END
2015/12/18 13:11:09  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:11:09  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:09  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:11:09  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:11:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:11:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:11:09  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:11:09  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:11:09  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:11:09  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:11:09  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:11:09  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:09  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:11:09  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no, 
    :Riyobi as yoyaku_dt,  
    SUM(m1.tanka) as total_fuzoku_kin,  
    ARRAY_TO_STRING(ARRAY_AGG(m1.futai_nm), '／') as fuzoku_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE  
                              SUM( CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m3.tax_ritu) /100 ,0)
                                                                ELSE 0 
                                    END ) 
    END  AS TAX_KIN 
FROM 
    futai_mst m1
           LEFT OUTER JOIN  FBUNRUI_MST m2 
                       ON   m1.BUNRUI_CD = m2.BUNRUI_CD 
                      AND   m1.SHISETU_KBN = m2.SHISETU_KBN 
                      AND   :Riyobi BETWEEN m2.KIKAN_FROM AND m2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST m3 
                       ON   :Riyobi BETWEEN m3.TAXS_DT AND m3.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
group by 
    m1.def_flg, 
    m1.sts 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:11:10  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:11:10  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:11:10  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:11:10  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:11:10  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:11:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GetRyokinBairituMst() START
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GetRyokinMst() START
2015/12/18 13:11:13  TRACE> SqlEXTB0103.GeSqlRyokinMst() START
2015/12/18 13:11:13  TRACE> SqlEXTB0103.GeSqlRyokinMst() END
2015/12/18 13:11:13  DEBUG> LogicEXTB0103.GetRyokinMst() 遷移前料金マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM RIYORYO_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/10
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GetRyokinMst() END
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GeBairituMst() START
2015/12/18 13:11:13  TRACE> SqlEXTB0103.GeSqlBairituMst() START
2015/12/18 13:11:13  TRACE> SqlEXTB0103.GeSqlBairituMst() END
2015/12/18 13:11:13  DEBUG> LogicEXTB0103.GeBairituMst() 遷移前倍率マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM BAIRITU_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/10
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GeBairituMst() END
2015/12/18 13:11:13  TRACE> LogicEXTB0103.GetRyokinBairituMst() END
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetBunrui() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectBunrui() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectBunrui() END
2015/12/18 13:11:13  DEBUG> LogicEXTZ0212.GetBunrui() 分類取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    bunrui_nm 
FROM 
    rbunrui_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetBunrui() END
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetRyokin() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectRyokin() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectRyokin() END
2015/12/18 13:11:13  DEBUG> LogicEXTZ0212.GetRyokin() 利用料金取得
■SQL Data :
   Sql Command > select 
    bunrui_cd, 
    ryokin_cd, 
    ryokin_nm, 
    ryokin_hour, 
    ryokin 
FROM 
    riyoryo_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND bunrui_cd = :BunruiCd 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:BunruiCd] 10
      [:Riyobi] 2015/10/10
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetRyokin() END
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetBairitu() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectBairitu() START
2015/12/18 13:11:13  TRACE> SqlEXTZ0212.selectBairitu() END
2015/12/18 13:11:13  DEBUG> LogicEXTZ0212.GetBairitu() 倍率取得
■SQL Data :
   Sql Command > select 
    bairitu_cd, 
    bairitu_nm, 
    bairitu 
FROM 
    bairitu_mst 
WHERE 
    sts = '0' 
    AND shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN kikan_from AND kikan_to
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:11:13  TRACE> LogicEXTZ0212.GetBairitu() END
2015/12/18 13:11:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:16  TRACE> LogicEXTZ0212.ClickBairituCellMain() START
2015/12/18 13:11:16  TRACE> LogicEXTZ0212.SetCheckBairitu() START
2015/12/18 13:11:16  TRACE> LogicEXTZ0212.SetCheckBairitu() END
2015/12/18 13:11:16  TRACE> LogicEXTZ0212.ClickBairituCellMain() END
2015/12/18 13:11:19  TRACE> LogicEXTZ0212.ClickRyokinCellMain() START
2015/12/18 13:11:19  TRACE> LogicEXTZ0212.SetCheckRyokin() START
2015/12/18 13:11:19  TRACE> LogicEXTZ0212.SetCheckRyokin() END
2015/12/18 13:11:19  TRACE> LogicEXTZ0212.ClickRyokinCellMain() END
2015/12/18 13:11:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:21  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:11:21  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:11:21  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:11:21  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:11:21  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:11:21  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:21  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:11:21  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:11:21  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:11:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:22  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:11:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:26  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:11:26  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 13:11:26  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 13:11:26  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:11:26  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:11:26  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:11:26  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:11:26  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 13:11:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:11:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:11:27  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:11:27  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:27  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:11:27  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:11:27  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 13:11:27  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 13:11:27  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 13:11:27  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:27  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 13:11:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:11:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:11:28  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:11:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:11:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:11:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:11:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:11:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:34  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 13:11:34  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 13:11:34  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 13:11:34  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 13:11:34  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/10
2015/12/18 13:11:34  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 13:11:34  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 13:11:34  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 13:11:34  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 13:11:34  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 13:11:34  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:11:34  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 13:11:34  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 13:11:34  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 13:11:34  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 13:11:34  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:11:34  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 13:11:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:11:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:11:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:11:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:11:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:11:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:11:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:12:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:12:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:12:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:12:10  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:12:10  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:12:10  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:12:10  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:12:10  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:12:10  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:12:10  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:12:10  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:12:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:12:10  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:12:10  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:12:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:12:10  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:12:10  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:12:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:12:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:12:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:12:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:12:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:12:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:12:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:12:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:12:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:12:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:12:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:12:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:24  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 13:21:24  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 13:21:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:21:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:21:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:31  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 13:21:31  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 13:21:31  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 13:21:31  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 13:21:31  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 13:21:31  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 13:21:31  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 13:21:31  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 13:21:31  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:21:31  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:21:31  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 13:21:31  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 13:21:31  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 13:21:31  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 13:21:31  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 13:21:31  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 13:21:31  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 13:21:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:21:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:21:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:32  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:32  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 13:21:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:21:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:21:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:21:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:35  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:35  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:35  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:21:35  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:35  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:35  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/09
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/09
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/09
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/09
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/09
2015/12/18 13:21:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:38  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:38  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:21:38  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:38  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:21:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:42  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:21:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:42  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:21:42  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:21:42  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:21:42  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:21:42  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:21:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:42  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:21:42  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:21:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:21:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:21:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:21:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:21:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:21:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:21:44  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:21:44  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:21:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:21:44  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:21:44  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:21:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:21:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:26:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:26:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:26:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:26:40  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:26:40  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:26:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:26:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:26:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:26:49  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 13:26:49  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 13:26:49  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 13:26:49  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 13:26:49  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/10
2015/12/18 13:26:49  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 13:26:49  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 13:26:49  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 13:26:49  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 13:26:49  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 13:26:49  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:26:49  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 13:26:49  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 13:26:49  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 13:26:49  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 13:26:49  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:26:49  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 13:26:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:26:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:26:53  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:26:53  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:26:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:26:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:26:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:26:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:26:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:26:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:26:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:26:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:26:59  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:26:59  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:26:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:26:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:13  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:27:13  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:27:13  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:27:13  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:27:13  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:27:13  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:27:13  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:27:13  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:27:13  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:27:13  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:27:13  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:27:13  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:13  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:27:13  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:13  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:27:18  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:27:18  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:27:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:22  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:27:22  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:27:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:27:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:27:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:27:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:27:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:27:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:27:59  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:27:59  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:27:59  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:27:59  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:27:59  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:27:59  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:27:59  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:27:59  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:27:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:27:59  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 0
2015/12/18 13:27:59  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:28:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:08  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:28:08  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:28:08  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:28:08  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:28:08  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:28:08  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:28:08  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:28:08  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:28:08  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:28:08  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:28:08  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:28:08  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:08  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:28:08  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:08  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:28:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:28:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:29  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:28:29  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 13:28:29  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 13:28:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:28:29  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:28:29  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:28:29  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:28:29  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 13:28:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:28:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:28:30  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:28:30  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:30  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:28:30  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:28:30  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 13:28:30  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 13:28:30  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 13:28:30  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:30  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 13:28:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:28:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:28:31  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:28:31  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:31  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:28:31  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:28:31  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:28:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:28:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:28:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:28:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:28:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:28:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:36  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:28:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:28:36  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:28:36  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:28:36  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:28:36  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:28:36  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:28:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:28:36  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:28:36  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:28:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:28:37  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:28:37  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:28:37  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:28:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:28:37  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:28:37  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:28:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:28:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:28:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:48  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:28:48  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:28:48  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:28:48  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:28:48  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:28:48  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:28:48  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:28:48  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:28:48  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:28:48  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:28:49  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:28:49  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:28:49  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:49  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:28:49  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:28:49  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:28:54  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:28:54  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:28:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:28:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:28:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:28:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:28:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:28:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:28:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:29:01  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:29:01  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:29:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:29:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:29:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:29:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:29:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:29:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:29:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:29:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:29:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:30:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:11  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 13:30:11  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 13:30:11  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 13:30:11  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 13:30:11  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/10
2015/12/18 13:30:11  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 13:30:11  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 13:30:11  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 13:30:11  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 13:30:11  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 13:30:11  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:30:11  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 13:30:11  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 13:30:11  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 13:30:11  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 13:30:11  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
2015/12/18 13:30:11  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 13:30:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:30:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:30:18  TRACE> LogicEXTZ0209.InputCheck() START
2015/12/18 13:30:18  TRACE> LogicEXTZ0209.InputCheck() END
2015/12/18 13:30:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:18  TRACE> LogicEXTZ0209.GetTax() START
2015/12/18 13:30:18  TRACE> sqlEXTZ0209.selectTax() START
2015/12/18 13:30:18  TRACE> sqlEXTZ0209.selectTax() END
2015/12/18 13:30:18  TRACE> LogicEXTZ0209.GetTax() TAX = 0.08
2015/12/18 13:30:18  TRACE> LogicEXTZ0209.GetTax() END
2015/12/18 13:30:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:22  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:30:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:30:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:30:22  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:30:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:30:22  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:30:22  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:22  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:22  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:30:22  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:30:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:30:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:30:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:33  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:30:33  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 13:30:33  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 13:30:33  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:30:33  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:30:33  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:30:33  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:30:33  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 13:30:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:30:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:30:34  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:30:34  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:34  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:30:34  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:30:34  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 13:30:34  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 13:30:34  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 13:30:34  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 13:30:34  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 13:30:35  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 13:30:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:30:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:30:35  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:30:35  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:35  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:30:35  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:30:35  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:30:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:30:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:30:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:30:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:37  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:37  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:37  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:30:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:30:37  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:30:37  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:30:37  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:30:37  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:30:37  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:30:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:30:37  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:30:37  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:30:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:30:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:30:38  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:30:38  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:30:38  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:30:38  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:30:38  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:30:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:30:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:30:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:30:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:30:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:30:45  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:30:45  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:30:45  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:30:45  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:30:45  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:30:45  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:30:45  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:30:45  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:30:45  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:30:45  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:30:45  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:30:45  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:45  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:30:45  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:30:45  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:31:07  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:31:07  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:31:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:12  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:31:12  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:31:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:31:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:31:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:31:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:31:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:31:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:31:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:31:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:31:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:31:18  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:31:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:31:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:31:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:31:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:31:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:31:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:31:21  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:31:21  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:31:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:31:21  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:31:21  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:31:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:29  TRACE> LogicEXTB0103.CancellSeikyu() START
2015/12/18 13:31:29  TRACE> SqlEXTB0103.updateCancellSeikyu() START
2015/12/18 13:31:29  TRACE> LogicEXTB0103.CancellSeikyu() END
2015/12/18 13:31:33  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:31:33  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:31:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:31:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:31:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:31:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:31:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:31:59  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() START
2015/12/18 13:31:59  TRACE> LogicEXTB0103.GetFutaiSetubiMst() START
2015/12/18 13:31:59  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() START
2015/12/18 13:31:59  TRACE> SqlEXTB0103.GeSqlFutaiSetubiMst() END
2015/12/18 13:31:59  DEBUG> LogicEXTB0103.GetFutaiSetubiMst() 遷移前付帯設備マスタ取得
■SQL Data :
   Sql Command > SELECT COUNT(*) 
FROM FUTAI_MST 
WHERE :RIYOUBI BETWEEN KIKAN_FROM AND KIKAN_TO 
 AND  STS = '0' 
 AND  SHISETU_KBN = '1' 
   Parameters Data > 
      [RIYOUBI] 2015/10/09
2015/12/18 13:31:59  TRACE> LogicEXTB0103.GetFutaiSetubiMst() END
2015/12/18 13:31:59  TRACE> LogicEXTB0103.GetFutaiSetubiInfMst() END
2015/12/18 13:31:59  TRACE> LogicEXTZ0209.GetBunrui() START
2015/12/18 13:31:59  TRACE> sqlEXTZ0209.selectBunrui() START
2015/12/18 13:31:59  TRACE> sqlEXTZ0209.selectBunrui() END
2015/12/18 13:31:59  DEBUG> LogicEXTZ0209.GetBunrui() 分類取得
■SQL Data :
   Sql Command > SELECT 
    shisetu_kbn, 
    bunrui_cd, 
    bunrui_nm, 
    notax_flg, 
    kamoku_cd, 
    saimoku_cd, 
    uchi_cd, 
    shosai_cd, 
    karikamoku_cd, 
    kari_saimoku_cd, 
    kari_uchi_cd, 
    kari_shosai_cd, 
    sts, 
    sort 
FROM 
    fbunrui_mst 
WHERE 
    shisetu_kbn = :ShisetuKbn 
AND :Riyobi BETWEEN kikan_from AND kikan_to 
AND sts = '0' 
ORDER BY 
    sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
2015/12/18 13:31:59  TRACE> LogicEXTZ0209.GetBunrui() END
2015/12/18 13:31:59  TRACE> LogicEXTZ0209.GetFutai() START
2015/12/18 13:31:59  TRACE> sqlEXTZ0209.selectFutaiMst() START
2015/12/18 13:31:59  TRACE> sqlEXTZ0209.selectFutaiMst() END
2015/12/18 13:31:59  DEBUG> LogicEXTZ0209.GetFutai() 分類取得
■SQL Data :
   Sql Command > SELECT 
    m1.bunrui_cd as bunrui_cd, 
    m1.futai_cd, 
    m1.futai_nm, 
    m1.tanka as tanka, 
    m1.tani as tani, 
    m1.sort as sort, 
    m2.bunrui_nm as bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
    ,0 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
WHERE 
    m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
2015/12/18 13:31:59  TRACE> LogicEXTZ0209.GetFutai() END
2015/12/18 13:31:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:31:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:32:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:23  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:32:23  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 13:32:23  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 13:32:23  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:32:23  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:32:23  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:32:23  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:32:23  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 13:32:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:32:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:32:24  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:32:24  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:24  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:32:25  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 13:32:25  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerTicket() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.registerTicket() START
2015/12/18 13:32:25  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    TICKET_TBL(yoyaku_no, seq, ticket_nm, ticket_kin, add_dt, add_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    :seq, 
    :TicketNm, 
    :TicketKin, 
    current_timestamp, 
    :AddUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:TicketNm] 指定席
      [:TicketKin] 
      [:AddUserCd] USN001
      [:Seq] 2
2015/12/18 13:32:25  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 13:32:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:32:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:32:25  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:32:25  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:25  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:32:25  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:32:25  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:32:25  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:32:25  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:32:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:32:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:28  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:32:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:32:28  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:32:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:32:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:32:28  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:32:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:32:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:32:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:32:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:32:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:32:30  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:32:30  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:32:30  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:32:30  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:32:30  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:32:30  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:32:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:32:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:32:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:32:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:32:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:32:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:32:35  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:32:35  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:32:35  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:32:35  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:32:35  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:32:35  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:32:35  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:32:35  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:32:35  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:32:35  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:32:35  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:34:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:34:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:34:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:34:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:34:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:34:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:34:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:34:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:34:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:34:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:34:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:34:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:34:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:34:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:34:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:43  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 13:40:43  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 13:40:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:40:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:40:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:40:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:40:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:40:52  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 13:40:52  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 13:40:52  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 13:40:52  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 13:40:52  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 13:40:52  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 13:40:52  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 13:40:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 13:40:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:40:52  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:40:52  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 13:40:52  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 13:40:52  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 13:40:52  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 13:40:52  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 13:40:52  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 13:40:52  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 13:40:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:40:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:40:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:40:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:40:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:40:53  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:40:53  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:53  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:40:53  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:40:53  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 13:40:53  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:40:53  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:40:53  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:53  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:53  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:40:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:40:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:40:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:40:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:40:55  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:40:55  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:55  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:40:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:40:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:40:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:55  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:55  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:40:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:40:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:40:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:40:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:40:56  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:40:56  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:40:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:40:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:40:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:40:57  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:40:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:57  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:40:57  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:40:57  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:40:57  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:40:57  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:40:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:57  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:40:57  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:40:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:40:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:40:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:40:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:40:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:40:59  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:40:59  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:40:59  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:40:59  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:40:59  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:40:59  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:40:59  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:40:59  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:41:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:41:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:41:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:41:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:41:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:41:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:41:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:41:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:41:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:41:14  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:41:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:41:14  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:41:14  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:41:14  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:41:14  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:41:14  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:41:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:41:14  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:41:14  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:41:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:41:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:41:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:41:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:41:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:41:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:41:16  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:41:16  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:41:16  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:41:16  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:16  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:41:16  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:41:16  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:41:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:41:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:41:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:41:17  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:41:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:41:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:41:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:41:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:41:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:41:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:41:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:09  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:09  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:09  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:09  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:09  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:09  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:09  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:09  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:11  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:11  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:11  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:11  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:11  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:11  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:14  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:14  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:14  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:14  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:14  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:15  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:43:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:16  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:16  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:16  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:17  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:17  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:18  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:18  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:18  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:43:18  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:18  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:18  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:18  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:43:18  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:18  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:18  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:18  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:Riyobi] 2015/10/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/25
      [:SYANAI] 1
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00149' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:24  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:24  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 13:43:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:24  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:24  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:26  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:26  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:26  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:26  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:26  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:26  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:Riyobi] 2015/10/26
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/26
      [:SYANAI] 1
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00148' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:27  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:27  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 13:43:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:27  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:27  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:29  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:29  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:29  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:29  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:29  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:43:29  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:29  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:29  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:29  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:29  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:43:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:43:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:36  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:36  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:43:36  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:36  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:36  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:43:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:40  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:43:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:40  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:43:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:43:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:43:40  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:43:40  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:43:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:43:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:43:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:43:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:43:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:43:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:43:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:43:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = 'E03245' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:43:43  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:43:43  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 13:43:43  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:43:43  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:43:43  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:43:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:43:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:44:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:44:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:44:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:44:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:44:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:44:36  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:44:36  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:44:36  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:44:36  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:44:36  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:44:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:44:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:44:36  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:44:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 13:44:36  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:44:36  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 13:44:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:45:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:45:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:45:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:45:39  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:45:39  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:45:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:45:39  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:45:39  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:45:39  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:45:39  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:45:39  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:45:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:45:39  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:45:39  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:45:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:45:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:45:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:45:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:45:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:45:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:45:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:45:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:45:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:45:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:45:41  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:41  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:45:41  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:45:41  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:45:42  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:45:42  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 13:45:42  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:45:42  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:45:42  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:45:42  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:45:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:45:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:46:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:46:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:46:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:46:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:46:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:46:02  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:46:02  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:46:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:46:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:46:02  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:46:02  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:46:02  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:46:02  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:46:02  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:46:02  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 13:46:02  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:47:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:47:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:06  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:47:06  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:06  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:47:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:47:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:47:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:06  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:06  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:47:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:47:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:47:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:47:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:47:07  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:47:07  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:47:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:07  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:47:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:47:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:47:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 13:47:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:47:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:47:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:47:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:47:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:47:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:47:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:47:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:47:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:47:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:47:15  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:47:15  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:47:15  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:47:15  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:47:15  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:47:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:47:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:47:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:47:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:47:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:47:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:47:33  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:47:33  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:47:33  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:47:33  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:47:33  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:47:33  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:47:33  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:47:33  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:47:34  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:47:34  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:47:34  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:47:34  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:47:34  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:47:34  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:47:34  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:34  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:47:34  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:47:34  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:49:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:21  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:21  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:21  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:21  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:21  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:21  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 2
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00002' 
AND seikyu_irai_no = 'E00152' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:24  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:24  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 13:49:24  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:24  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:24  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:28  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:28  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:28  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:29  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:29  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:49:29  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:29  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:29  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:31  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:31  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:32  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:32  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:32  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:32  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:32  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:32  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 2
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00019' 
AND seikyu_irai_no = 'E00352' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:33  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:33  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 13:49:33  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:33  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:33  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:35  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:35  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:35  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:35  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:35  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:35  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:35  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:35  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:35  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:36  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:36  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 13:49:36  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:36  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:36  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:38  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:38  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:38  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:38  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:38  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:38  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:38  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:38  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:41  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:41  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:41  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:41  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:51  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:51  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:51  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:49:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:51  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:51  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:49:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:54  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:49:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:54  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:49:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:49:54  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:49:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:49:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:49:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:49:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:49:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:49:54  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:49:54  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:49:54  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:49:54  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:49:54  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:54  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:49:54  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:49:54  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:SeikyuIraiNo] E02467
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = 'E02467' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:49:55  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:49:55  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:49:55  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:49:55  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:49:55  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:49:55  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:49:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:49:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:50:00  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 13:50:00  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:50:00  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:50:00  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:50:00  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 13:50:00  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 13:50:00  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 13:50:00  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 13:50:00  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 13:50:00  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:00  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 13:50:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:07  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 13:50:07  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 13:50:07  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 13:50:07  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 13:50:07  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 13:50:07  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 13:50:07  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 13:50:07  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 13:50:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:50:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:50:09  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 13:50:09  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 13:50:09  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 13:50:09  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerTicket() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.registerTicket() START
2015/12/18 13:50:09  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > INSERT INTO 
    TICKET_TBL(yoyaku_no, seq, ticket_nm, ticket_kin, add_dt, add_user_cd)
VALUES 
    ( 
    :YoyakuNo, 
    :seq, 
    :TicketNm, 
    :TicketKin, 
    current_timestamp, 
    :AddUserCd 
    ) 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:TicketNm] 指定席
      [:TicketKin] 
      [:AddUserCd] USN001
      [:Seq] 2
2015/12/18 13:50:09  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 13:50:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:50:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:50:09  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:50:09  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:09  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:50:09  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:50:09  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:50:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:50:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:50:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:50:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:50:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:11  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:50:11  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:50:11  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:50:11  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:50:11  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:50:11  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:50:11  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:50:11  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:50:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:50:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:50:12  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:50:12  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:50:12  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:50:12  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:50:12  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:50:12  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:12  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:50:14  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:50:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:20  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:50:20  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:50:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:50:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:50:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:50:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:50:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:50:22  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:50:22  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:52:30  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:52:30  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:52:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:52:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:52:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:52:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:52:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:52:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:52:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:52:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:52:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:52:35  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 13:52:35  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 13:52:35  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:52:35  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:52:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:52:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:52:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:52:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:52:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:52:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:52:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:54:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:54:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:54:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:54:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:54:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:54:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:54:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:54:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:54:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:54:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:54:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:54:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:54:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:54:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:54:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:54:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:54:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:54:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:54:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:24  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 13:59:24  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 13:59:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:29  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 13:59:29  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 13:59:29  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 13:59:29  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 13:59:29  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 13:59:29  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 13:59:29  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 13:59:29  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 13:59:29  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:59:29  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 13:59:29  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 13:59:29  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 13:59:29  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 13:59:29  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 13:59:29  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 13:59:29  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 13:59:29  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 13:59:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:31  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:31  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:31  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:31  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 13:59:31  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:31  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:31  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:31  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:31  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:31  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:33  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:33  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:33  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:33  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 13:59:33  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:33  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:33  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:33  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:34  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:34  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:59:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:59:36  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:59:36  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:59:36  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:59:36  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:36  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:59:36  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:59:36  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:59:36  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00129
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/10
      [:SYANAI] 2
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:59:37  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:59:37  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:37  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:59:37  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:59:37  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00129
2015/12/18 13:59:37  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:59:37  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:59:37  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:59:37  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:59:37  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:37  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:40  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:40  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:40  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:40  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:59:40  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:40  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:40  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:40  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:Riyobi] 2015/10/09
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00120
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/09
      [:SYANAI] 1
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151009
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00120' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:59:41  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:59:41  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00120
2015/12/18 13:59:41  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:59:41  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:59:41  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:59:41  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:41  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:43  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:43  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:59:43  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:59:46  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:59:46  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 13:59:46  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:59:46  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:59:46  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:59:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:49  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:49  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:49  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:49  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:59:49  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:49  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:49  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:49  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 13:59:50  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 13:59:50  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 13:59:50  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 13:59:50  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 13:59:50  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 13:59:50  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:50  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 13:59:50  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 13:59:50  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 13:59:50  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:50  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 13:59:50  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 13:59:50  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:51  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:Riyobi] 2015/10/16
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/16
      [:SYANAI] 1
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151014
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00130
      [:SeikyuIraiNo] E03568
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00130' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 13:59:51  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 13:59:51  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00130
2015/12/18 13:59:51  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 13:59:51  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 13:59:51  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 13:59:51  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 13:59:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 13:59:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 13:59:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 13:59:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 13:59:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 13:59:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 13:59:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 13:59:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 13:59:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 13:59:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 13:59:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 13:59:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 13:59:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:Riyobi] 2015/10/25
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00149
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/25
      [:SYANAI] 1
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151025
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00149' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:01  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:01  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00149
2015/12/18 14:00:01  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:01  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:01  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:03  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:03  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:03  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:03  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:03  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:03  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:03  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:03  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:03  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:03  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:04  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:Riyobi] 2015/10/26
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00148
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/26
      [:SYANAI] 1
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151026
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00148' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:04  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:04  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00148
2015/12/18 14:00:04  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:04  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:04  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:06  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:07  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:07  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:07  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:07  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:07  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:07  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:07  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:07  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:07  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:09  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:09  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:09  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:09  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:09  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:Riyobi] 2015/10/06
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:09  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:09  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00002
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/06
      [:SYANAI] 2
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:09  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:10  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151006
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:10  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:10  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00002' 
AND seikyu_irai_no = 'E00152' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:10  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:10  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00002
2015/12/18 14:00:10  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:10  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:10  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:10  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:12  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:12  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:12  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:12  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:12  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:12  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:12  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:12  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:12  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:13  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:13  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:13  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:13  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:13  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:13  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:14  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:14  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:14  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:14  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:14  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00016
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00016' 
AND seikyu_irai_no = 'E00202' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:14  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:14  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00016
2015/12/18 14:00:14  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:14  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:14  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:14  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:15  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:16  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:16  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:16  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:16  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:16  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:16  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:16  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:16  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:16  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:16  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:16  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:16  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:16  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:16  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:16  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:16  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 2
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00019' 
AND seikyu_irai_no = 'E00352' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:17  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:00:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:19  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:19  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:19  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:19  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:19  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:19  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:19  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:19  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:19  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:19  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:19  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:20  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:00:20  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:20  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:20  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:00:20  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:20  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:20  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:20  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:00:20  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:20  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:20  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:20  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:21  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:21  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:21  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:21  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:21  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:00:21  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:21  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:00:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:26  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:26  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:26  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:26  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:26  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:00:26  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:26  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:26  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:26  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:00:28  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:00:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:00:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:00:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:00:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:00:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:00:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:00:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:00:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:00:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:00:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:00:41  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:00:41  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:00:41  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:00:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:00:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:00:41  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:00:41  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:00:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:00:41  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:05  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 14:01:05  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 14:01:05  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:01:05  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:01:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:11  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 14:01:11  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 14:01:11  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 14:01:11  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 14:01:11  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 14:01:11  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 14:01:11  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 14:01:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 14:01:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:01:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:01:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 14:01:11  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 14:01:11  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 14:01:11  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 14:01:11  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 14:01:11  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 14:01:11  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 14:01:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:01:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:01:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:01:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:01:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:01:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:01:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:01:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:01:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:01:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:01:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:01:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:01:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:01:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:01:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:01:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:01:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:01:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:01:17  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:01:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:01:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:01:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:01:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:01:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:01:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:01:22  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:01:22  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:01:22  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:01:22  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:01:22  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:01:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:01:22  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:01:22  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:01:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:01:22  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:22  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:01:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:01:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:25  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:01:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:25  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:01:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:01:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:01:25  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:01:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:01:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:01:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:01:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:01:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:01:27  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:01:27  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:01:27  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:01:27  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:01:27  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:01:27  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:01:27  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:01:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:01:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:01:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:01:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:01:51  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:01:51  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:01:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:01:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:01:51  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:01:51  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:01:51  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:01:51  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:01:51  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:01:51  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:01:51  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:02:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:02:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:02:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:02:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:02:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:02:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:02:27  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:02:27  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:02:27  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:02:27  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:02:27  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:02:27  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:02:27  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:02:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:02:27  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:02:27  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:02:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:02:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:02:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:02:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:02:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = 'E03245' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:02:28  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:02:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:02:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:02:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:02:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:02:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:02:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:02:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:02:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:02:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:02:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:02:36  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:02:36  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:02:36  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:02:36  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:02:36  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:02:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:02:36  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:02:36  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:02:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:36  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:02:36  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:02:36  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:03:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:03:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:03:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:03:28  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:03:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:03:28  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:03:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:03:28  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:03:28  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:03:28  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:03:28  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:03:28  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:03:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:03:28  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:03:28  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:04  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 14:07:04  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 14:07:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:11  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 14:07:11  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 14:07:11  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 14:07:11  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 14:07:11  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 14:07:11  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 14:07:11  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 14:07:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 14:07:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:07:11  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:07:11  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 14:07:11  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 14:07:11  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 14:07:11  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 14:07:11  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 14:07:11  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 14:07:11  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 14:07:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:13  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:13  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:13  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:13  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:07:13  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:13  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:13  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:13  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:15  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:15  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:15  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:15  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:07:15  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:15  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:15  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:15  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:16  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:16  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:16  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:16  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:07:16  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:16  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:16  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:16  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:17  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00018
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 1
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00018' 
AND seikyu_irai_no = 'E00337' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:17  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:17  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00018
2015/12/18 14:07:17  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:17  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:17  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:20  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:20  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:20  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:07:20  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:20  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:20  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:20  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:20  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:20  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:Riyobi] 2015/10/03
      [:ShisetuKbn] 1
      [:SYANAI] 2
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:20  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00019
      [:ShisetuKbn] 1
      [:Riyobi] 2015/10/03
      [:SYANAI] 2
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:20  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:20  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:21  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１０月
      [:Riyobi] 20151003
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:21  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00019' 
AND seikyu_irai_no = 'E00352' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:21  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:21  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00019
2015/12/18 14:07:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:21  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:21  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:21  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:22  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:22  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/10
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:22  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:22  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:07:22  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:22  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:22  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:22  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:25  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:25  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:25  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:25  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:07:25  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:25  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:25  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:25  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:27  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:27  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:27  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:27  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:27  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:27  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:Riyobi] 2015/11/13
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:27  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00133
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/13
      [:SYANAI] 1
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:28  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:28  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:28  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00133' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:28  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:28  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00133
2015/12/18 14:07:28  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:28  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:28  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:28  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:28  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:28  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:32  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:32  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:32  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:32  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:32  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:07:32  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:32  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:32  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:32  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:32  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:33  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:33  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:07:33  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:33  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:33  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:40  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:40  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:40  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:41  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:41  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:41  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:41  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:41  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:07:41  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:41  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:41  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:41  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:42  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:42  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:42  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:42  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:42  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:42  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:42  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:42  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = 'E03245' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:42  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:42  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:43  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:43  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:43  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:43  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:43  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:43  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:51  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:07:51  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:51  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:51  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:51  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:07:51  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:07:51  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:07:51  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:07:51  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:51  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:07:51  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:51  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:07:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:54  TRACE> EXTB0103.inputCheckMain() Chk_START
2015/12/18 14:07:54  TRACE> EXTB0103.inputCheckMain() Chk_END
2015/12/18 14:07:54  TRACE> EXTB0103.inputCheckCondition() Chk_START
2015/12/18 14:07:54  TRACE> LogicEXTZ0202.CheckRiyobiRegister() START
2015/12/18 14:07:54  TRACE> SqlEXTZ0202.cntRiyobi() START
2015/12/18 14:07:54  TRACE> SqlEXTZ0202.cntRiyobi() END
2015/12/18 14:07:54  TRACE> LogicEXTZ0202.CheckRiyobiRegister() END
2015/12/18 14:07:54  TRACE> EXTB0103.inputCheckCondition() Chk_END
2015/12/18 14:07:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:55  TRACE> LogicEXTB0102.DeleteYoyakuList() START
2015/12/18 14:07:55  TRACE> LogicEXTB0102.DeleteYoyakuList() END
■SQL Data :
   Sql Command > DELETE 
FROM 
YDT_TBL 
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:55  TRACE> LogicEXTB0102.InsertYoyakuList() START
2015/12/18 14:07:55  TRACE> LogicEXTB0102.InsertYoyakuList() END
2015/12/18 14:07:55  TRACE> LogicEXTB0103.RegYoyakuDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.deleteFutai() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutai() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutai() END
2015/12/18 14:07:55  TRACE> SqlEXTB0103.deleteFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerFutaiDetail() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.deleteBillPay() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.registerBillPay() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.deleteTimeSchedule() START
2015/12/18 14:07:55  TRACE> SqlEXTB0103.deleteTicket() START
2015/12/18 14:07:55  TRACE> LogicEXTB0103.RegYoyakuDetail() Complate SQL
■SQL Data :
   Sql Command > DELETE FROM TICKET_TBL  
WHERE 
    yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:55  TRACE> LogicEXTB0103.RegYoyakuDetail() END
2015/12/18 14:07:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:55  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:07:55  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:07:55  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:07:55  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:55  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:07:55  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:07:55  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:07:55  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:07:55  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:07:55  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:07:55  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:07:56  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:07:56  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:07:56  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:07:56  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:07:56  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:07:56  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:07:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:07:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:07:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:07:58  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:07:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:58  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:07:58  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:07:58  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:07:58  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:07:58  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:07:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:58  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:07:58  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:07:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:07:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:07:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:07:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:08:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:08:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:08:00  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:08:00  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:08:00  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:08:00  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:08:00  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:08:00  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:00  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:02  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 14:08:02  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 14:08:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:08:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:08:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:08:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:08:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:08:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:08:08  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:08  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:24  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 14:08:24  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 14:08:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:08:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:08:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:08:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:08:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:08:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:08:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:08:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:08:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:08:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:09:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:09:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:09:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:09:10  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:09:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:09:10  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:09:10  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:09:10  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:09:10  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:09:10  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:09:10  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:09:10  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:09:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:09:10  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:09:10  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:10:55  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 14:10:55  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 14:10:55  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:10:55  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:11:24  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 14:11:24  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 14:11:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:11:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:11:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:11:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:11:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:11:32  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 14:11:32  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 14:11:32  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 14:11:32  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 14:11:32  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 14:11:32  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 14:11:32  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 14:11:32  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 14:11:32  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:11:32  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 14:11:32  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 14:11:32  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 14:11:32  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 14:11:32  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 14:11:32  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 14:11:32  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 14:11:32  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 14:11:32  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:11:32  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:11:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:11:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:11:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:11:34  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:11:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:11:34  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:11:34  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:11:34  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:11:34  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:11:34  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:11:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:11:34  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:11:34  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:11:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:11:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:11:42  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:11:42  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:11:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:11:43  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:11:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:11:43  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:11:43  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:11:43  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:11:43  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:11:43  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:11:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:11:43  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:11:43  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:11:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:11:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:11:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:11:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:11:44  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:Riyobi] 2015/11/12
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00147
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/12
      [:SYANAI] 1
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00147' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:11:44  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:11:44  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00147
2015/12/18 14:11:44  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:11:44  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:11:44  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:11:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:11:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:11:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:11:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:11:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:11:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:11:53  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:11:53  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:12:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:12:27  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:12:27  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:12:27  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:12:27  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:12:27  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:12:27  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:12:27  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:12:27  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:12:27  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:27  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:12:27  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:27  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:12:48  TRACE> EXTB0103.inputCheckSeikyuInfoInput() START
2015/12/18 14:12:48  TRACE> EXTB0103.inputCheckSeikyuInfoInput() END
2015/12/18 14:12:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:12:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:12:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:49  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:12:49  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:12:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:12:54  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:12:54  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:12:54  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:12:54  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:12:54  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:12:54  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:12:54  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:12:54  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:12:54  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:54  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:12:54  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151112
2015/12/18 14:12:54  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:12:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:12:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:12:56  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:12:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:12:56  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:12:56  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:12:56  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:12:56  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:12:56  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:12:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:12:56  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:12:56  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:13:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:02  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 1
      [:SYANAI] 1
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:ShisetuKbn] 1
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
      [:YoyakuNo] T00146
      [:SeikyuIraiNo] E03261
      [:ShisetuKbn] 1
      [:Riyobi] 
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00146' 
AND seikyu_irai_no = 'E03261' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 14:13:02  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 14:13:02  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00146
2015/12/18 14:13:02  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 14:13:02  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 14:13:02  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 14:13:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:13:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:13:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 14:13:15  TRACE> LogicEXTB0103.WeekDayCheck() START
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetSelectHolidayMst() START
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetSelectHoliday() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.GetHolidayMst() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.GetHolidayMst() END
2015/12/18 14:13:15  DEBUG> LogicEXTB0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 14:13:15  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 14:13:15  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 14:13:15  TRACE> LogicEXTB0103.UpFutai() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectFutaiHeadderUp() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectFutaiHeadderUp() END
2015/12/18 14:13:15  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectFutaiDetailUp() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectFutaiDetailUp() END
2015/12/18 14:13:15  DEBUG> LogicEXTB0103.UpFutai() 付帯情報取得
2015/12/18 14:13:15  TRACE> LogicEXTB0103.UpFutai() END
2015/12/18 14:13:15  TRACE> LogicEXTB0103.CalcExasRiyoryo() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasRiyoryoUp() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasRiyoryoUp() END
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasFutaiUp() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> SqlEXTB0103.selectExasFutaiUp() END
2015/12/18 14:13:15  DEBUG> LogicEXTB0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:13:15  TRACE> LogicEXTB0103.CalcExasRiyoryo() END
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:45  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 14:13:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:13:45  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/11
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 14:13:45  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 14:13:45  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:13:45  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 14:13:45  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 14:13:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:13:45  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 14:13:45  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 14:13:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:48  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:13:48  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:13:48  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:13:48  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:13:48  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:13:48  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:13:48  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:13:48  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:13:48  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:13:48  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:13:48  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:13:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:50  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:Riyobi] 2015/12/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00129
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/14
      [:SYANAI] 1
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00129
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151213
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:13:50  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:13:50  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00129' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 2
2015/12/18 14:13:50  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:13:50  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:13:50  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:13:50  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:13:50  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:55  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:55  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:55  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:13:55  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:13:55  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:13:55  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:13:55  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:13:55  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:13:55  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:13:55  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:13:55  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:13:57  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:13:57  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:13:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:57  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:13:57  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:13:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:13:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00132
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00132
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00132
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00132
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00132
      [:Riyobi] 2015/12/11
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00132
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/11
      [:SYANAI] 1
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00132
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151211
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151211
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:13:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:13:58  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00132' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:13:58  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:13:58  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:13:58  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:13:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:13:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:00  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:00  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:14:00  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:14:00  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:14:00  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:14:00  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:14:00  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:14:00  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:00  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:00  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:14:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:01  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00131
      [:Riyobi] 2015/12/10
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00131
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/10
      [:SYANAI] 1
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:01  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:01  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00131' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:14:01  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:14:01  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:14:01  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:14:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:14:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:09  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:09  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:09  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:14:09  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:14:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:14:09  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:14:09  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:14:10  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:14:10  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:14:10  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:14:10  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:14:10  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:10  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:10  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:14:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:15  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:14:15  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:14:16  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:14:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:14:16  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:14:16  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:14:16  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:16  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:16  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:14:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:Riyobi] 2015/11/06
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/06
      [:SYANAI] 1
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:18  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:18  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00117' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:14:18  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:14:18  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:14:18  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:14:18  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:14:18  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:21  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:14:21  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:14:21  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:14:21  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:14:21  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:14:21  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:14:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:21  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:14:21  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:14:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:14:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00127
      [:Riyobi] 2015/11/30
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00127
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/30
      [:SYANAI] 1
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:14:24  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:14:24  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00127' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:14:24  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:14:24  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:14:24  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:14:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:14:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:14:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:14:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:14:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:14:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:14:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:15:47  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:15:47  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:15:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:15:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:15:47  TRACE> LogicEXTC0103.WeekDayCheck() START
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetSelectHoliday() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.GetHolidayMst() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.GetHolidayMst() END
2015/12/18 14:15:47  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:15:47  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:15:47  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:15:47  TRACE> LogicEXTC0103.UpFutai() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2015/12/18 14:15:47  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2015/12/18 14:15:47  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:15:47  TRACE> LogicEXTC0103.UpFutai() END
2015/12/18 14:15:47  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:15:47  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2015/12/18 14:15:47  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:15:47  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:49  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:16:49  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:16:49  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:16:49  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:16:49  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:16:49  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:16:49  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:16:49  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:16:49  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:16:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:52  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00094
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00094
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00094
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00094
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00094
      [:Riyobi] 2015/11/19
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] S00094
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/19
      [:SYANAI] 1
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00094
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151118
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:16:52  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:16:52  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00094' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:16:52  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:16:52  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:16:52  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:16:52  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:16:52  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:54  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:16:54  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:16:54  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:16:54  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:16:54  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:16:54  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:16:54  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:16:54  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:16:54  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:16:55  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:16:55  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:16:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:16:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:16:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:16:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00126
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00126
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:16:56  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:16:56  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00126' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:16:56  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:16:56  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:16:56  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:16:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:16:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:19  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:19  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:19  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:19  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:19  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:19  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:19  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:19  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:19  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:17:19  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:19  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:19  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:19  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:19  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:Riyobi] 2015/11/06
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/06
      [:SYANAI] 1
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:21  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:21  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00117' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:21  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:21  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:21  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:23  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:23  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:17:23  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:23  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:27  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:27  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:27  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:27  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:27  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:27  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:27  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:27  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:27  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:Riyobi] 2015/10/07
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/07
      [:SYANAI] 1
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:SeikyuIraiNo] E02541
      [:ShisetuKbn] 2
      [:Riyobi] 
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:29  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:29  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00116' 
AND seikyu_irai_no = 'E02541' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:29  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:29  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:29  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:32  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:32  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:32  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:32  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:32  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:32  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:32  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:32  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:32  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:32  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:32  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:32  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:32  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:32  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:33  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:33  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:33  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:SeikyuIraiNo] E02511
      [:ShisetuKbn] 2
      [:Riyobi] 
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:33  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:33  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00108' 
AND seikyu_irai_no = 'E02511' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:33  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:33  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:33  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:33  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:33  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:35  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:35  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:35  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:35  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:35  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:35  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:35  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:35  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:35  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:35  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:35  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00128
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00128
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00128
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00128
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00128
      [:Riyobi] 2015/10/11
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00128
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/11
      [:SYANAI] 1
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00128
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151011
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151011
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:36  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:36  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00128' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:36  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:36  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:36  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:36  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:36  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:38  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:39  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:39  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:39  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:39  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:39  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:39  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:39  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:39  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00036
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00036
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00036
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00036
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00036
      [:Riyobi] 2015/10/01
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00036
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/01
      [:SYANAI] 1
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00036
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151001
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:43  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:43  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00036' 
AND seikyu_irai_no = 'E00402' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:43  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:43  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:43  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:43  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:43  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:45  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:46  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:46  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:46  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:46  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:46  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:46  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:46  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:46  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:46  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:46  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:46  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:46  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:47  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:47  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:47  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:Riyobi] 2015/10/05
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/05
      [:SYANAI] 1
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00108
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151005
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00108
      [:SeikyuIraiNo] E02511
      [:ShisetuKbn] 2
      [:Riyobi] 
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:47  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:47  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00108' 
AND seikyu_irai_no = 'E02511' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:47  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:47  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:47  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:47  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:47  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:53  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:53  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:53  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:53  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:53  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:53  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:53  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:53  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:53  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:54  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:Riyobi] 2015/10/07
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/07
      [:SYANAI] 1
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:SeikyuIraiNo] E02541
      [:ShisetuKbn] 2
      [:Riyobi] 
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:54  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:54  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00116' 
AND seikyu_irai_no = 'E02541' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:54  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:54  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:54  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:56  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:17:56  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:17:57  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:17:57  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:17:57  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:17:57  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:17:57  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:57  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:17:57  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:17:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:17:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:17:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:17:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:17:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:17:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00125
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00125
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00125
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00125
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00125
      [:Riyobi] 2015/10/10
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00125
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/10
      [:SYANAI] 1
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00125
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:17:58  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:17:58  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00125' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:17:58  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:17:58  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:17:58  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:17:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:17:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:18:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:18:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:18:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:18:02  TRACE> EXTC0103.inputCheckSeikyuInfoInput() START
2015/12/18 14:18:02  TRACE> EXTC0103.inputCheckSeikyuInfoInput() END
2015/12/18 14:18:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:18:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:18:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:18:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:18:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:18:07  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:18:07  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:18:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:07  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:07  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:18:07  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:18:07  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:18:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:18:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:18:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:18:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:18:25  TRACE> LogicEXTC0103.WeekDayCheck() START
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetSelectHoliday() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.GetHolidayMst() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.GetHolidayMst() END
2015/12/18 14:18:25  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:18:25  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:18:25  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:18:25  TRACE> LogicEXTC0103.UpFutai() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2015/12/18 14:18:25  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2015/12/18 14:18:25  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:18:25  TRACE> LogicEXTC0103.UpFutai() END
2015/12/18 14:18:25  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:18:25  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2015/12/18 14:18:25  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１０月
      [:Riyobi] 20151010
2015/12/18 14:18:25  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:16  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:16  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:16  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:16  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:16  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:19:16  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:16  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:16  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:16  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:16  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:18  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:18  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:18  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:18  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:18  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:18  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:18  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:18  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:20  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00105
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00105
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00105
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00105
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00105
      [:Riyobi] 2015/11/13
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] S00105
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/13
      [:SYANAI] 1
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00105
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151113
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:20  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:20  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00105' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:20  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:20  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:20  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:20  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:20  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:23  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:23  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:23  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:23  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:23  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:23  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:23  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:23  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:23  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:24  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:24  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:24  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:24  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:24  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00126
      [:Riyobi] 2015/11/14
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00126
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/14
      [:SYANAI] 1
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00126
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151114
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:24  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:24  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00126' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:24  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:24  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:24  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:24  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:24  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:26  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:26  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:26  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:26  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:26  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:26  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:26  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:26  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:26  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:29  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:29  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:29  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:29  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:29  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:29  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:29  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:29  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:29  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:19:29  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:Riyobi] 2015/11/06
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00117
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/06
      [:SYANAI] 1
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:29  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00117
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:29  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:29  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151106
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:30  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:19:30  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:30  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:30  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:30  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00117' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:30  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:30  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:30  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:30  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:30  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:30  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:31  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:31  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:31  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:31  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:31  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:31  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:31  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:31  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:31  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:33  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:33  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:34  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:34  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:34  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00127
      [:Riyobi] 2015/11/30
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00127
      [:ShisetuKbn] 2
      [:Riyobi] 2015/11/30
      [:SYANAI] 1
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00127
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１１月
      [:Riyobi] 20151130
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:34  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:34  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00127' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:34  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:34  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:34  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:34  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:34  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:36  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:36  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:36  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:36  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:36  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:36  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:36  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:36  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:36  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:36  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:39  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:39  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:39  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:39  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:39  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:39  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:39  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:39  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:19:39  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:39  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:39  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:39  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:39  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:41  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:41  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:41  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:41  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:41  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:41  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:41  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:41  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:41  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:19:41  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:Riyobi] 2015/10/07
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:ShisetuKbn] 2
      [:Riyobi] 2015/10/07
      [:SYANAI] 1
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:41  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00116
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:41  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:41  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:42  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
      [:YoyakuNo] S00116
      [:SeikyuIraiNo] E02541
      [:ShisetuKbn] 2
      [:Riyobi] 
2015/12/18 14:19:42  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:42  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:42  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:42  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00116' 
AND seikyu_irai_no = 'E02541' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:42  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:42  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:42  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:42  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:42  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:42  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:43  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:43  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:43  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:43  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/10
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/10
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/10
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:43  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:43  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/10
2015/12/18 14:19:43  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:43  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:43  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:43  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:44  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:44  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/11
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/11
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/11
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:44  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:44  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/11
2015/12/18 14:19:44  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:44  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:44  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:44  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:45  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:19:45  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:19:45  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:19:45  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:19:45  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:19:45  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:19:45  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:45  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:19:45  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 14:19:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:19:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:19:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:19:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:19:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:19:56  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetYoyakuData() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectYoyakuData() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectYoyakuData() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetYoyakuData() START_2
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetYoyakuData() END_2
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetYoyakuData() END
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetRiyobiData() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectRiyobiData() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectRiyobiData() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetRiyobiData() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetApproval() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectApprovalReq() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectApprovalReq() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectApprovalRes() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectApprovalRes() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetApproval() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetFutai() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectFutaiHeadder() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectFutaiHeadder() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '2' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] S00131
      [:Riyobi] 2015/12/10
      [:ShisetuKbn] 2
      [:SYANAI] 1
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectFutaiDetail() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectFutaiDetail() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.futai_bunrui_cd, 
    t1.futai_cd, 
    t1.futai_tanka, 
    t1.futai_su, 
    t1.futai_shokei, 
    t1.futai_chosei, 
    t1.futai_kin, 
    t1.futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,COALESCE((CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                               CASE WHEN m2.notax_flg = '0' THEN ROUND((t1.futai_kin * m4.tax_ritu) /100 ,0)
                                    ELSE 0 
                               END 
     END),0)  as tax_kin 
FROM 
    friyo_meisai_tbl t1 
LEFT JOIN futai_mst m1 
    ON t1.futai_bunrui_cd = m1.bunrui_cd 
    AND t1.futai_cd = m1.futai_cd 
    AND m1.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
    AND m1.sts = '0' 
LEFT JOIN fbunrui_mst m2 
    ON t1.futai_bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT JOIN TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT
WHERE 
    t1.yoyaku_no = :YoyakuNo 
    AND t1.yoyaku_dt = :Riyobi 
ORDER BY t1.add_dt 
   Parameters Data > 
      [:YoyakuNo] S00131
      [:ShisetuKbn] 2
      [:Riyobi] 2015/12/10
      [:SYANAI] 1
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetFutai() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetBillReq() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectBillReq() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectBillReq() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] S00131
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetBillReq() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetNyukin() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectNyukin() START
2015/12/18 14:19:56  TRACE> SqlEXTC0103.selectNyukin() END
2015/12/18 14:19:56  DEBUG> LogicEXTC0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'S00131' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 14:19:56  TRACE> LogicEXTC0103.GetNyukin() END
2015/12/18 14:19:56  TRACE> LogicEXTC0102.GetSekininshaList() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectSekininName() START
2015/12/18 14:19:56  TRACE> SqlEXTC0102.setSelectSekininName() END
2015/12/18 14:19:56  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:19:56  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:20:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:20:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:20:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:20:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:20:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:20:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 14:20:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 14:20:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:20:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:20:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:20:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:20:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetTax() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectTax() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectTax() END
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetTax() TAX = 0.08
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetTax() END
2015/12/18 14:20:23  TRACE> LogicEXTC0103.WeekDayCheck() START
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetSelectHolidayMst() START
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetSelectHoliday() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.GetHolidayMst() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.GetHolidayMst() END
2015/12/18 14:20:23  DEBUG> LogicEXTC0103.GetSelectHoliday() 祝祭日
■SQL Data :
   Sql Command > SELECT  COUNT(*) 
FROM HOLIDAY_MST 
WHERE HOLIDAY_DT = :HOLIDAY_DT 
   Parameters Data > 
      [HOLIDAY_DT] 2016/01/29
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetExasRiyoryo() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasRiyoryo() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasRiyoryo() END
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasFutai() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasFutai() END
2015/12/18 14:20:23  DEBUG> LogicEXTC0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t2.kamoku_nm ASC 
   Parameters Data > 
2015/12/18 14:20:23  TRACE> LogicEXTC0103.GetExasRiyoryo() END
2015/12/18 14:20:23  TRACE> LogicEXTC0103.UpFutai() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectFutaiHeadderUp() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectFutaiHeadderUp() END
2015/12/18 14:20:23  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectFutaiDetailUp() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectFutaiDetailUp() END
2015/12/18 14:20:23  DEBUG> LogicEXTC0103.UpFutai() 付帯情報取得
2015/12/18 14:20:23  TRACE> LogicEXTC0103.UpFutai() END
2015/12/18 14:20:23  TRACE> LogicEXTC0103.CalcExasRiyoryo() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasRiyoryoUp() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasRiyoryoUp() END
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasFutaiUp() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() START
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:20:23  TRACE> SqlEXTC0103.selectExasFutaiUp() END
2015/12/18 14:20:23  DEBUG> LogicEXTC0103.CalcExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] リハスタ２０１５年１２月
      [:Riyobi] 20151210
2015/12/18 14:20:23  TRACE> LogicEXTC0103.CalcExasRiyoryo() END
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:21:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:21:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:21:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 14:21:22  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 14:21:22  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 14:21:22  TRACE> LogicEXTC0101.MakeSpread() START
2015/12/18 14:21:22  TRACE> LogicEXTC0101.GetSpreadData() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectShukusaijitsu() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectYoyakuList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectYoyakuList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '2'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectMikakuYoyakuList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectMikakuCancelWaitList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '2'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectCancelList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
,a.RIYO_KEITAI
,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
,b.SHUTSUEN_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '2'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() START
2015/12/18 14:21:22  TRACE> SqlEXTC0101.setSelectKyukanMainteList() END
2015/12/18 14:21:22  DEBUG> LogicEXTC0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '2'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 14:21:22  TRACE> LogicEXTC0101.GetSpreadData() END
2015/12/18 14:21:22  TRACE> LogicEXTC0101.ViewSpreadData() START
2015/12/18 14:21:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:21:22  TRACE> LogicEXTC0101.ViewSpreadData() END
2015/12/18 14:21:22  TRACE> LogicEXTC0101.MakeSpread() END
2015/12/18 15:30:39  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 15:30:39  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 15:30:39  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:30:39  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:30:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:30:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:30:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:30:44  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 15:30:44  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 15:30:44  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 15:30:44  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 15:30:44  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 15:30:44  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 15:30:44  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 15:30:44  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 15:30:44  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 15:30:44  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 15:30:44  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 15:30:44  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 15:30:44  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 15:30:44  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 15:30:44  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 15:30:44  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 15:30:44  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 15:30:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:30:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:30:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:30:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:30:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetCmbInf() START
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetMastaALSOKRegister() START
2015/12/18 15:30:46  TRACE> SqlEXTY0102.GetCmbRejiMstData() START
2015/12/18 15:30:46  TRACE> SqlEXTY0102.GetCmbRejiMstData() END
2015/12/18 15:30:46  DEBUG> LogicEXTY0102.GetMastaALSOKRegister() ALSOKレジマスタ
■SQL Data :
   Sql Command > SELECT 
 REGI_CD 
,REGI_NM 
FROM  ALSOK_TENPO_MST 
WHERE COALESCE(DEPOSIT_KBN,'0') = '2' 
ORDER BY REGI_CD 
   Parameters Data > 
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetMastaALSOKRegister() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetMastaTenpo() START
2015/12/18 15:30:46  TRACE> SqlEXTY0102.GetCmbTenpMstData() START
2015/12/18 15:30:46  TRACE> SqlEXTY0102.GetCmbTenpMstData() END
2015/12/18 15:30:46  DEBUG> LogicEXTY0102.GetMastaTenpo() 店舗マスタ
■SQL Data :
   Sql Command > SELECT 
 TENPO_CD 
,TENPO_NM 
FROM  TENPO_MST 
ORDER BY TENPO_CD 
   Parameters Data > 
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetMastaTenpo() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.GetCmbInf() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:30:46  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:30:46  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:30:46  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:30:46  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:30:46  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:30:46  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:30:46  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:30:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:30:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:30:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:30:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:30:56  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:30:56  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:30:56  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/15
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:30:56  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:31:01  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:01  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:01  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:01  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:01  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:31:01  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:31:03  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:03  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:03  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:03  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:03  TRACE> LogicEXTZ0101.MakeSpread() START
2015/12/18 15:31:03  TRACE> LogicEXTZ0101.GetSpreadData() START
2015/12/18 15:31:03  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2015/12/18 15:31:03  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2015/12/18 15:31:03  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮未'
    WHEN '2' THEN '仮'
    WHEN '3' THEN '正式'
    WHEN '4' THEN '完了'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN 'スタンディング'
    WHEN '2' THEN '着席'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
 LEFT JOIN BILLPAY_TBL t5
 ON t1.YOYAKU_NO = t5.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:31:03  TRACE> LogicEXTZ0101.GetSpreadData() END
2015/12/18 15:31:03  TRACE> LogicEXTZ0101.MakeSpread() END
2015/12/18 15:31:14  TRACE> LogicEXTZ0101.ClickVwCellMain() START
2015/12/18 15:31:14  TRACE> LogicEXTZ0101.SetCheckAsRadio() START
2015/12/18 15:31:14  TRACE> LogicEXTZ0101.SetCheckAsRadio() END
2015/12/18 15:31:14  TRACE> LogicEXTZ0101.ClickVwCellMain() END
2015/12/18 15:31:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:16  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:31:16  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:31:16  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:31:16  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:31:16  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:31:16  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:31:16  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:31:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:20  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:31:20  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:31:20  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:31:20  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:31:20  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:31:20  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:31:20  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:31:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:38  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:31:38  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:31:38  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:31:38  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:31:38  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 901
2015/12/18 15:31:38  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:31:38  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:31:52  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:31:52  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:31:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:52  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:31:52  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:31:52  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:31:52  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:31:52  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/18
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:31:52  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:32:00  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:00  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:00  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:00  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:02  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:02  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:02  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:02  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:02  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:02  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:02  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:02  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:02  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 901
2015/12/18 15:32:02  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:02  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:32:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:08  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:08  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:08  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:08  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:08  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:32:08  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:08  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:32:09  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:09  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:09  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:13  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:13  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:13  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:13  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:13  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:13  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:13  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 910
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:13  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:13  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:13  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 910
      [YOYSKU_DT] 2015/12/18
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:13  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:32:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:20  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:20  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:20  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:20  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:20  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:20  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2015/12/18
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:20  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:32:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:26  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:26  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:26  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:26  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:26  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:26  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:26  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:26  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:26  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 901
2015/12/18 15:32:26  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:26  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:32:33  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:32:33  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:32:33  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:32:33  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:32:33  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:32:33  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:32:33  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:32:33  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:32:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.DspInputCheck() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.DspInputCheck() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetVwInf() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokDeposit() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GetAlsokDepositInf() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GetAlsokDepositInf() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetAlsokDeposit() ALSOK入金情報表（ＣＳＶ取り込み分）
■SQL Data :
   Sql Command > SELECT 
 A.DEPOSIT_MACHINE_CD AS DEPOSIT_MACHINE_CD ,
 A.SEQ  AS SEQ,
 A.DEPOSIT_KBN AS DEPOSIT_KBN , 
 A.DEPOSIT_DT AS DEPOSIT_DT , 
 A.YOYAKU_NO AS YOYAKU_NO , 
 A.REGISTER_CD AS REGISTER_CD ,
 B.REGI_NM AS REGI_NM ,
 A.TENPO_CD AS TENPO_CD , 
 C.TENPO_NM AS TENPO_NM ,
 A.DEPOSIT_AMOUNT AS DEPOSIT_AMOUNT , 
 A.KEIYAKUSAKI_CD AS KEIYAKUSAKI_CD,  
 B.SHISETSU_KBN AS SHISETU_KBN 
FROM ALSOK_DEPOSIT_TBL A
 LEFT OUTER JOIN ALSOK_TENPO_MST B 
       ON A.REGISTER_CD = B.REGI_CD 
 LEFT OUTER JOIN TENPO_MST C 
       ON A.TENPO_CD = C.TENPO_CD  WHERE DEPOSIT_DT >= :DSP_FROM  AND A.DEPOSIT_KBN = '1'  ORDER BY A.DEPOSIT_DT 
   Parameters Data > 
      [DSP_FROM] 2015/12/06
      [DSP_TO] 
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokDeposit() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetDegitalCash() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GetDegitalCashInf() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GetDegitalCashInf() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetDegitalCash() ALSOK入金情報表（ＣＳＶ取り込み分）
■SQL Data :
   Sql Command > SELECT 
 A.DEPOSIT_MACHINE_CD AS DEPOSIT_MACHINE_CD ,
 A.SEQ  AS SEQ,
 A.DEPOSIT_KBN AS DEPOSIT_KBN , 
 A.DEPOSIT_DT AS DEPOSIT_DT , 
 A.YOYAKU_NO AS YOYAKU_NO , 
 A.REGISTER_CD AS REGISTER_CD ,
 B.REGI_NM AS REGI_NM ,
 A.TENPO_CD AS TENPO_CD , 
 C.TENPO_NM AS TENPO_NM ,
 A.DEPOSIT_AMOUNT AS DEPOSIT_AMOUNT , 
 A.KEIYAKUSAKI_CD AS KEIYAKUSAKI_CD,  
 B.SHISETSU_KBN AS SHISETU_KBN 
FROM ALSOK_DEPOSIT_TBL A
 LEFT OUTER JOIN ALSOK_TENPO_MST B 
       ON A.REGISTER_CD = B.REGI_CD 
 LEFT OUTER JOIN TENPO_MST C 
       ON A.TENPO_CD = C.TENPO_CD  WHERE DEPOSIT_DT >= :DSP_FROM  AND A.DEPOSIT_KBN = '2'  ORDER BY A.DEPOSIT_DT 
   Parameters Data > 
      [DSP_FROM] 2015/12/06
      [DSP_TO] 
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetDegitalCash() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.SetAlsokDeposit() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 004
      [YOYSKU_DT] 2015/12/10
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 004
      [YOYSKU_DT] 2015/12/11
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 005
      [YOYSKU_DT] 2015/12/12
      [YOYAKU_NO] S00003
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 004
      [YOYSKU_DT] 2015/12/12
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 001
      [YOYSKU_DT] 2016/01/05
      [YOYAKU_NO] T00025
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 003
      [YOYSKU_DT] 2016/01/08
      [YOYAKU_NO] T00108
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 003
      [YOYSKU_DT] 2016/01/08
      [YOYAKU_NO] T00108
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 004
      [YOYSKU_DT] 2016/02/05
      [YOYAKU_NO] T00043
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 003
      [YOYSKU_DT] 2016/03/30
      [YOYAKU_NO] T00115
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.SetAlsokDeposit() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.SetDegitalCash() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2015/12/10
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 901
      [YOYSKU_DT] 2015/12/11
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2015/12/12
      [YOYAKU_NO] S00003
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 901
      [YOYSKU_DT] 2015/12/12
      [YOYAKU_NO] T00051
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2015/12/14
      [YOYAKU_NO] T00131
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 901
      [YOYSKU_DT] 2016/01/05
      [YOYAKU_NO] T00025
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/01/05
      [YOYAKU_NO] T00025
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/01/08
      [YOYAKU_NO] T00108
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/01/09
      [YOYAKU_NO] T00108
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/02/05
      [YOYAKU_NO] T00043
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/02/05
      [YOYAKU_NO] S00064
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/02/06
      [YOYAKU_NO] S00064
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:37  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:37  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
UNION 
SELECT 
 C.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN C.SHISETU_KBN = '1' THEN C.SAIJI_NM 
      WHEN C.SHISETU_KBN = '2' THEN C.SHUTSUEN_NM 
 END 
FROM YOYAKU_TBL C 
WHERE C.YOYAKU_NO = :YOYAKU_NO 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 900
      [YOYSKU_DT] 2016/03/30
      [YOYAKU_NO] T00115
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.SetDegitalCash() END
2015/12/18 15:32:37  TRACE> LogicEXTY0102.GetVwInf() END
2015/12/18 15:32:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:44  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:32:44  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:32:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:45  TRACE> LogicEXTZ0101.MakeSpread() START
2015/12/18 15:32:45  TRACE> LogicEXTZ0101.GetSpreadData() START
2015/12/18 15:32:45  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2015/12/18 15:32:45  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2015/12/18 15:32:45  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮未'
    WHEN '2' THEN '仮'
    WHEN '3' THEN '正式'
    WHEN '4' THEN '完了'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN 'スタンディング'
    WHEN '2' THEN '着席'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
 LEFT JOIN BILLPAY_TBL t5
 ON t1.YOYAKU_NO = t5.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:32:46  TRACE> LogicEXTZ0101.GetSpreadData() END
2015/12/18 15:32:46  TRACE> LogicEXTZ0101.MakeSpread() END
2015/12/18 15:32:48  TRACE> LogicEXTZ0101.ClickVwCellMain() START
2015/12/18 15:32:48  TRACE> LogicEXTZ0101.SetCheckAsRadio() START
2015/12/18 15:32:48  TRACE> LogicEXTZ0101.SetCheckAsRadio() END
2015/12/18 15:32:48  TRACE> LogicEXTZ0101.ClickVwCellMain() END
2015/12/18 15:32:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:49  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:32:49  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:32:49  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:32:49  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:32:49  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [REGI_CD] 004
      [YOYSKU_DT] 2015/12/10
2015/12/18 15:32:49  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:32:49  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:32:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:32:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:32:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:32:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:32:58  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:32:58  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:32:58  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:32:58  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:32:58  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 901
2015/12/18 15:32:58  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:32:58  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:33:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:33:11  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:33:11  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:33:11  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/20
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:33:11  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:33:14  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:14  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:14  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:14  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:14  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:33:14  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:33:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:16  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:16  TRACE> LogicEXTZ0101.MakeSpread() START
2015/12/18 15:33:16  TRACE> LogicEXTZ0101.GetSpreadData() START
2015/12/18 15:33:16  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2015/12/18 15:33:16  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2015/12/18 15:33:16  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮未'
    WHEN '2' THEN '仮'
    WHEN '3' THEN '正式'
    WHEN '4' THEN '完了'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN 'スタンディング'
    WHEN '2' THEN '着席'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
 LEFT JOIN BILLPAY_TBL t5
 ON t1.YOYAKU_NO = t5.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:33:16  TRACE> LogicEXTZ0101.GetSpreadData() END
2015/12/18 15:33:16  TRACE> LogicEXTZ0101.MakeSpread() END
2015/12/18 15:33:18  TRACE> LogicEXTZ0101.ClickVwCellMain() START
2015/12/18 15:33:18  TRACE> LogicEXTZ0101.SetCheckAsRadio() START
2015/12/18 15:33:18  TRACE> LogicEXTZ0101.SetCheckAsRadio() END
2015/12/18 15:33:18  TRACE> LogicEXTZ0101.ClickVwCellMain() END
2015/12/18 15:33:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:20  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:33:20  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:33:20  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:33:20  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:33:20  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:33:20  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:33:20  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:33:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:23  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:33:23  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:33:23  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:33:23  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:33:23  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:33:23  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:33:23  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:33:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:31  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:33:31  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:33:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:31  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:33:31  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:33:31  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:33:31  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:33:31  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:33:31  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:33:31  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 901
2015/12/18 15:33:31  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:33:31  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:34:02  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 15:34:02  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 15:34:02  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:34:02  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:34:10  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:34:10  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:10  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:10  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:34:10  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 15:34:10  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 15:34:10  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 15:34:10  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 15:34:10  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 15:34:10  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 15:34:10  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 15:34:10  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 15:34:10  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 15:34:10  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 15:34:10  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 15:34:10  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 15:34:10  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 15:34:10  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 15:34:10  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 15:34:10  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 15:34:10  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 15:34:10  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:34:10  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:34:12  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:34:12  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:34:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:12  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:12  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetCmbInf() START
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetMastaALSOKRegister() START
2015/12/18 15:34:13  TRACE> SqlEXTY0102.GetCmbRejiMstData() START
2015/12/18 15:34:13  TRACE> SqlEXTY0102.GetCmbRejiMstData() END
2015/12/18 15:34:13  DEBUG> LogicEXTY0102.GetMastaALSOKRegister() ALSOKレジマスタ
■SQL Data :
   Sql Command > SELECT 
 REGI_CD 
,REGI_NM 
FROM  ALSOK_TENPO_MST 
WHERE COALESCE(DEPOSIT_KBN,'0') = '2' 
ORDER BY REGI_CD 
   Parameters Data > 
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetMastaALSOKRegister() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetMastaTenpo() START
2015/12/18 15:34:13  TRACE> SqlEXTY0102.GetCmbTenpMstData() START
2015/12/18 15:34:13  TRACE> SqlEXTY0102.GetCmbTenpMstData() END
2015/12/18 15:34:13  DEBUG> LogicEXTY0102.GetMastaTenpo() 店舗マスタ
■SQL Data :
   Sql Command > SELECT 
 TENPO_CD 
,TENPO_NM 
FROM  TENPO_MST 
ORDER BY TENPO_CD 
   Parameters Data > 
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetMastaTenpo() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.GetCmbInf() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:34:13  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:34:13  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:34:13  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:34:13  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.InitForm() START
2015/12/18 15:34:13  TRACE> LogicEXTY0102.VwDipositCmbCre() START
2015/12/18 15:34:13  TRACE> LogicEXTY0102.VwDipositCmbCre() END
2015/12/18 15:34:13  TRACE> LogicEXTY0102.InitForm() END
2015/12/18 15:34:28  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:34:28  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:34:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:28  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:34:28  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:34:28  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:34:28  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:34:28  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/16
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:34:28  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:37:06  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:37:06  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:37:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:06  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:06  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:37:06  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 15:37:06  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 15:37:08  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:37:08  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:37:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:08  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:08  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:37:08  TRACE> LogicEXTZ0101.MakeSpread() START
2015/12/18 15:37:08  TRACE> LogicEXTZ0101.GetSpreadData() START
2015/12/18 15:37:08  TRACE> SqlEXTZ0101.setSelectYoyaku() START
2015/12/18 15:37:08  TRACE> SqlEXTZ0101.setSelectYoyaku() END
2015/12/18 15:37:08  DEBUG> LogicEXTZ0101.GetSpreadData() 
■SQL Data :
   Sql Command > SELECT
DISTINCT
t1.YOYAKU_NO,
CASE t1.YOYAKU_STS
    WHEN '1' THEN '仮未'
    WHEN '2' THEN '仮'
    WHEN '3' THEN '正式'
    WHEN '4' THEN '完了'
END YOYAKU_STS,
t2a.YOYAKU_DT_FROM,
t2a.YOYAKU_DT_TO,
t2b.START_TIME,
t2c.END_TIME,
t1.SAIJI_NM,
CASE t1.RIYO_TYPE
    WHEN '0' THEN '未定'
    WHEN '1' THEN 'スタンディング'
    WHEN '2' THEN '着席'
    WHEN '3' THEN '変則'
    WHEN '4' THEN '催事'
END RIYO_TYPE,
t1.RIYO_NM,
t1.SEKININ_NM,
t3.SHONIN_NINZU,
CASE t4a.RIYO_KIN
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END RIYO_KIN,
CASE
    WHEN t1.FINPUT_STS = '1' THEN '確定'
END FINPUT_STS,
CASE t4b.FUTAI_SETUBI
    WHEN '0' THEN ''
    WHEN '1' THEN '△'
    WHEN '2' THEN '〇'
    WHEN '3' THEN '◎'
END FUTAI_SETUBI,
t1.YOYAKU_STS AS STS_CD
FROM
 YOYAKU_TBL t1
 LEFT JOIN YDT_TBL t2
 ON  t1.YOYAKU_NO = T2.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(YOYAKU_DT) AS YOYAKU_DT_FROM,
             MAX(YOYAKU_DT) AS YOYAKU_DT_TO
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
         GROUP BY YOYAKU_NO
     ) t2a
 ON  t1.YOYAKU_NO = T2a.YOYAKU_NO
 LEFT JOIN
     (   SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             START_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2b
 ON  t2a.YOYAKU_NO = T2b.YOYAKU_NO
 AND t2a.YOYAKU_DT_FROM = T2b.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             YOYAKU_DT,
             END_TIME
         FROM
             YDT_TBL
         WHERE
             SHISETU_KBN = '1'
     ) t2c
 ON  t2a.YOYAKU_NO = T2c.YOYAKU_NO
 AND t2a.YOYAKU_DT_TO = T2c.YOYAKU_DT
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             COUNT(YOYAKU_NO) AS SHONIN_NINZU
         FROM
             CHECK_RIREKI_TBL
         WHERE
             CHECK_STS = '1'
         GROUP BY
             YOYAKU_NO
     ) t3
 ON  t1.YOYAKU_NO = T3.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.RIYO_KIN) RIYO_KIN
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END RIYO_KIN
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '1'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4a
 ON  t1.YOYAKU_NO = t4a.YOYAKU_NO
 LEFT JOIN
     (
         SELECT
             YOYAKU_NO,
             MIN(tmp.FUTAI_SETUBI) FUTAI_SETUBI
         FROM
             (
                 SELECT
                     YOYAKU_NO,
                     CASE
                         WHEN SEIKYU_INPUT_FLG = '0' THEN '0'
                         ELSE CASE
                             WHEN SEIKYU_IRAI_FLG = '0' THEN '1'
                             ELSE CASE
                                 WHEN NYUKIN_INPUT_FLG = '0' THEN '2'
                                 ELSE '3'
                             END
                         END
                     END FUTAI_SETUBI
                 FROM
                     BILLPAY_TBL
                 WHERE
                     SEIKYU_NAIYO = '2'
                 OR  SEIKYU_NAIYO = '3'
             )tmp
        GROUP BY YOYAKU_NO
     ) t4b
 ON t1.YOYAKU_NO = t4b.YOYAKU_NO
 LEFT JOIN BILLPAY_TBL t5
 ON t1.YOYAKU_NO = t5.YOYAKU_NO
WHERE
    t1.SHISETU_KBN = '1' ORDER BY YOYAKU_DT_FROM DESC ,  YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:37:08  TRACE> LogicEXTZ0101.GetSpreadData() END
2015/12/18 15:37:08  TRACE> LogicEXTZ0101.MakeSpread() END
2015/12/18 15:37:14  TRACE> LogicEXTZ0101.ClickVwCellMain() START
2015/12/18 15:37:14  TRACE> LogicEXTZ0101.SetCheckAsRadio() START
2015/12/18 15:37:14  TRACE> LogicEXTZ0101.SetCheckAsRadio() END
2015/12/18 15:37:14  TRACE> LogicEXTZ0101.ClickVwCellMain() END
2015/12/18 15:37:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:37:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:37:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:46  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:37:46  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:37:46  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:37:46  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:37:46  TRACE> SqlEXTY0102.GeSqlYoyakudata() START
2015/12/18 15:37:46  TRACE> SqlEXTY0102.GeSqlYoyakudata() END
2015/12/18 15:37:46  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = (SELECT SHISETSU_KBN FROM ALSOK_TENPO_MST WHERE REGI_CD = :REGI_CD ) 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
2015/12/18 15:37:46  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:37:46  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:38:54  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:38:54  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:38:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:38:54  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:38:54  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:38:54  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:38:54  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:38:54  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:38:54  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:38:54  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:38:54  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:38:54  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:39:59  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:39:59  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:39:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:39:59  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:39:59  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:39:59  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:39:59  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:39:59  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/14
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:39:59  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:05  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:05  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:05  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:05  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:05  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:05  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:05  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/13
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:05  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:11  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:11  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:11  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:11  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:11  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:11  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:11  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/15
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:11  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:15  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:15  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:15  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:15  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:15  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:15  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:15  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/17
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:15  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:21  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:21  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:21  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/18
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:21  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:27  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:27  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:27  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:27  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:27  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:27  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:27  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/12/19
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:27  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:37  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:37  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetCashYoyaku() START
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetAlsokdataCellData() START
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetYoyakudata() START
2015/12/18 15:40:38  TRACE> SqlEXTY0102.GeSqlYoyakudata2() START
2015/12/18 15:40:38  TRACE> SqlEXTY0102.GeSqlYoyakudata2() END
2015/12/18 15:40:38  DEBUG> LogicEXTY0102.GetYoyakudata() 予約情報取得（ＣＳＶ取り込み処理）
■SQL Data :
   Sql Command > SELECT 
 A.YOYAKU_NO AS YOYAKU_NO , 
 CASE WHEN A.SHISETU_KBN = '1' THEN B.SAIJI_NM 
      WHEN A.SHISETU_KBN = '2' THEN B.SHUTSUEN_NM 
 END 
FROM YDT_TBL A 
 INNER JOIN YOYAKU_TBL B 
    ON  A.YOYAKU_NO = B.YOYAKU_NO 
WHERE A.SHISETU_KBN = :SHISETU_KBN 
 AND  A.YOYAKU_DT   = :YOYSKU_DT 
ORDER BY YOYAKU_NO 
   Parameters Data > 
      [SHISETU_KBN] 1
      [YOYSKU_DT] 2015/11/14
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetYoyakudata() END
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetAlsokdataCellData() END
2015/12/18 15:40:38  TRACE> LogicEXTY0102.GetCashYoyaku() END
2015/12/18 15:40:44  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:44  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:44  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:44  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:44  TRACE> LogicEXTY0102.GetRejiShisetuKbn() START
2015/12/18 15:40:44  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() START
2015/12/18 15:40:44  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() START
2015/12/18 15:40:44  TRACE> SqlEXTY0102.GeSqRejiShisetuKbn() END
2015/12/18 15:40:44  DEBUG> LogicEXTY0102.GetRejiShisetuKbndata() レジ施設区分取得
■SQL Data :
   Sql Command > SELECT 
 SHISETSU_KBN  
FROM ALSOK_TENPO_MST 
WHERE REGI_CD = :REGI_CD 
   Parameters Data > 
      [REGI_CD] 900
2015/12/18 15:40:44  TRACE> LogicEXTY0102.GetRejiShisetuKbndata() END
2015/12/18 15:40:44  TRACE> LogicEXTY0102.GetRejiShisetuKbn() END
2015/12/18 15:40:45  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:45  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:45  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:45  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:48  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:48  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:48  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:48  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 15:40:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 15:40:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 15:40:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 15:40:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:00:45  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 16:00:45  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 16:00:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:00:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:00:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:00:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:00:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:00:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:00:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:00:51  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 16:00:51  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 16:00:51  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 16:00:51  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 16:00:51  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 16:00:51  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 16:00:51  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 16:00:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 16:00:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:00:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:00:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 16:00:51  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 16:00:51  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 16:00:51  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 16:00:51  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 16:00:51  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 16:00:51  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 16:00:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:00:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:00:56  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:00:56  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:00:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:00:56  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:00:56  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.InitForm() START
2015/12/18 16:00:57  TRACE> LogicEXTM0101.InitForm() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.GetComboBusho() START
2015/12/18 16:00:57  TRACE> SqlEXTM0101.SetSelectBushoSql() START
2015/12/18 16:00:57  TRACE> SqlEXTM0101.SetSelectBushoSql() END
2015/12/18 16:00:57  DEBUG> LogicEXTM0101.GetComboBusho() 初期表示時コンボボックス取得
■SQL Data :
   Sql Command >  SELECT 
 BUSHO_CD 
,BUSHO_NM 
 FROM 
 BUSHO_MST 
 ORDER BY BUSHO_CD 
   Parameters Data > 
2015/12/18 16:00:57  TRACE> LogicEXTM0101.GetComboBusho() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.ComboBushoSet() START
2015/12/18 16:00:57  TRACE> LogicEXTM0101.ComboBushoSet() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.InitSearch() START
2015/12/18 16:00:57  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() START
2015/12/18 16:00:57  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() END
2015/12/18 16:00:57  DEBUG> LogicEXTM0101.InitSearch() EXシアターユーザー初期表示時検索
■SQL Data :
   Sql Command >  SELECT 
 FALSE as CHANGEKBN 
,t1.USER_CD 
,t1.PW 
,t1.USER_NM 
,t1.MAIL 
,t2.BUSHO_CD 
,CASE WHEN t1.SHONIN_FLG = '1'
 THEN TRUE 
 ELSE FALSE 
 END as SHONIN_FLG 
,CASE WHEN t1.MST_FLG = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as MST_FLG 
,CASE WHEN t1.STS = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as STS 
 ,t1.ADD_DT 
 ,t1.UP_DT 
 ,'1' 
 FROM USER_MST t1 
 LEFT JOIN BUSHO_MST t2
 ON t1.BUSHO_CD = t2.BUSHO_CD 
 WHERE t1.USER_CD <> '000000'  ORDER BY USER_CD 
   Parameters Data > 
2015/12/18 16:00:57  TRACE> LogicEXTM0101.InitSearch() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.SetSheet() START
2015/12/18 16:00:57  TRACE> LogicEXTM0101.CreateBushoCmbBox() START
2015/12/18 16:00:57  TRACE> LogicEXTM0101.CreateBushoCmbBox() END
2015/12/18 16:00:57  TRACE> LogicEXTM0101.SetSheet() END
2015/12/18 16:00:57  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:00:57  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:01:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:01:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:01:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:01:17  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:01:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.InitForm() START
2015/12/18 16:01:17  TRACE> LogicEXTM0101.InitForm() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.GetComboBusho() START
2015/12/18 16:01:17  TRACE> SqlEXTM0101.SetSelectBushoSql() START
2015/12/18 16:01:17  TRACE> SqlEXTM0101.SetSelectBushoSql() END
2015/12/18 16:01:17  DEBUG> LogicEXTM0101.GetComboBusho() 初期表示時コンボボックス取得
■SQL Data :
   Sql Command >  SELECT 
 BUSHO_CD 
,BUSHO_NM 
 FROM 
 BUSHO_MST 
 ORDER BY BUSHO_CD 
   Parameters Data > 
2015/12/18 16:01:17  TRACE> LogicEXTM0101.GetComboBusho() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.ComboBushoSet() START
2015/12/18 16:01:17  TRACE> LogicEXTM0101.ComboBushoSet() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.InitSearch() START
2015/12/18 16:01:17  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() START
2015/12/18 16:01:17  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() END
2015/12/18 16:01:17  DEBUG> LogicEXTM0101.InitSearch() EXシアターユーザー初期表示時検索
■SQL Data :
   Sql Command >  SELECT 
 FALSE as CHANGEKBN 
,t1.USER_CD 
,t1.PW 
,t1.USER_NM 
,t1.MAIL 
,t2.BUSHO_CD 
,CASE WHEN t1.SHONIN_FLG = '1'
 THEN TRUE 
 ELSE FALSE 
 END as SHONIN_FLG 
,CASE WHEN t1.MST_FLG = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as MST_FLG 
,CASE WHEN t1.STS = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as STS 
 ,t1.ADD_DT 
 ,t1.UP_DT 
 ,'1' 
 FROM USER_MST t1 
 LEFT JOIN BUSHO_MST t2
 ON t1.BUSHO_CD = t2.BUSHO_CD 
 WHERE t1.USER_CD <> '000000'  ORDER BY USER_CD 
   Parameters Data > 
2015/12/18 16:01:17  TRACE> LogicEXTM0101.InitSearch() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.SetSheet() START
2015/12/18 16:01:17  TRACE> LogicEXTM0101.CreateBushoCmbBox() START
2015/12/18 16:01:17  TRACE> LogicEXTM0101.CreateBushoCmbBox() END
2015/12/18 16:01:17  TRACE> LogicEXTM0101.SetSheet() END
2015/12/18 16:01:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:01:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:02:29  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 16:02:29  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 16:02:29  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:02:29  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:02:38  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:02:38  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:02:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:02:38  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:02:38  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:02:38  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 16:02:38  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 16:02:38  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 16:02:38  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 16:02:38  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 16:02:38  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 16:02:38  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 16:02:38  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 16:02:38  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:02:38  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:02:38  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 16:02:38  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 16:02:38  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 16:02:38  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 16:02:38  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 16:02:38  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 16:02:38  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 16:02:38  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:02:38  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:02:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:02:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:02:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:02:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:02:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.InitForm() START
2015/12/18 16:02:51  TRACE> LogicEXTM0101.InitForm() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.GetComboBusho() START
2015/12/18 16:02:51  TRACE> SqlEXTM0101.SetSelectBushoSql() START
2015/12/18 16:02:51  TRACE> SqlEXTM0101.SetSelectBushoSql() END
2015/12/18 16:02:51  DEBUG> LogicEXTM0101.GetComboBusho() 初期表示時コンボボックス取得
■SQL Data :
   Sql Command >  SELECT 
 BUSHO_CD 
,BUSHO_NM 
 FROM 
 BUSHO_MST 
 ORDER BY BUSHO_CD 
   Parameters Data > 
2015/12/18 16:02:51  TRACE> LogicEXTM0101.GetComboBusho() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.ComboBushoSet() START
2015/12/18 16:02:51  TRACE> LogicEXTM0101.ComboBushoSet() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.InitSearch() START
2015/12/18 16:02:51  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() START
2015/12/18 16:02:51  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() END
2015/12/18 16:02:51  DEBUG> LogicEXTM0101.InitSearch() EXシアターユーザー初期表示時検索
■SQL Data :
   Sql Command >  SELECT 
 FALSE as CHANGEKBN 
,t1.USER_CD 
,t1.PW 
,t1.USER_NM 
,t1.MAIL 
,t2.BUSHO_CD 
,CASE WHEN t1.SHONIN_FLG = '1'
 THEN TRUE 
 ELSE FALSE 
 END as SHONIN_FLG 
,CASE WHEN t1.MST_FLG = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as MST_FLG 
,CASE WHEN t1.STS = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as STS 
 ,t1.ADD_DT 
 ,t1.UP_DT 
 ,'1' 
 FROM USER_MST t1 
 LEFT JOIN BUSHO_MST t2
 ON t1.BUSHO_CD = t2.BUSHO_CD 
 WHERE t1.USER_CD <> '000000'  ORDER BY USER_CD 
   Parameters Data > 
2015/12/18 16:02:51  TRACE> LogicEXTM0101.InitSearch() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.SetSheet() START
2015/12/18 16:02:51  TRACE> LogicEXTM0101.CreateBushoCmbBox() START
2015/12/18 16:02:51  TRACE> LogicEXTM0101.CreateBushoCmbBox() END
2015/12/18 16:02:51  TRACE> LogicEXTM0101.SetSheet() END
2015/12/18 16:02:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:02:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:05:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:05:20  TRACE> LogicEXTM0101.CheckInputSheet() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:05:20  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:05:30  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:05:30  TRACE> LogicEXTM0101.CheckInputSheet() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:05:30  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:05:50  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:05:50  TRACE> LogicEXTM0101.CheckInputSheet() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:05:50  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:06:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:06:25  TRACE> LogicEXTM0101.CheckInputSheet() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:06:25  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:06:25  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:06:25  TRACE> LogicEXTM0101.CheckInputSheet() END
2015/12/18 16:06:26  TRACE> LogicEXTM0101.SelectCountSameUserData() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetSelectCountSameUserSql() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetSelectCountSameUserSql() END
2015/12/18 16:06:26  DEBUG> LogicEXTM0101.SelectCountSameUserData() 同じユーザー名のデータ有無取得
■SQL Data :
   Sql Command > SELECT 1 
FROM USER_MST 
WHERE USER_CD = :USER_CD 
   Parameters Data > 
      [USER_CD] USN010
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetSelectCountSameUserSql() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetSelectCountSameUserSql() END
2015/12/18 16:06:26  DEBUG> LogicEXTM0101.SelectCountSameUserData() 同じユーザー名のデータ有無取得
■SQL Data :
   Sql Command > SELECT 1 
FROM USER_MST 
WHERE USER_CD = :USER_CD 
   Parameters Data > 
      [USER_CD] USN011
2015/12/18 16:06:26  TRACE> LogicEXTM0101.SelectCountSameUserData() END
2015/12/18 16:06:26  TRACE> LogicEXTM0101.RegUsermstData() START
2015/12/18 16:06:26  TRACE> LogicEXTM0101.Insert() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetInsertUsermstSql() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetInsertUsermstSql() END
2015/12/18 16:06:26  DEBUG> LogicEXTM0101.Insert() ユーザーマスタメンテ新規登録
■SQL Data :
   Sql Command >  INSERT INTO 
 USER_MST 
 ( USER_CD, PW, USER_NM, MAIL, BUSHO_CD, SHONIN_FLG, MST_FLG, STS, ADD_USER_CD, UP_USER_CD, ADD_DT, UP_DT)  VALUES 
 ( :setUserCD 
 , :setPW 
 , :setKanjiName 
 , :setMail 
 , :setBushoCD 
 , :setShoninFlg 
 , :setMst_Flg 
 , :setSts 
 , :setAdd_User_CD 
 , :setUp_User_CD 
 , :setAdd_DT 
 , :setUp_DT ); 
   Parameters Data > 
      [setUserCD] USN010
      [setPW] password
      [setKanjiName] 野比　のび太
      [setMail] gdgd@xxx.co.jp
      [setBushoCD] 002
      [setShoninFlg] 1
      [setMst_Flg] 1
      [setSts] 0
      [setAdd_User_CD] 1234
      [setUp_User_CD] 1234
      [setAdd_DT] 2015/12/18 16:06:26
      [setUp_DT] 2015/12/18 16:06:26
2015/12/18 16:06:26  TRACE> LogicEXTM0101.Insert() END
2015/12/18 16:06:26  TRACE> LogicEXTM0101.Insert() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetInsertUsermstSql() START
2015/12/18 16:06:26  TRACE> SqlEXTM0101.SetInsertUsermstSql() END
2015/12/18 16:06:26  DEBUG> LogicEXTM0101.Insert() ユーザーマスタメンテ新規登録
■SQL Data :
   Sql Command >  INSERT INTO 
 USER_MST 
 ( USER_CD, PW, USER_NM, MAIL, BUSHO_CD, SHONIN_FLG, MST_FLG, STS, ADD_USER_CD, UP_USER_CD, ADD_DT, UP_DT)  VALUES 
 ( :setUserCD 
 , :setPW 
 , :setKanjiName 
 , :setMail 
 , :setBushoCD 
 , :setShoninFlg 
 , :setMst_Flg 
 , :setSts 
 , :setAdd_User_CD 
 , :setUp_User_CD 
 , :setAdd_DT 
 , :setUp_DT ); 
   Parameters Data > 
      [setUserCD] USN011
      [setPW] password
      [setKanjiName] 博多　明太子
      [setMail] wkwk@xxx.co.jp
      [setBushoCD] 002
      [setShoninFlg] 0
      [setMst_Flg] 0
      [setSts] 0
      [setAdd_User_CD] 1234
      [setUp_User_CD] 1234
      [setAdd_DT] 2015/12/18 16:06:26
      [setUp_DT] 2015/12/18 16:06:26
2015/12/18 16:06:26  TRACE> LogicEXTM0101.Insert() END
2015/12/18 16:06:26  TRACE> LogicEXTM0101.RegUsermstData() END
2015/12/18 16:06:27  TRACE> LogicEXTM0101.InitForm() START
2015/12/18 16:06:27  TRACE> LogicEXTM0101.InitForm() END
2015/12/18 16:06:27  TRACE> LogicEXTM0101.InitSearch() START
2015/12/18 16:06:27  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() START
2015/12/18 16:06:27  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() END
2015/12/18 16:06:27  DEBUG> LogicEXTM0101.InitSearch() EXシアターユーザー初期表示時検索
■SQL Data :
   Sql Command >  SELECT 
 FALSE as CHANGEKBN 
,t1.USER_CD 
,t1.PW 
,t1.USER_NM 
,t1.MAIL 
,t2.BUSHO_CD 
,CASE WHEN t1.SHONIN_FLG = '1'
 THEN TRUE 
 ELSE FALSE 
 END as SHONIN_FLG 
,CASE WHEN t1.MST_FLG = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as MST_FLG 
,CASE WHEN t1.STS = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as STS 
 ,t1.ADD_DT 
 ,t1.UP_DT 
 ,'1' 
 FROM USER_MST t1 
 LEFT JOIN BUSHO_MST t2
 ON t1.BUSHO_CD = t2.BUSHO_CD 
 WHERE t1.USER_CD <> '000000'  ORDER BY USER_CD 
   Parameters Data > 
2015/12/18 16:06:27  TRACE> LogicEXTM0101.InitSearch() END
2015/12/18 16:06:27  TRACE> LogicEXTM0101.SetSheet() START
2015/12/18 16:06:27  TRACE> LogicEXTM0101.CreateBushoCmbBox() START
2015/12/18 16:06:27  TRACE> LogicEXTM0101.CreateBushoCmbBox() END
2015/12/18 16:06:27  TRACE> LogicEXTM0101.SetSheet() END
2015/12/18 16:06:36  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:06:36  TRACE> LogicEXTM0101.CheckInputSheet() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.IsMailAddress() START
2015/12/18 16:06:36  TRACE> CommonLogicEXT.IsMailAddress() END
2015/12/18 16:07:04  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:07:04  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:07:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:07:04  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:07:04  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.InitForm() START
2015/12/18 16:07:04  TRACE> LogicEXTM0101.InitForm() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.GetComboBusho() START
2015/12/18 16:07:04  TRACE> SqlEXTM0101.SetSelectBushoSql() START
2015/12/18 16:07:04  TRACE> SqlEXTM0101.SetSelectBushoSql() END
2015/12/18 16:07:04  DEBUG> LogicEXTM0101.GetComboBusho() 初期表示時コンボボックス取得
■SQL Data :
   Sql Command >  SELECT 
 BUSHO_CD 
,BUSHO_NM 
 FROM 
 BUSHO_MST 
 ORDER BY BUSHO_CD 
   Parameters Data > 
2015/12/18 16:07:04  TRACE> LogicEXTM0101.GetComboBusho() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.ComboBushoSet() START
2015/12/18 16:07:04  TRACE> LogicEXTM0101.ComboBushoSet() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.InitSearch() START
2015/12/18 16:07:04  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() START
2015/12/18 16:07:04  TRACE> SqlEXTM0101.SetSelectInitEXTUserSearchSql() END
2015/12/18 16:07:04  DEBUG> LogicEXTM0101.InitSearch() EXシアターユーザー初期表示時検索
■SQL Data :
   Sql Command >  SELECT 
 FALSE as CHANGEKBN 
,t1.USER_CD 
,t1.PW 
,t1.USER_NM 
,t1.MAIL 
,t2.BUSHO_CD 
,CASE WHEN t1.SHONIN_FLG = '1'
 THEN TRUE 
 ELSE FALSE 
 END as SHONIN_FLG 
,CASE WHEN t1.MST_FLG = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as MST_FLG 
,CASE WHEN t1.STS = '1' 
 THEN TRUE 
 ELSE FALSE 
 END as STS 
 ,t1.ADD_DT 
 ,t1.UP_DT 
 ,'1' 
 FROM USER_MST t1 
 LEFT JOIN BUSHO_MST t2
 ON t1.BUSHO_CD = t2.BUSHO_CD 
 WHERE t1.USER_CD <> '000000'  ORDER BY USER_CD 
   Parameters Data > 
2015/12/18 16:07:04  TRACE> LogicEXTM0101.InitSearch() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.SetSheet() START
2015/12/18 16:07:04  TRACE> LogicEXTM0101.CreateBushoCmbBox() START
2015/12/18 16:07:04  TRACE> LogicEXTM0101.CreateBushoCmbBox() END
2015/12/18 16:07:04  TRACE> LogicEXTM0101.SetSheet() END
2015/12/18 16:07:04  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:07:04  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:29:45  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 16:29:45  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 16:29:45  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:29:45  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:29:51  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:29:51  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:29:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:51  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:51  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:29:51  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 16:29:51  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 16:29:51  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 16:29:51  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 16:29:51  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 16:29:51  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 16:29:51  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 16:29:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 16:29:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:29:51  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 16:29:51  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 16:29:51  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 16:29:51  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 16:29:51  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 16:29:51  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 16:29:51  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 16:29:51  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 16:29:51  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:29:51  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:29:53  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:29:53  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:29:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:53  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:53  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:29:54  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 16:29:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 16:29:54  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 16:29:54  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 16:29:54  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 16:29:54  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 16:29:54  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 16:29:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 16:29:54  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 16:29:54  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 16:29:54  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:29:54  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:29:58  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:29:58  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:29:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:58  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:29:58  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:29:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 16:29:58  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:Riyobi] 2015/12/14
      [:ShisetuKbn] 1
      [:SYANAI] 3
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/14
      [:SYANAI] 3
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00131' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 16:29:58  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 16:29:58  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 16:29:58  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 16:29:58  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 16:29:58  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 16:29:58  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:29:58  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:30:03  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:30:03  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:30:09  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 16:30:09  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 16:30:17  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:30:17  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:30:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 16:30:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 16:30:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:30:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 16:30:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 16:30:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 16:30:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 16:30:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 16:30:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 16:30:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 16:30:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 16:30:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 16:30:18  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 16:30:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 16:30:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 16:30:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 16:30:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:07:11  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 17:07:11  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 17:07:11  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:07:11  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:07:16  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:07:16  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:07:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:16  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:17  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:07:17  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 17:07:17  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 17:07:17  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 17:07:17  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 17:07:17  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 17:07:17  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 17:07:17  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 17:07:17  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 17:07:17  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 17:07:17  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 17:07:17  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 17:07:17  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 17:07:17  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 17:07:17  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 17:07:17  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 17:07:17  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 17:07:17  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 17:07:17  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:07:17  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:07:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:07:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:07:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:07:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 17:07:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:07:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 17:07:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 17:07:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 17:07:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:07:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:07:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:07:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 17:07:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:07:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 17:07:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 17:07:19  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 17:07:19  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 17:07:19  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 17:07:19  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 17:07:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:07:19  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:07:19  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:07:19  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:07:19  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:07:21  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:07:21  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:07:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:07:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:07:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:07:21  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:Riyobi] 2015/12/14
      [:ShisetuKbn] 1
      [:SYANAI] 3
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/14
      [:SYANAI] 3
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00131' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 17:07:21  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 17:07:21  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:07:21  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 17:07:21  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 17:07:21  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 17:07:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:07:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:08:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:08:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:08:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:08:18  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:08:18  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:08:18  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 17:08:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:08:18  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 17:08:18  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 17:08:18  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 17:08:18  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 17:08:18  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 17:08:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:08:18  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:08:18  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:15:15  TRACE> LogicEXTA0101.GetConfigrationFlg() START
2015/12/18 17:15:15  TRACE> LogicEXTA0101.GetConfigrationFlg() END
2015/12/18 17:15:15  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:15:15  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:15:20  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:20  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:21  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:21  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:21  TRACE> LogicEXTA0101.LoginInputCheck() START
2015/12/18 17:15:21  TRACE> LogicEXTA0101.LoginInputCheck() END
2015/12/18 17:15:21  TRACE> LogicEXTA0101.GetLoginData() START
2015/12/18 17:15:21  TRACE> SqlEXTA0101.setSelectLoginData() START
2015/12/18 17:15:21  TRACE> SqlEXTA0101.setSelectLoginData() END
2015/12/18 17:15:21  DEBUG> LogicEXTA0101.GetLoginData() ログイン情報取得
■SQL Data :
   Sql Command > select 
USER_NM, 
MAIL, 
BUSHO_CD, 
SHONIN_FLG, 
MST_FLG 
FROM 
USER_MST 
WHERE
USER_CD = :UserId 
and PW = :Password 
and STS = '0' 
   Parameters Data > 
      [:UserId] USN001
      [:Password] password
2015/12/18 17:15:21  TRACE> LogicEXTA0101.GetLoginData() END
2015/12/18 17:15:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() START
2015/12/18 17:15:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc1
■SQL Data :
   Sql Command > DELETE 
FROM 
YCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 17:15:21  DEBUG> LogicEXTA0101.DelYoyakuCtlData() Login Proc2
■SQL Data :
   Sql Command > DELETE 
FROM 
CCTL_TBL 
WHERE
USER_CD = :UserId 
   Parameters Data > 
      [:UserId] USN001
2015/12/18 17:15:21  TRACE> LogicEXTA0101.DelYoyakuCtlData() END
2015/12/18 17:15:21  TRACE> LogicEXTA0101.SetSystemProperties() START
2015/12/18 17:15:21  TRACE> SqlEXTA0101.setSelectSystemProperty() START
2015/12/18 17:15:21  TRACE> SqlEXTA0101.setSelectSystemProperty() END
2015/12/18 17:15:21  DEBUG> LogicEXTA0101.SetSystemProperties() システムプロパティ取得
■SQL Data :
   Sql Command > select 
TEIIN_A, 
TEIIN_B, 
KARI_JIZEN_TUTI 
FROM 
SYSTEM_MST 
   Parameters Data > 
2015/12/18 17:15:21  TRACE> LogicEXTA0101.SetSystemProperties() END
2015/12/18 17:15:21  TRACE> EXTA0101.btnLogin_Click() LOGIN:USN001
2015/12/18 17:15:21  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:15:21  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:15:23  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:23  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:23  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:23  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:23  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 17:15:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:15:23  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 17:15:23  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 17:15:23  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 17:15:23  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 17:15:23  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 17:15:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:15:23  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:15:23  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:15:23  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:15:23  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:15:25  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:25  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:25  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:25  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:15:25  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetYoyakuData() START
2015/12/18 17:15:25  TRACE> SqlEXTB0102.setSelectYoyakuData() START
2015/12/18 17:15:25  TRACE> SqlEXTB0102.setSelectYoyakuData() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0102.GetYoyakuData() 予約情報取得
■SQL Data :
   Sql Command > select 
t1.yoyaku_no, 
t1.kariuke_dt, 
t1.kari_usercd, 
t1.kakutei_dt, 
t1.kaku_usercd, 
t1.yoyaku_sts, 
t1.shisetu_kbn, 
t1.studio_kbn, 
t1.saiji_nm, 
t1.shutsuen_nm, 
t1.kashi_kind, 
t1.riyo_type, 
t1.drink_flg, 
t1.saiji_bunrui, 
t1.teiin, 
t1.onkyo_ope_flg, 
t1.riyosha_cd, 
t1.riyo_nm, 
t1.riyo_kana, 
t1.sekinin_busho_nm, 
t1.sekinin_nm, 
t1.sekinin_mail, 
t1.daihyo_nm, 
t1.riyo_tel11, 
t1.riyo_tel12, 
t1.riyo_tel13, 
t1.riyo_tel21, 
t1.riyo_tel22, 
t1.riyo_tel23, 
t1.riyo_naisen, 
t1.riyo_fax11, 
t1.riyo_fax12, 
t1.riyo_fax13, 
t1.riyo_yubin1, 
t1.riyo_yubin2, 
t1.riyo_todo, 
t1.riyo_shiku, 
t1.riyo_ban, 
t1.riyo_build, 
t1.riyo_lvl, 
t1.aite_cd, 
t1.onkyo_nm, 
t1.onkyo_tanto_nm, 
t1.onkyo_tel11, 
t1.onkyo_tel12, 
t1.onkyo_tel13, 
t1.onkyo_naisen, 
t1.onkyo_fax11, 
t1.onkyo_fax12, 
t1.onkyo_fax13, 
t1.onkyo_mail, 
t1.total_riyo_kin, 
t1.send_kbn, 
t1.send_sts, 
t1.send_dt, 
t1.henso_dt, 
t1.biko, 
t1.riyo_com, 
t1.ticket_enter_kbn, 
t1.ticket_drink_kbn, 
t1.hp_keisai, 
t1.joho_kokai_dt, 
t1.joho_kokai_time, 
t1.kokai_dt, 
t1.kokai_time, 
t1.finput_sts, 
to_char(t1.add_dt,'YYYY/MM/DD HH:mm') as add_dt, 
t1.add_user_cd, 
m1.user_nm as add_user_nm,
to_char(t1.up_dt,'YYYY/MM/DD HH:mm') as up_dt, 
t1.up_user_cd, 
m2.user_nm as up_user_nm, 
m3.aite_nm as aite_nm 
FROM 
YOYAKU_TBL t1
LEFT JOIN USER_MST m1
ON t1.add_user_cd = m1.user_cd
LEFT JOIN USER_MST m2
ON t1.up_user_cd = m2.user_cd
LEFT JOIN AITESAKI_MST m3
ON t1.aite_cd = m3.aite_cd
WHERE
YOYAKU_NO = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetYoyakuData() START_2
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetYoyakuData() END_2
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetYoyakuData() END
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetRiyobiData() START
2015/12/18 17:15:25  TRACE> SqlEXTB0102.setSelectRiyobiData() START
2015/12/18 17:15:25  TRACE> SqlEXTB0102.setSelectRiyobiData() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0102.GetRiyobiData() 予約日時情報取得
■SQL Data :
   Sql Command > select 
seq, 
shisetu_kbn, 
studio_kbn, 
yoyaku_dt, 
start_time, 
end_time, 
yoyaku_no, 
riyo_keitai, 
mitei_flg, 
tanka, 
bairitu, 
su, 
riyo_kin 
FROM 
YDT_TBL 
WHERE
yoyaku_no = :YoyakuNo 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> LogicEXTB0102.GetRiyobiData() END
2015/12/18 17:15:25  TRACE> LogicEXTB0103.GetApproval() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectApprovalReq() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectApprovalReq() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0103.GetApproval() 確認依頼情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.irai_dt, 'yyyy/mm/dd hh24:mi') as irai_dt, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    irai_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.irai_usercd = t2.user_cd 
WHERE yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectApprovalRes() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectApprovalRes() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0103.GetApproval() 確認記録情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    to_char(t1.check_dt, 'yyyy/mm/dd hh24:mi') as check_dt, 
    t1.check_sts, 
    t1.com, 
    t2.user_nm as user_nm 
FROM 
    check_rireki_tbl t1 
    LEFT JOIN 
        user_mst t2 
        ON  t1.check_usercd = t2.user_cd 
WHERE t1.yoyaku_no = :YoyakuNo ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> LogicEXTB0103.GetApproval() END
2015/12/18 17:15:25  TRACE> LogicEXTB0103.GetTimeSchedule() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectTimeSch() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectTimeSch() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0103.GetTimeSchedule() タイムスケジュール情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    shurui, 
    time, 
    biko 
FROM 
    time_schedule_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY time 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> LogicEXTB0103.GetTimeSchedule() END
2015/12/18 17:15:25  TRACE> LogicEXTB0103.GetTicketInfo() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectTicket() START
2015/12/18 17:15:25  TRACE> SqlEXTB0103.selectTicket() END
2015/12/18 17:15:25  DEBUG> LogicEXTB0103.GetTicketInfo() チケット情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    seq, 
    ticket_nm, 
    ticket_kin 
FROM 
    ticket_tbl 
WHERE yoyaku_no = :YoyakuNo 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:25  TRACE> SqlEXTB0103.nextValSeikyuIraiNo() START
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetTicketInfo() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetFutai() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectFutaiHeadder() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectFutaiHeadder() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.yoyaku_dt, 
    t1.fuzoku_nm, 
    t1.total_fuzoku_kin 
   ,CASE WHEN :SYANAI = '2' THEN 0 ELSE COALESCE(t2.tax_kin,0) END AS tax_kin
FROM 
    friyo_tbl t1 
LEFT JOIN ( SELECT t0.YOYAKU_NO , t0.YOYAKU_DT , sum(t0.tax_kin) AS tax_kin 
 FROM  ( SELECT CASE WHEN tt2.NOTAX_FLG = '0' THEN ROUND((tt1.FUTAI_KIN * tt3.TAX_RITU ) /100 ,0 )
                                              ELSE 0 
                END TAX_KIN 
               ,tt1.YOYAKU_NO 
               ,tt1.YOYAKU_DT 
         FROM  FRIYO_MEISAI_TBL tt1 
           LEFT OUTER JOIN  FBUNRUI_MST tt2 
                       ON   tt1.FUTAI_BUNRUI_CD = tt2.BUNRUI_CD 
                      AND   '1' = tt2.SHISETU_KBN 
                      AND   tt1.YOYAKU_DT BETWEEN tt2.KIKAN_FROM AND tt2.KIKAN_TO 
           LEFT OUTER JOIN  TAX_MST tt3 
                       ON   tt1.YOYAKU_DT BETWEEN tt3.TAXS_DT AND tt3.TAXE_DT 
        ) t0 
 GROUP BY t0.YOYAKU_NO , t0.YOYAKU_DT 
       ) t2 
      ON  t1.YOYAKU_NO = t2.YOYAKU_NO 
     AND  t1.YOYAKU_DT = t2.YOYAKU_DT 
WHERE t1.yoyaku_no = :YoyakuNo 
 AND  t1.yoyaku_dt = :Riyobi 
ORDER BY add_dt 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:Riyobi] 2015/12/14
      [:ShisetuKbn] 1
      [:SYANAI] 3
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectFutaiDetail() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectFutaiDetail() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetFutai() 付帯情報取得
■SQL Data :
   Sql Command > SELECT 
    '' as yoyaku_no,  
    :Riyobi as yoyaku_dt,  
    m1.bunrui_cd as futai_bunrui_cd, 
    m1.futai_cd, 
    m1.tanka as futai_tanka, 
    1 as futai_su, 
    m1.tanka as futai_shokei, 
    0 as futai_chosei, 
    m1.tanka as futai_kin, 
    '' as futai_biko, 
    m1.futai_nm, 
    m1.tani as futai_tani, 
    m2.bunrui_nm as futai_bunrui_nm, 
    m2.shukei_grp, 
    m2.kamoku_cd, 
    m2.saimoku_cd, 
    m2.uchi_cd, 
    m2.shosai_cd, 
    m2.karikamoku_cd, 
    m2.kari_saimoku_cd, 
    m2.kari_uchi_cd, 
    m2.kari_shosai_cd, 
    m2.notax_flg, 
    m3.kamoku_nm, 
    m3.saimoku_nm, 
    m3.uchi_nm, 
    m3.shosai_nm 
   ,CASE WHEN :SYANAI = '2' THEN  0
                            ELSE 
                                      CASE WHEN m2.NOTAX_FLG = '0' THEN ROUND((m1.TANKA * m4.tax_ritu) /100 ,0)
                                      ELSE 0 
                               END 
    END  AS TAX_KIN 
FROM 
    futai_mst m1 
LEFT JOIN fbunrui_mst m2 
    ON m1.bunrui_cd = m2.bunrui_cd 
    AND m2.shisetu_kbn = :ShisetuKbn 
    AND :Riyobi BETWEEN m2.kikan_from AND m2.kikan_to 
    AND m2.sts = '0' 
LEFT JOIN kamoku_mst m3 
    ON m2.kamoku_cd = m3.kamoku_cd 
    AND m2.saimoku_cd = m3.saimoku_cd 
    AND m2.uchi_cd = m3.uchi_cd 
    AND m2.shosai_cd = m3.shosai_cd 
    AND m3.sts = '0' 
LEFT OUTER JOIN  TAX_MST m4 
    ON  :Riyobi BETWEEN m4.TAXS_DT AND m4.TAXE_DT 
WHERE 
    m1.def_flg = '1' 
AND m1.sts = '0' 
AND :Riyobi BETWEEN m1.kikan_from AND m1.kikan_to 
AND m1.shisetu_kbn = :ShisetuKbn 
ORDER BY 
    m1.sort 
   Parameters Data > 
      [:YoyakuNo] T00131
      [:ShisetuKbn] 1
      [:Riyobi] 2015/12/14
      [:SYANAI] 3
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetFutai() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetTax() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectTax() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectTax() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetTax() TAX = 0.08
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetTax() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetBillReq() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectBillReq() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectBillReq() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetBillReq() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_dt, 
    t1.nyukin_yotei_dt, 
    t1.kakutei_kin, 
    t1.chosei_kin, 
    t1.shokei, 
    t1.tax_kin, 
    t1.seikyu_kin, 
    t1.seikyu_naiyo, 
    CASE WHEN t1.seikyu_naiyo='1' THEN '利用料' WHEN t1.seikyu_naiyo='2' THEN '付帯設備'
         WHEN t1.seikyu_naiyo='3' THEN '利用料+付帯設備' WHEN t1.seikyu_naiyo='4' THEN '還付' ELSE '' END as seikyu_naiyo_nm, 
    t1.aite_cd, 
    m1.aite_nm, 
    t1.nyukin_kbn, 
    t1.seikyu_title1, 
    t1.seikyu_title2, 
    t1.nyukin_dt, 
    t1.nyukin_kin, 
    t1.seikyu_input_flg, 
    t1.seikyu_irai_flg, 
    t1.nyukin_input_flg, 
    t1.nyukin_link_no
FROM 
    BILLPAY_TBL t1 
LEFT JOIN AITESAKI_MST m1 
    ON t1.aite_cd = m1.aite_cd 
WHERE t1.yoyaku_no = :YoyakuNo 
ORDER BY t1.seq 
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetBillReq() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetExasRiyoryo() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectExasRiyoryo() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectExasRiyoryo() END
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectExasFutai() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selecContents() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selecContents() END
■SQL Data :
   Sql Command > SELECT 
    m1.event_cd, 
    m1.event_nm, 
    m2.content_uchi_cd, 
    m2.content_uchi_nm 
FROM CONTENT_MST m1 
LEFT JOIN CONTENT_UCHI_MST m2 
    ON m1.event_cd = m2.content_cd 
WHERE (m1.del_flg <> '1' OR m1.del_flg is null ) 
    AND (m2.del_flg <> '1' OR m2.del_flg is null ) 
    AND :Riyobi BETWEEN m1.strat_dt AND m1.end_dt 
    AND :ContentUchiNm = m2.content_uchi_nm 
   Parameters Data > 
      [:ContentUchiNm] 貸館２０１５年１２月
      [:Riyobi] 20151214
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectExasFutai() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetExasRiyoryo() EXASプロジェクト情報取得
■SQL Data :
   Sql Command > SELECT 
    t1.yoyaku_no, 
    t1.seq, 
    t1.seikyu_irai_no, 
    t1.seikyu_irai_seq, 
    t1.seikyu_naiyo, 
    t1.riyo_ym, 
    t1.shukei_grp, 
    t2.kamoku_nm, 
    t2.saimoku_nm, 
    t2.uchi_nm, 
    t2.shosai_nm, 
    t1.keijo_kin, 
    t1.tax_kin, 
    t1.tekiyo1, 
    t1.tekiyo2, 
    t3.event_nm, 
    t4.content_uchi_nm, 
    t1.kamoku_cd, 
    t1.saimoku_cd, 
    t1.uchi_cd, 
    t1.shosai_cd, 
    t1.content_cd, 
    t1.content_uchi_cd, 
    t1.shukei_grp, 
    t2.karikamoku_cd, 
    t2.kari_saimoku_cd, 
    t2.kari_uchi_cd, 
    t2.kari_shosai_cd 
FROM 
    project_tbl t1 
    LEFT JOIN 
        kamoku_mst t2 
    ON  t1.kamoku_cd = t2.kamoku_cd 
    AND t1.saimoku_cd = t2.saimoku_cd 
    AND t1.uchi_cd = t2.uchi_cd 
    AND t1.shosai_cd = t2.shosai_cd 
    LEFT JOIN 
        content_mst t3 
    ON  t1.content_cd = t3.event_cd 
    LEFT JOIN 
        content_uchi_mst t4 
    ON  t1.content_cd = t4.content_cd 
    AND t1.content_uchi_cd = t4.content_uchi_cd 
WHERE 
    ( 
        t1.seikyu_naiyo = '2' 
    OR  t1.seikyu_naiyo = '3' 
    ) 
AND t1.yoyaku_no = :YoyakuNo 
AND t1.seikyu_irai_no = :SeikyuIraiNo 
 ORDER BY 
   t1.riyo_ym ASC , t1.shukei_grp ASC 
   Parameters Data > 
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetExasRiyoryo() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetNyukin() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectNyukin() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectNyukin() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetNyukin() 請求情報取得
■SQL Data :
   Sql Command > SELECT 
    yoyaku_no, 
    aite_cd, 
    aite_nm, 
    nyukin_yotei_dt, 
    nyukin_dt, 
    seikyu_kin, 
    seikyu_dt, 
    input_dt, 
    sekikyu_no, 
    seikyu_irai_no, 
    seikyu_kin, 
    nyukin_link_no, 
    :LineNo as line_no 
FROM 
    exas_nyukin_tbl 
WHERE 1 = 1 AND yoyaku_no = 'T00131' 
AND seikyu_irai_no = '' 

   Parameters Data > 
      [:LineNo] 1
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetNyukin() END
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectCashElectro() START
2015/12/18 17:15:26  TRACE> SqlEXTB0103.selectCashElectro() END
2015/12/18 17:15:26  DEBUG> LogicEXTB0103.GetCashAndElectroMoney() 現金電子マネー情報取得
■SQL Data :
   Sql Command > SELECT  DISTINCT 
    t2.regi_nm, 
    t3.tenpo_nm, 
    t1.deposit_amount 
FROM  ( SELECT 
            yoyaku_no, 
            register_cd, 
            SUM(deposit_amount) deposit_amount 
        FROM  ALSOK_DEPOSIT_TBL 
        GROUP BY 
            yoyaku_no, 
            register_cd 
      ) t1 
  LEFT OUTER  JOIN  ALSOK_DEPOSIT_TBL t0 
        ON  t1.yoyaku_no   = t0.yoyaku_no 
        AND t1.register_cd = t0.register_cd 
  LEFT JOIN  ALSOK_TENPO_MST t2 
        ON  t1.register_cd = t2.regi_cd 
  LEFT JOIN  TENPO_MST t3 
        ON  t0.tenpo_cd = t3.tenpo_cd 
WHERE 
    t1.yoyaku_no = :YoyakuNo 
ORDER BY 
    t2.regi_nm
   Parameters Data > 
      [:YoyakuNo] T00131
2015/12/18 17:15:26  TRACE> LogicEXTB0103.GetCashAndElectroMoney() END
2015/12/18 17:15:26  TRACE> LogicEXTB0102.GetSekininshaList() START
2015/12/18 17:15:26  TRACE> SqlEXTB0102.setSelectSekininName() START
2015/12/18 17:15:26  TRACE> SqlEXTB0102.setSelectSekininName() END
2015/12/18 17:15:26  TRACE> CommonLogicEXT.SetFormBackColor() START
2015/12/18 17:15:26  TRACE> CommonLogicEXT.SetFormBackColor() END
2015/12/18 17:15:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:15:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:15:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() START
2015/12/18 17:15:49  TRACE> LogicEXTZ0202.DeleteYoyakuCtlShisetuData() END
2015/12/18 17:15:49  TRACE> CommonLogicEXT.CheckDBCondition() START
2015/12/18 17:15:49  TRACE> CommonLogicEXT.NetUseConect() START
2015/12/18 17:15:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:50  TRACE> CommonLogicEXT.NetUseConectDel() START
2015/12/18 17:15:50  TRACE> CommonLogicEXT.CheckDBCondition() END
2015/12/18 17:15:50  TRACE> LogicEXTB0101.MakeSpread() START
2015/12/18 17:15:50  TRACE> LogicEXTB0101.MakeSpread() END
2015/12/18 17:15:50  TRACE> LogicEXTB0101.GetSpreadData() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectShukusaijitsu() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
  HOLIDAY_DT
from
  HOLIDAY_MST 
where
  substr(HOLIDAY_DT,1,7) = :HOLIDAY_DT
   Parameters Data > 
      [:HOLIDAY_DT] 2015/12
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectYoyakuList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectYoyakuList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select 
   a.SHISETU_KBN
  ,a.STUDIO_KBN
  ,a.YOYAKU_DT
  ,a.START_TIME
  ,a.END_TIME
  ,a.YOYAKU_NO
  ,a.MITEI_FLG
  ,b.STUDIO_KBN  
  ,b.SAIJI_NM
  ,b.SHUTSUEN_NM
  ,b.YOYAKU_STS
  ,a.RIYO_KEITAI
  ,c.RIYO_NM
from
  YDT_TBL a
left join YOYAKU_TBL b on(
  a.YOYAKU_NO = b.YOYAKU_NO
)
left join RIYOSHA_MST c on(
  b.RIYOSHA_CD = c.RIYOSHA_CD
)
where
  a.SHISETU_KBN = '1'
  and substr(a.YOYAKU_DT,1,7) = :YOYAKU_DT
  and b.YOYAKU_STS IN ('1', '2', '3', '4')
order by a.YOYAKU_DT, a.START_TIME
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectMikakuYoyakuList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  YCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and a.RIYO_DT_FLG = :RIYO_DT_FLG
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:RIYO_DT_FLG] 1
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 1
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectMikakuCancelWaitList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   USER_CD
  ,SHISETU_KBN
  ,STUDIO_KBN
  ,YOYAKU_DT
from
  CCTL_TBL
where
  SHISETU_KBN = '1'
  and substr(YOYAKU_DT,1,7) = :YOYAKU_DT
   Parameters Data > 
      [:YOYAKU_DT] 2015/12
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectCancelList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
a.SHISETU_KBN
,a.STUDIO_KBN
,a.RIYO_DT_FLG
,a.RIYO_YM
,a.RIYO_DT
,a.CANCEL_WAIT_NO
,a.START_TIME
,a.END_TIME
,a.RIYO_MEMO
,a.WAKU_NO
  ,a.MITEI_FLG
,b.SAIJI_NM
,b.RIYO_NM
from
CANCEL_WAIT_DT_TBL a
inner join CANCEL_WAIT_TBL b on(
a.CANCEL_WAIT_NO = b.CANCEL_WAIT_NO
)
where
a.RIYO_YM = :RIYO_YM
and a.SHISETU_KBN = '1'
and b.CANCEL_WAIT_STS = :CANCEL_WAIT_STS
order by 
a.RIYO_DT, a.WAKU_NO
   Parameters Data > 
      [:RIYO_YM] 2015/12
      [:CANCEL_WAIT_STS] 3
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectEtcUsedYoyakuList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
   RIYO_DT
  ,START_TIME
  ,END_TIME
  ,RIYO_BASHO
  ,RIYO_YOTO
  ,RIYOSHA
from
  SONOTA_DT_TBL
where
  substr(RIYO_DT,1,7) = :RIYO_DT
   Parameters Data > 
      [:RIYO_DT] 2015/12
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() START
2015/12/18 17:15:50  TRACE> SqlEXTB0101.setSelectKyukanMainteList() END
2015/12/18 17:15:50  DEBUG> LogicEXTB0101.GetSpreadData() 
■SQL Data :
   Sql Command > select
  HOLMENT_DT
  ,SHISETU_KBN
  ,MNAIYO
  ,HOLMENT_KBN
from
  HOLMENT_MST
where
  SHISETU_KBN = '1'
  and substr(HOLMENT_DT,1,7) = :HOLMENT_DT
   Parameters Data > 
      [:HOLMENT_DT] 2015/12
2015/12/18 17:15:50  TRACE> LogicEXTB0101.GetSpreadData() END
2015/12/18 17:15:50  TRACE> LogicEXTB0101.ViewSpreadData() START
2015/12/18 17:15:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:15:50  TRACE> LogicEXTB0101.ViewSpreadData() END
2015/12/18 17:15:50  TRACE> LogicEXTB0101.MakeSpread() END
